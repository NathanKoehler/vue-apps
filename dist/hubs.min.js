function e(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const t=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function n(e){return!!e||""===e}function r(e){if(x(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=N(i)?a(i):r(i);if(s)for(const e in s)t[e]=s[e]}return t}return N(e)||T(e)?e:void 0}const i=/;(?![^(]*\))/g,s=/:(.+)/;function a(e){const t={};return e.split(i).forEach((e=>{if(e){const n=e.split(s);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function o(e){let t="";if(N(e))t=e;else if(x(e))for(let n=0;n<e.length;n++){const r=o(e[n]);r&&(t+=r+" ")}else if(T(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const u=e=>null==e?"":x(e)||T(e)&&(e.toString===C||!E(e.toString))?JSON.stringify(e,c,2):String(e),c=(e,t)=>t&&t.__v_isRef?c(e,t.value):_(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:M(t)?{[`Set(${t.size})`]:[...t.values()]}:!T(t)||x(t)||R(t)?t:String(t),l={},h=[],p=()=>{},f=()=>!1,d=/^on[^a-z]/,m=e=>d.test(e),g=e=>e.startsWith("onUpdate:"),v=Object.assign,y=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},w=Object.prototype.hasOwnProperty,b=(e,t)=>w.call(e,t),x=Array.isArray,_=e=>"[object Map]"===A(e),M=e=>"[object Set]"===A(e),E=e=>"function"==typeof e,N=e=>"string"==typeof e,S=e=>"symbol"==typeof e,T=e=>null!==e&&"object"==typeof e,O=e=>T(e)&&E(e.then)&&E(e.catch),C=Object.prototype.toString,A=e=>C.call(e),R=e=>"[object Object]"===A(e),k=e=>N(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,z=e(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),D=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},I=/-(\w)/g,L=D((e=>e.replace(I,((e,t)=>t?t.toUpperCase():"")))),B=/\B([A-Z])/g,P=D((e=>e.replace(B,"-$1").toLowerCase())),F=D((e=>e.charAt(0).toUpperCase()+e.slice(1))),j=D((e=>e?`on${F(e)}`:"")),U=(e,t)=>!Object.is(e,t),q=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},V=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},H=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let $;const W=()=>$||($="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});let G;const Y=[];class Z{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&G&&(this.parent=G,this.index=(G.scopes||(G.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(Y.push(this),G=this)}off(){this.active&&(Y.pop(),G=Y[Y.length-1])}stop(e){if(this.active){if(this.effects.forEach((e=>e.stop())),this.cleanups.forEach((e=>e())),this.scopes&&this.scopes.forEach((e=>e.stop(!0))),this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}const X=e=>{const t=new Set(e);return t.w=0,t.n=0,t},J=e=>(e.w&te)>0,Q=e=>(e.n&te)>0,K=new WeakMap;let ee=0,te=1;const ne=[];let re;const ie=Symbol(""),se=Symbol("");class ae{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],function(e,t){(t=t||G)&&t.active&&t.effects.push(e)}(this,n)}run(){if(!this.active)return this.fn();if(!ne.includes(this))try{return ne.push(re=this),ce.push(ue),ue=!0,te=1<<++ee,ee<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=te})(this):oe(this),this.fn()}finally{ee<=30&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];J(i)&&!Q(i)?i.delete(e):t[n++]=i,i.w&=~te,i.n&=~te}t.length=n}})(this),te=1<<--ee,he(),ne.pop();const e=ne.length;re=e>0?ne[e-1]:void 0}}stop(){this.active&&(oe(this),this.onStop&&this.onStop(),this.active=!1)}}function oe(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let ue=!0;const ce=[];function le(){ce.push(ue),ue=!1}function he(){const e=ce.pop();ue=void 0===e||e}function pe(e,t,n){if(!fe())return;let r=K.get(e);r||K.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=X()),de(i)}function fe(){return ue&&void 0!==re}function de(e,t){let n=!1;ee<=30?Q(e)||(e.n|=te,n=!J(e)):n=!e.has(re),n&&(e.add(re),re.deps.push(e))}function me(e,t,n,r,i,s){const a=K.get(e);if(!a)return;let o=[];if("clear"===t)o=[...a.values()];else if("length"===n&&x(e))a.forEach(((e,t)=>{("length"===t||t>=r)&&o.push(e)}));else switch(void 0!==n&&o.push(a.get(n)),t){case"add":x(e)?k(n)&&o.push(a.get("length")):(o.push(a.get(ie)),_(e)&&o.push(a.get(se)));break;case"delete":x(e)||(o.push(a.get(ie)),_(e)&&o.push(a.get(se)));break;case"set":_(e)&&o.push(a.get(ie))}if(1===o.length)o[0]&&ge(o[0]);else{const e=[];for(const t of o)t&&e.push(...t);ge(X(e))}}function ge(e,t){for(const t of x(e)?e:[...e])(t!==re||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const ve=e("__proto__,__v_isRef,__isVue"),ye=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(S)),we=Ee(),be=Ee(!1,!0),xe=Ee(!0),_e=Me();function Me(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=ct(this);for(let e=0,t=this.length;e<t;e++)pe(n,0,e+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(ct)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){le();const n=ct(this)[t].apply(this,e);return he(),n}})),e}function Ee(e=!1,t=!1){return function(n,r,i){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&i===(e?t?tt:et:t?Ke:Qe).get(n))return n;const s=x(n);if(!e&&s&&b(_e,r))return Reflect.get(_e,r,i);const a=Reflect.get(n,r,i);if(S(r)?ye.has(r):ve(r))return a;if(e||pe(n,0,r),t)return a;if(ht(a)){return!s||!k(r)?a.value:a}return T(a)?e?it(a):rt(a):a}}function Ne(e=!1){return function(t,n,r,i){let s=t[n];if(!e&&(r=ct(r),s=ct(s),!x(t)&&ht(s)&&!ht(r)))return s.value=r,!0;const a=x(t)&&k(n)?Number(n)<t.length:b(t,n),o=Reflect.set(t,n,r,i);return t===ct(i)&&(a?U(r,s)&&me(t,"set",n,r):me(t,"add",n,r)),o}}const Se={get:we,set:Ne(),deleteProperty:function(e,t){const n=b(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&me(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return S(t)&&ye.has(t)||pe(e,0,t),n},ownKeys:function(e){return pe(e,0,x(e)?"length":ie),Reflect.ownKeys(e)}},Te={get:xe,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},Oe=v({},Se,{get:be,set:Ne(!0)}),Ce=e=>T(e)?rt(e):e,Ae=e=>T(e)?it(e):e,Re=e=>e,ke=e=>Reflect.getPrototypeOf(e);function ze(e,t,n=!1,r=!1){const i=ct(e=e.__v_raw),s=ct(t);t!==s&&!n&&pe(i,0,t),!n&&pe(i,0,s);const{has:a}=ke(i),o=r?Re:n?Ae:Ce;return a.call(i,t)?o(e.get(t)):a.call(i,s)?o(e.get(s)):void(e!==i&&e.get(t))}function De(e,t=!1){const n=this.__v_raw,r=ct(n),i=ct(e);return e!==i&&!t&&pe(r,0,e),!t&&pe(r,0,i),e===i?n.has(e):n.has(e)||n.has(i)}function Ie(e,t=!1){return e=e.__v_raw,!t&&pe(ct(e),0,ie),Reflect.get(e,"size",e)}function Le(e){e=ct(e);const t=ct(this);return ke(t).has.call(t,e)||(t.add(e),me(t,"add",e,e)),this}function Be(e,t){t=ct(t);const n=ct(this),{has:r,get:i}=ke(n);let s=r.call(n,e);s||(e=ct(e),s=r.call(n,e));const a=i.call(n,e);return n.set(e,t),s?U(t,a)&&me(n,"set",e,t):me(n,"add",e,t),this}function Pe(e){const t=ct(this),{has:n,get:r}=ke(t);let i=n.call(t,e);i||(e=ct(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&me(t,"delete",e,void 0),s}function Fe(){const e=ct(this),t=0!==e.size,n=e.clear();return t&&me(e,"clear",void 0,void 0),n}function je(e,t){return function(n,r){const i=this,s=i.__v_raw,a=ct(s),o=t?Re:e?Ae:Ce;return!e&&pe(a,0,ie),s.forEach(((e,t)=>n.call(r,o(e),o(t),i)))}}function Ue(e,t,n){return function(...r){const i=this.__v_raw,s=ct(i),a=_(s),o="entries"===e||e===Symbol.iterator&&a,u="keys"===e&&a,c=i[e](...r),l=n?Re:t?Ae:Ce;return!t&&pe(s,0,u?se:ie),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:o?[l(e[0]),l(e[1])]:l(e),done:t}},[Symbol.iterator](){return this}}}}function qe(e){return function(...t){return"delete"!==e&&this}}function Ve(){const e={get(e){return ze(this,e)},get size(){return Ie(this)},has:De,add:Le,set:Be,delete:Pe,clear:Fe,forEach:je(!1,!1)},t={get(e){return ze(this,e,!1,!0)},get size(){return Ie(this)},has:De,add:Le,set:Be,delete:Pe,clear:Fe,forEach:je(!1,!0)},n={get(e){return ze(this,e,!0)},get size(){return Ie(this,!0)},has(e){return De.call(this,e,!0)},add:qe("add"),set:qe("set"),delete:qe("delete"),clear:qe("clear"),forEach:je(!0,!1)},r={get(e){return ze(this,e,!0,!0)},get size(){return Ie(this,!0)},has(e){return De.call(this,e,!0)},add:qe("add"),set:qe("set"),delete:qe("delete"),clear:qe("clear"),forEach:je(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((i=>{e[i]=Ue(i,!1,!1),n[i]=Ue(i,!0,!1),t[i]=Ue(i,!1,!0),r[i]=Ue(i,!0,!0)})),[e,n,t,r]}const[He,$e,We,Ge]=Ve();function Ye(e,t){const n=t?e?Ge:We:e?$e:He;return(t,r,i)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(b(n,r)&&r in t?n:t,r,i)}const Ze={get:Ye(!1,!1)},Xe={get:Ye(!1,!0)},Je={get:Ye(!0,!1)},Qe=new WeakMap,Ke=new WeakMap,et=new WeakMap,tt=new WeakMap;function nt(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>A(e).slice(8,-1))(e))}function rt(e){return e&&e.__v_isReadonly?e:st(e,!1,Se,Ze,Qe)}function it(e){return st(e,!0,Te,Je,et)}function st(e,t,n,r,i){if(!T(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const a=nt(e);if(0===a)return e;const o=new Proxy(e,2===a?r:n);return i.set(e,o),o}function at(e){return ot(e)?at(e.__v_raw):!(!e||!e.__v_isReactive)}function ot(e){return!(!e||!e.__v_isReadonly)}function ut(e){return at(e)||ot(e)}function ct(e){const t=e&&e.__v_raw;return t?ct(t):e}function lt(e){return V(e,"__v_skip",!0),e}function ht(e){return Boolean(e&&!0===e.__v_isRef)}function pt(e){return ht(e)?e.value:e}const ft={get:(e,t,n)=>pt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return ht(i)&&!ht(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function dt(e){return at(e)?e:new Proxy(e,ft)}class mt{constructor(e,t,n){this._setter=t,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new ae(e,(()=>{var e;this._dirty||(this._dirty=!0,(e=ct(e=this)).dep&&ge(e.dep))})),this.__v_isReadonly=n}get value(){const e=ct(this);var t;return t=e,fe()&&((t=ct(t)).dep||(t.dep=X()),de(t.dep)),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function gt(e,t){let n,r;E(e)?(n=e,r=p):(n=e.get,r=e.set);return new mt(n,r,E(e)||!e.set)}let vt;Promise.resolve();const yt=xt("component:added"),wt=xt("component:updated"),bt=xt("component:removed");function xt(e){return t=>{vt&&vt.emit(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function _t(e,t,...n){const r=e.vnode.props||l;let i=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in r){const e=`${"modelValue"===a?"model":a}Modifiers`,{number:t,trim:s}=r[e]||l;s?i=n.map((e=>e.trim())):t&&(i=n.map(H))}let o;__VUE_PROD_DEVTOOLS__&&function(e,t,n){vt&&vt.emit("component:emit",e.appContext.app,e,t,n)}(e,t,i);let u=r[o=j(t)]||r[o=j(L(t))];!u&&s&&(u=r[o=j(P(t))]),u&&wr(u,e,6,i);const c=r[o+"Once"];if(c){if(e.emitted){if(e.emitted[o])return}else e.emitted={};e.emitted[o]=!0,wr(c,e,6,i)}}function Mt(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(void 0!==i)return i;const s=e.emits;let a={},o=!1;if(__VUE_OPTIONS_API__&&!E(e)){const r=e=>{const n=Mt(e,t,!0);n&&(o=!0,v(a,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return s||o?(x(s)?s.forEach((e=>a[e]=null)):v(a,s),r.set(e,a),a):(r.set(e,null),null)}function Et(e,t){return!(!e||!m(t))&&(t=t.slice(2).replace(/Once$/,""),b(e,t[0].toLowerCase()+t.slice(1))||b(e,P(t))||b(e,t))}let Nt=null,St=null;function Tt(e){const t=Nt;return Nt=e,St=e&&e.type.__scopeId||null,t}function Ot(e){St=e}function Ct(){St=null}function At(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:o,attrs:u,emit:c,render:l,renderCache:h,data:p,setupState:f,ctx:d,inheritAttrs:m}=e;let v;const y=Tt(e);try{let e;if(4&n.shapeFlag){const t=i||r;v=nr(l.call(t,t,h,s,f,p,d)),e=u}else{const n=t;0,v=nr(n.length>1?n(s,{attrs:u,slots:o,emit:c}):n(s,null)),e=t.props?u:Rt(u)}let y=v;if(e&&!1!==m){const t=Object.keys(e),{shapeFlag:n}=y;t.length&&7&n&&(a&&t.some(g)&&(e=kt(e,a)),y=Qn(y,e))}0,n.dirs&&(y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),v=y}catch(t){Pn.length=0,br(t,e,1),v=Jn(Ln)}return Tt(y),v}const Rt=e=>{let t;for(const n in e)("class"===n||"style"===n||m(n))&&((t||(t={}))[n]=e[n]);return t},kt=(e,t)=>{const n={};for(const r in e)g(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function zt(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!Et(n,s))return!0}return!1}function Dt(e,t,n=!1){const r=lr||Nt;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&E(t)?t.call(r.proxy):t}}const It=e=>!!e.type.__asyncLoader,Lt=e=>e.type.__isKeepAlive;function Bt(e,t){Ft(e,"a",t)}function Pt(e,t){Ft(e,"da",t)}function Ft(e,t,n=lr){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}e()});if(Ut(t,r,n),n){let e=n.parent;for(;e&&e.parent;)Lt(e.parent.vnode)&&jt(r,t,n,e),e=e.parent}}function jt(e,t,n,r){const i=Ut(t,e,r,!0);Yt((()=>{y(r[t],i)}),n)}function Ut(e,t,n=lr,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;le(),hr(n);const i=wr(t,n,e,r);return pr(),he(),i});return r?i.unshift(s):i.push(s),s}}const qt=e=>(t,n=lr)=>(!dr||"sp"===e)&&Ut(e,t,n),Vt=qt("bm"),Ht=qt("m"),$t=qt("bu"),Wt=qt("u"),Gt=qt("bum"),Yt=qt("um"),Zt=qt("sp"),Xt=qt("rtg"),Jt=qt("rtc");function Qt(e,t=lr){Ut("ec",e,t)}let Kt=!0;function en(e){const t=rn(e),n=e.proxy,r=e.ctx;Kt=!1,t.beforeCreate&&tn(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:a,watch:o,provide:u,inject:c,created:l,beforeMount:h,mounted:f,beforeUpdate:d,updated:m,activated:g,deactivated:v,beforeDestroy:y,beforeUnmount:w,destroyed:b,unmounted:_,render:M,renderTracked:N,renderTriggered:S,errorCaptured:O,serverPrefetch:C,expose:A,inheritAttrs:R,components:k,directives:z,filters:D}=t;if(c&&function(e,t,n=p,r=!1){x(e)&&(e=un(e));for(const n in e){const i=e[n];let s;s=T(i)?"default"in i?Dt(i.from||n,i.default,!0):Dt(i.from||n):Dt(i),ht(s)&&r?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e}):t[n]=s}}(c,r,null,e.appContext.config.unwrapInjectedRef),a)for(const e in a){const t=a[e];E(t)&&(r[e]=t.bind(n))}if(i){const t=i.call(n,n);T(t)&&(e.data=rt(t))}if(Kt=!0,s)for(const e in s){const t=s[e],i=gt({get:E(t)?t.bind(n,n):E(t.get)?t.get.bind(n,n):p,set:!E(t)&&E(t.set)?t.set.bind(n):p});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e})}if(o)for(const e in o)nn(o[e],r,n,e);if(u){const e=E(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{!function(e,t){if(lr){let n=lr.provides;const r=lr.parent&&lr.parent.provides;r===n&&(n=lr.provides=Object.create(r)),n[e]=t}}(t,e[t])}))}function I(e,t){x(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(l&&tn(l,e,"c"),I(Vt,h),I(Ht,f),I($t,d),I(Wt,m),I(Bt,g),I(Pt,v),I(Qt,O),I(Jt,N),I(Xt,S),I(Gt,w),I(Yt,_),I(Zt,C),x(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});M&&e.render===p&&(e.render=M),null!=R&&(e.inheritAttrs=R),k&&(e.components=k),z&&(e.directives=z)}function tn(e,t,n){wr(x(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function nn(e,t,n,r){const i=r.includes(".")?Wr(n,r):()=>n[r];if(N(e)){const n=t[e];E(n)&&Vr(i,n)}else if(E(e))Vr(i,e.bind(n));else if(T(e))if(x(e))e.forEach((e=>nn(e,t,n,r)));else{const r=E(e.handler)?e.handler.bind(n):t[e.handler];E(r)&&Vr(i,r,e)}}function rn(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,o=s.get(t);let u;return o?u=o:i.length||n||r?(u={},i.length&&i.forEach((e=>sn(u,e,a,!0))),sn(u,t,a)):u=t,s.set(t,u),u}function sn(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&sn(e,s,n,!0),i&&i.forEach((t=>sn(e,t,n,!0)));for(const i in t)if(r&&"expose"===i);else{const r=an[i]||n&&n[i];e[i]=r?r(e[i],t[i]):t[i]}return e}const an={data:on,props:ln,emits:ln,methods:ln,computed:ln,beforeCreate:cn,created:cn,beforeMount:cn,mounted:cn,beforeUpdate:cn,updated:cn,beforeDestroy:cn,beforeUnmount:cn,destroyed:cn,unmounted:cn,activated:cn,deactivated:cn,errorCaptured:cn,serverPrefetch:cn,components:ln,directives:ln,watch:function(e,t){if(!e)return t;if(!t)return e;const n=v(Object.create(null),e);for(const r in t)n[r]=cn(e[r],t[r]);return n},provide:on,inject:function(e,t){return ln(un(e),un(t))}};function on(e,t){return t?e?function(){return v(E(e)?e.call(this,this):e,E(t)?t.call(this,this):t)}:t:e}function un(e){if(x(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function cn(e,t){return e?[...new Set([].concat(e,t))]:t}function ln(e,t){return e?v(v(Object.create(null),e),t):t}function hn(e,t,n,r=!1){const i={},s={};V(s,Gn,1),e.propsDefaults=Object.create(null),pn(e,t,i,s);for(const t in e.propsOptions[0])t in i||(i[t]=void 0);n?e.props=r?i:st(i,!1,Oe,Xe,Ke):e.type.props?e.props=i:e.props=s,e.attrs=s}function pn(e,t,n,r){const[i,s]=e.propsOptions;let a,o=!1;if(t)for(let u in t){if(z(u))continue;const c=t[u];let l;i&&b(i,l=L(u))?s&&s.includes(l)?(a||(a={}))[l]=c:n[l]=c:Et(e.emitsOptions,u)||c!==r[u]&&(r[u]=c,o=!0)}if(s){const t=ct(n),r=a||l;for(let a=0;a<s.length;a++){const o=s[a];n[o]=fn(i,t,o,r[o],e,!b(r,o))}}return o}function fn(e,t,n,r,i,s){const a=e[n];if(null!=a){const e=b(a,"default");if(e&&void 0===r){const e=a.default;if(a.type!==Function&&E(e)){const{propsDefaults:s}=i;n in s?r=s[n]:(hr(i),r=s[n]=e.call(null,t),pr())}else r=e}a[0]&&(s&&!e?r=!1:!a[1]||""!==r&&r!==P(n)||(r=!0))}return r}function dn(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const s=e.props,a={},o=[];let u=!1;if(__VUE_OPTIONS_API__&&!E(e)){const r=e=>{u=!0;const[n,r]=dn(e,t,!0);v(a,n),r&&o.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!s&&!u)return r.set(e,h),h;if(x(s))for(let e=0;e<s.length;e++){const t=L(s[e]);mn(t)&&(a[t]=l)}else if(s)for(const e in s){const t=L(e);if(mn(t)){const n=s[e],r=a[t]=x(n)||E(n)?{type:n}:n;if(r){const e=yn(Boolean,r.type),n=yn(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||b(r,"default"))&&o.push(t)}}}const c=[a,o];return r.set(e,c),c}function mn(e){return"$"!==e[0]}function gn(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function vn(e,t){return gn(e)===gn(t)}function yn(e,t){return x(t)?t.findIndex((t=>vn(t,e))):E(t)&&vn(t,e)?0:-1}const wn=e=>"_"===e[0]||"$stable"===e,bn=e=>x(e)?e.map(nr):[nr(e)],xn=(e,t,n)=>{const r=function(e,t=Nt,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&qn(-1);const i=Tt(t),s=e(...n);return Tt(i),r._d&&qn(1),__VUE_PROD_DEVTOOLS__&&wt(t),s};return r._n=!0,r._c=!0,r._d=!0,r}(((...e)=>bn(t(...e))),n);return r._c=!1,r},_n=(e,t,n)=>{const r=e._ctx;for(const n in e){if(wn(n))continue;const i=e[n];if(E(i))t[n]=xn(0,i,r);else if(null!=i){const e=bn(i);t[n]=()=>e}}},Mn=(e,t)=>{const n=bn(t);e.slots.default=()=>n};function En(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let u=o.dir[r];u&&(le(),wr(u,n,8,[e.el,o,e,t]),he())}}function Nn(){return{app:null,config:{isNativeTag:f,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Sn=0;function Tn(e,t){return function(n,r=null){null==r||T(r)||(r=null);const i=Nn(),s=new Set;let a=!1;const o=i.app={_uid:Sn++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Yr,get config(){return i.config},set config(e){},use:(e,...t)=>(s.has(e)||(e&&E(e.install)?(s.add(e),e.install(o,...t)):E(e)&&(s.add(e),e(o,...t))),o),mixin:e=>(__VUE_OPTIONS_API__&&(i.mixins.includes(e)||i.mixins.push(e)),o),component:(e,t)=>t?(i.components[e]=t,o):i.components[e],directive:(e,t)=>t?(i.directives[e]=t,o):i.directives[e],mount(s,u,c){if(!a){const l=Jn(n,r);return l.appContext=i,u&&t?t(l,s):e(l,s,c),a=!0,o._container=s,s.__vue_app__=o,__VUE_PROD_DEVTOOLS__&&(o._instance=l.component,function(e,t){vt&&vt.emit("app:init",e,t,{Fragment:Dn,Text:In,Comment:Ln,Static:Bn})}(o,Yr)),l.component.proxy}},unmount(){a&&(e(null,o._container),__VUE_PROD_DEVTOOLS__&&(o._instance=null,function(e){vt&&vt.emit("app:unmount",e)}(o)),delete o._container.__vue_app__)},provide:(e,t)=>(i.provides[e]=t,o)};return o}}const On=function(e,t){t&&t.pendingBranch?x(e)?t.effects.push(...e):t.effects.push(e):Br(e,Cr,Or,Ar)};function Cn(e){return function(e,t){if(function(){"boolean"!=typeof __VUE_OPTIONS_API__&&(W().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&(W().__VUE_PROD_DEVTOOLS__=!1)}(),__VUE_PROD_DEVTOOLS__){const e=W();e.__VUE__=!0,n=e.__VUE_DEVTOOLS_GLOBAL_HOOK__,vt=n}var n;const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:u,setText:c,setElementText:f,parentNode:d,nextSibling:m,setScopeId:g=p,cloneNode:y,insertStaticContent:w}=e,x=(e,t,n,r=null,i=null,s=null,a=!1,o=null,u=!!t.dynamicChildren)=>{if(e===t)return;e&&!Wn(e,t)&&(r=re(e),Q(e,i,s,!0),e=null),-2===t.patchFlag&&(u=!1,t.dynamicChildren=null);const{type:c,ref:l,shapeFlag:h}=t;switch(c){case In:_(e,t,n,r);break;case Ln:M(e,t,n,r);break;case Bn:null==e&&E(t,n,r,a);break;case Dn:B(e,t,n,r,i,s,a,o,u);break;default:1&h?T(e,t,n,r,i,s,a,o,u):6&h?F(e,t,n,r,i,s,a,o,u):(64&h||128&h)&&c.process(e,t,n,r,i,s,a,o,u,se)}null!=l&&i&&An(l,e&&e.ref,s,t||e,!t)},_=(e,t,n,i)=>{if(null==e)r(t.el=o(t.children),n,i);else{const n=t.el=e.el;t.children!==e.children&&c(n,t.children)}},M=(e,t,n,i)=>{null==e?r(t.el=u(t.children||""),n,i):t.el=e.el},E=(e,t,n,r)=>{[e.el,e.anchor]=w(e.children,t,n,r)},N=({el:e,anchor:t},n,i)=>{let s;for(;e&&e!==t;)s=m(e),r(e,n,i),e=s;r(t,n,i)},S=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=m(e),i(e),e=n;i(t)},T=(e,t,n,r,i,s,a,o,u)=>{a=a||"svg"===t.type,null==e?C(t,n,r,i,s,a,o,u):k(e,t,i,s,a,o,u)},C=(e,t,n,i,o,u,c,l)=>{let h,p;const{type:d,props:m,shapeFlag:g,transition:v,patchFlag:w,dirs:b}=e;if(e.el&&void 0!==y&&-1===w)h=e.el=y(e.el);else{if(h=e.el=a(e.type,u,m&&m.is,m),8&g?f(h,e.children):16&g&&R(e.children,h,null,i,o,u&&"foreignObject"!==d,c,l),b&&En(e,null,i,"created"),m){for(const t in m)"value"===t||z(t)||s(h,t,null,m[t],u,e.children,i,o,ne);"value"in m&&s(h,"value",null,m.value),(p=m.onVnodeBeforeMount)&&Rn(p,i,e)}A(h,e,e.scopeId,c,i)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(h,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(h,"__vueParentComponent",{value:i,enumerable:!1})),b&&En(e,null,i,"beforeMount");const x=(!o||o&&!o.pendingBranch)&&v&&!v.persisted;x&&v.beforeEnter(h),r(h,t,n),((p=m&&m.onVnodeMounted)||x||b)&&On((()=>{p&&Rn(p,i,e),x&&v.enter(h),b&&En(e,null,i,"mounted")}),o)},A=(e,t,n,r,i)=>{if(n&&g(e,n),r)for(let t=0;t<r.length;t++)g(e,r[t]);if(i){if(t===i.subTree){const t=i.vnode;A(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},R=(e,t,n,r,i,s,a,o,u=0)=>{for(let c=u;c<e.length;c++){const u=e[c]=o?rr(e[c]):nr(e[c]);x(null,u,t,n,r,i,s,a,o)}},k=(e,t,n,r,i,a,o)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:h,dirs:p}=t;c|=16&e.patchFlag;const d=e.props||l,m=t.props||l;let g;(g=m.onVnodeBeforeUpdate)&&Rn(g,n,t,e),p&&En(t,e,n,"beforeUpdate");const v=i&&"foreignObject"!==t.type;if(h?D(e.dynamicChildren,h,u,n,r,v,a):o||G(e,t,u,null,n,r,v,a,!1),c>0){if(16&c)I(u,t,d,m,n,r,i);else if(2&c&&d.class!==m.class&&s(u,"class",null,m.class,i),4&c&&s(u,"style",d.style,m.style,i),8&c){const a=t.dynamicProps;for(let t=0;t<a.length;t++){const o=a[t],c=d[o],l=m[o];l===c&&"value"!==o||s(u,o,c,l,i,e.children,n,r,ne)}}1&c&&e.children!==t.children&&f(u,t.children)}else o||null!=h||I(u,t,d,m,n,r,i);((g=m.onVnodeUpdated)||p)&&On((()=>{g&&Rn(g,n,t,e),p&&En(t,e,n,"updated")}),r)},D=(e,t,n,r,i,s,a)=>{for(let o=0;o<t.length;o++){const u=e[o],c=t[o],l=u.el&&(u.type===Dn||!Wn(u,c)||70&u.shapeFlag)?d(u.el):n;x(u,c,l,null,r,i,s,a,!0)}},I=(e,t,n,r,i,a,o)=>{if(n!==r){for(const u in r){if(z(u))continue;const c=r[u],l=n[u];c!==l&&"value"!==u&&s(e,u,l,c,o,t.children,i,a,ne)}if(n!==l)for(const u in n)z(u)||u in r||s(e,u,n[u],null,o,t.children,i,a,ne);"value"in r&&s(e,"value",n.value,r.value)}},B=(e,t,n,i,s,a,u,c,l)=>{const h=t.el=e?e.el:o(""),p=t.anchor=e?e.anchor:o("");let{patchFlag:f,dynamicChildren:d,slotScopeIds:m}=t;m&&(c=c?c.concat(m):m),null==e?(r(h,n,i),r(p,n,i),R(t.children,n,p,s,a,u,c,l)):f>0&&64&f&&d&&e.dynamicChildren?(D(e.dynamicChildren,d,n,s,a,u,c),(null!=t.key||s&&t===s.subTree)&&kn(e,t,!0)):G(e,t,n,p,s,a,u,c,l)},F=(e,t,n,r,i,s,a,o,u)=>{t.slotScopeIds=o,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,a,u):j(t,n,r,i,s,a,u):U(e,t,u)},j=(e,t,n,r,i,s,a)=>{const o=e.component=function(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||ur,s={uid:cr++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,update:null,scope:new Z(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:dn(r,i),emitsOptions:Mt(r,i),emit:null,emitted:null,propsDefaults:l,inheritAttrs:r.inheritAttrs,ctx:l,data:l,props:l,attrs:l,slots:l,refs:l,setupState:l,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};s.ctx={_:s},s.root=t?t.root:s,s.emit=_t.bind(null,s),e.ce&&e.ce(s);return s}(e,r,i);if(Lt(e)&&(o.ctx.renderer=se),function(e,t=!1){dr=t;const{props:n,children:r}=e.vnode,i=fr(e);hn(e,n,i,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=ct(t),V(t,"_",n)):_n(t,e.slots={})}else e.slots={},t&&Mn(e,t);V(e.slots,Gn,1)})(e,r);const s=i?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=lt(new Proxy(e.ctx,or));const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?function(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=function(e){return new Proxy(e.attrs,{get:(t,n)=>(pe(e,0,"$attrs"),t[n])})}(e))},slots:e.slots,emit:e.emit,expose:t}}(e):null;hr(e),le();const i=yr(r,e,0,[e.props,n]);if(he(),pr(),O(i)){if(i.then(pr,pr),t)return i.then((t=>{mr(e,t)})).catch((t=>{br(t,e,0)}));e.asyncDep=i}else mr(e,i)}else gr(e)}(e,t):void 0;dr=!1}(o),o.asyncDep){if(i&&i.registerDep(o,H),!e.el){const e=o.subTree=Jn(Ln);M(null,e,t,n)}}else H(o,e,t,n,i,s,a)},U=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:i,component:s}=e,{props:a,children:o,patchFlag:u}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&u>=0))return!(!i&&!o||o&&o.$stable)||r!==a&&(r?!a||zt(r,a,c):!!a);if(1024&u)return!0;if(16&u)return r?zt(r,a,c):!!a;if(8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==r[n]&&!Et(c,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void $(r,t,n);r.next=t,function(e){const t=Mr.indexOf(e);t>Er&&Mr.splice(t,1)}(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},H=(e,t,n,r,i,s,a)=>{const o=new ae((()=>{if(e.isMounted){let t,{next:n,bu:r,u:u,parent:c,vnode:l}=e,h=n;o.allowRecurse=!1,n?(n.el=l.el,$(e,n,a)):n=l,r&&q(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Rn(t,c,n,l),o.allowRecurse=!0;const p=At(e),f=e.subTree;e.subTree=p,x(f,p,d(f.el),re(f),e,i,s),n.el=p.el,null===h&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,p.el),u&&On(u,i),(t=n.props&&n.props.onVnodeUpdated)&&On((()=>Rn(t,c,n,l)),i),__VUE_PROD_DEVTOOLS__&&wt(e)}else{let a;const{el:u,props:c}=t,{bm:l,m:h,parent:p}=e,f=It(t);if(o.allowRecurse=!1,l&&q(l),!f&&(a=c&&c.onVnodeBeforeMount)&&Rn(a,p,t),o.allowRecurse=!0,u&&ue){const n=()=>{e.subTree=At(e),ue(u,e.subTree,e,i,null)};f?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const a=e.subTree=At(e);x(null,a,n,r,e,i,s),t.el=a.el}if(h&&On(h,i),!f&&(a=c&&c.onVnodeMounted)){const e=t;On((()=>Rn(a,p,e)),i)}256&t.shapeFlag&&e.a&&On(e.a,i),e.isMounted=!0,__VUE_PROD_DEVTOOLS__&&yt(e),t=n=r=null}}),(()=>Ir(e.update)),e.scope),u=e.update=o.run.bind(o);u.id=e.uid,o.allowRecurse=u.allowRecurse=!0,u()},$=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=e,o=ct(i),[u]=e.propsOptions;let c=!1;if(!(r||a>0)||16&a){let r;pn(e,t,i,s)&&(c=!0);for(const s in o)t&&(b(t,s)||(r=P(s))!==s&&b(t,r))||(u?!n||void 0===n[s]&&void 0===n[r]||(i[s]=fn(u,o,s,void 0,e,!0)):delete i[s]);if(s!==o)for(const e in s)t&&b(t,e)||(delete s[e],c=!0)}else if(8&a){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let a=n[r];const l=t[a];if(u)if(b(s,a))l!==s[a]&&(s[a]=l,c=!0);else{const t=L(a);i[t]=fn(u,o,t,l,e,!1)}else l!==s[a]&&(s[a]=l,c=!0)}}c&&me(e,"set","$attrs")}(e,t.props,r,n),((e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,a=l;if(32&r.shapeFlag){const e=t._;e?n&&1===e?s=!1:(v(i,t),n||1!==e||delete i._):(s=!t.$stable,_n(t,i)),a=t}else t&&(Mn(e,t),a={default:1});if(s)for(const e in i)wn(e)||e in a||delete i[e]})(e,t.children,n),le(),Pr(void 0,e.update),he()},G=(e,t,n,r,i,s,a,o,u=!1)=>{const c=e&&e.children,l=e?e.shapeFlag:0,h=t.children,{patchFlag:p,shapeFlag:d}=t;if(p>0){if(128&p)return void X(c,h,n,r,i,s,a,o,u);if(256&p)return void Y(c,h,n,r,i,s,a,o,u)}8&d?(16&l&&ne(c,i,s),h!==c&&f(n,h)):16&l?16&d?X(c,h,n,r,i,s,a,o,u):ne(c,i,s,!0):(8&l&&f(n,""),16&d&&R(h,n,r,i,s,a,o,u))},Y=(e,t,n,r,i,s,a,o,u)=>{t=t||h;const c=(e=e||h).length,l=t.length,p=Math.min(c,l);let f;for(f=0;f<p;f++){const r=t[f]=u?rr(t[f]):nr(t[f]);x(e[f],r,n,null,i,s,a,o,u)}c>l?ne(e,i,s,!0,!1,p):R(t,n,r,i,s,a,o,u,p)},X=(e,t,n,r,i,s,a,o,u)=>{let c=0;const l=t.length;let p=e.length-1,f=l-1;for(;c<=p&&c<=f;){const r=e[c],l=t[c]=u?rr(t[c]):nr(t[c]);if(!Wn(r,l))break;x(r,l,n,null,i,s,a,o,u),c++}for(;c<=p&&c<=f;){const r=e[p],c=t[f]=u?rr(t[f]):nr(t[f]);if(!Wn(r,c))break;x(r,c,n,null,i,s,a,o,u),p--,f--}if(c>p){if(c<=f){const e=f+1,h=e<l?t[e].el:r;for(;c<=f;)x(null,t[c]=u?rr(t[c]):nr(t[c]),n,h,i,s,a,o,u),c++}}else if(c>f)for(;c<=p;)Q(e[c],i,s,!0),c++;else{const d=c,m=c,g=new Map;for(c=m;c<=f;c++){const e=t[c]=u?rr(t[c]):nr(t[c]);null!=e.key&&g.set(e.key,c)}let v,y=0;const w=f-m+1;let b=!1,_=0;const M=new Array(w);for(c=0;c<w;c++)M[c]=0;for(c=d;c<=p;c++){const r=e[c];if(y>=w){Q(r,i,s,!0);continue}let l;if(null!=r.key)l=g.get(r.key);else for(v=m;v<=f;v++)if(0===M[v-m]&&Wn(r,t[v])){l=v;break}void 0===l?Q(r,i,s,!0):(M[l-m]=c+1,l>=_?_=l:b=!0,x(r,t[l],n,null,i,s,a,o,u),y++)}const E=b?function(e){const t=e.slice(),n=[0];let r,i,s,a,o;const u=e.length;for(r=0;r<u;r++){const u=e[r];if(0!==u){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,e[n[o]]<u?s=o+1:a=o;u<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}s=n.length,a=n[s-1];for(;s-- >0;)n[s]=a,a=t[a];return n}(M):h;for(v=E.length-1,c=w-1;c>=0;c--){const e=m+c,h=t[e],p=e+1<l?t[e+1].el:r;0===M[c]?x(null,h,n,p,i,s,a,o,u):b&&(v<0||c!==E[v]?J(h,n,p,2):v--)}}},J=(e,t,n,i,s=null)=>{const{el:a,type:o,transition:u,children:c,shapeFlag:l}=e;if(6&l)return void J(e.component.subTree,t,n,i);if(128&l)return void e.suspense.move(t,n,i);if(64&l)return void o.move(e,t,n,se);if(o===Dn){r(a,t,n);for(let e=0;e<c.length;e++)J(c[e],t,n,i);return void r(e.anchor,t,n)}if(o===Bn)return void N(e,t,n);if(2!==i&&1&l&&u)if(0===i)u.beforeEnter(a),r(a,t,n),On((()=>u.enter(a)),s);else{const{leave:e,delayLeave:i,afterLeave:s}=u,o=()=>r(a,t,n),c=()=>{e(a,(()=>{o(),s&&s()}))};i?i(a,o,c):c()}else r(a,t,n)},Q=(e,t,n,r=!1,i=!1)=>{const{type:s,props:a,ref:o,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:h,dirs:p}=e;if(null!=o&&An(o,null,n,e,!0),256&l)return void t.ctx.deactivate(e);const f=1&l&&p,d=!It(e);let m;if(d&&(m=a&&a.onVnodeBeforeUnmount)&&Rn(m,t,e),6&l)te(e.component,n,r);else{if(128&l)return void e.suspense.unmount(n,r);f&&En(e,null,t,"beforeUnmount"),64&l?e.type.remove(e,t,n,i,se,r):c&&(s!==Dn||h>0&&64&h)?ne(c,t,n,!1,!0):(s===Dn&&384&h||!i&&16&l)&&ne(u,t,n),r&&K(e)}(d&&(m=a&&a.onVnodeUnmounted)||f)&&On((()=>{m&&Rn(m,t,e),f&&En(e,null,t,"unmounted")}),n)},K=e=>{const{type:t,el:n,anchor:r,transition:s}=e;if(t===Dn)return void ee(n,r);if(t===Bn)return void S(e);const a=()=>{i(n),s&&!s.persisted&&s.afterLeave&&s.afterLeave()};if(1&e.shapeFlag&&s&&!s.persisted){const{leave:t,delayLeave:r}=s,i=()=>t(n,a);r?r(e.el,a,i):i()}else a()},ee=(e,t)=>{let n;for(;e!==t;)n=m(e),i(e),e=n;i(t)},te=(e,t,n)=>{const{bum:r,scope:i,update:s,subTree:a,um:o}=e;r&&q(r),i.stop(),s&&(s.active=!1,Q(a,e,t,n)),o&&On(o,t),On((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),__VUE_PROD_DEVTOOLS__&&bt(e)},ne=(e,t,n,r=!1,i=!1,s=0)=>{for(let a=s;a<e.length;a++)Q(e[a],t,n,r,i)},re=e=>6&e.shapeFlag?re(e.component.subTree):128&e.shapeFlag?e.suspense.next():m(e.anchor||e.el),ie=(e,t,n)=>{null==e?t._vnode&&Q(t._vnode,null,null,!0):x(t._vnode||null,e,t,null,null,null,n),Fr(),t._vnode=e},se={p:x,um:Q,m:J,r:K,mt:j,mc:R,pc:G,pbc:D,n:re,o:e};let oe,ue;t&&([oe,ue]=t(se));return{render:ie,hydrate:oe,createApp:Tn(ie,oe)}}(e)}function An(e,t,n,r,i=!1){if(x(e))return void e.forEach(((e,s)=>An(e,t&&(x(t)?t[s]:t),n,r,i)));if(It(r)&&!i)return;const s=4&r.shapeFlag?vr(r.component)||r.component.proxy:r.el,a=i?null:s,{i:o,r:u}=e,c=t&&t.r,h=o.refs===l?o.refs={}:o.refs,p=o.setupState;if(null!=c&&c!==u&&(N(c)?(h[c]=null,b(p,c)&&(p[c]=null)):ht(c)&&(c.value=null)),N(u)){const e=()=>{h[u]=a,b(p,u)&&(p[u]=a)};a?(e.id=-1,On(e,n)):e()}else if(ht(u)){const e=()=>{u.value=a};a?(e.id=-1,On(e,n)):e()}else E(u)&&yr(u,o,12,[a,h])}function Rn(e,t,n,r=null){wr(e,t,7,[n,r])}function kn(e,t,n=!1){const r=e.children,i=t.children;if(x(r)&&x(i))for(let e=0;e<r.length;e++){const t=r[e];let s=i[e];1&s.shapeFlag&&!s.dynamicChildren&&((s.patchFlag<=0||32===s.patchFlag)&&(s=i[e]=rr(i[e]),s.el=t.el),n||kn(t,s))}}const zn=Symbol(),Dn=Symbol(void 0),In=Symbol(void 0),Ln=Symbol(void 0),Bn=Symbol(void 0),Pn=[];let Fn=null;function jn(e=!1){Pn.push(Fn=e?null:[])}let Un=1;function qn(e){Un+=e}function Vn(e){return e.dynamicChildren=Un>0?Fn||h:null,Pn.pop(),Fn=Pn[Pn.length-1]||null,Un>0&&Fn&&Fn.push(e),e}function Hn(e,t,n,r,i,s){return Vn(Xn(e,t,n,r,i,s,!0))}function $n(e){return!!e&&!0===e.__v_isVNode}function Wn(e,t){return e.type===t.type&&e.key===t.key}const Gn="__vInternal",Yn=({key:e})=>null!=e?e:null,Zn=({ref:e})=>null!=e?N(e)||ht(e)||E(e)?{i:Nt,r:e}:e:null;function Xn(e,t=null,n=null,r=0,i=null,s=(e===Dn?0:1),a=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Yn(t),ref:t&&Zn(t),scopeId:St,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return o?(ir(u,n),128&s&&e.normalize(u)):n&&(u.shapeFlag|=N(n)?8:16),Un>0&&!a&&Fn&&(u.patchFlag>0||6&s)&&32!==u.patchFlag&&Fn.push(u),u}const Jn=function(e,t=null,n=null,i=0,s=null,a=!1){e&&e!==zn||(e=Ln);if($n(e)){const r=Qn(e,t,!0);return n&&ir(r,n),r}u=e,E(u)&&"__vccOpts"in u&&(e=e.__vccOpts);var u;if(t){t=function(e){return e?ut(e)||Gn in e?v({},e):e:null}(t);let{class:e,style:n}=t;e&&!N(e)&&(t.class=o(e)),T(n)&&(ut(n)&&!x(n)&&(n=v({},n)),t.style=r(n))}const c=N(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:T(e)?4:E(e)?2:0;return Xn(e,t,n,i,s,c,a,!0)};function Qn(e,t,n=!1){const{props:i,ref:s,patchFlag:a,children:u}=e,c=t?function(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=o([t.class,i.class]));else if("style"===e)t.style=r([t.style,i.style]);else if(m(e)){const n=t[e],r=i[e];n!==r&&(t[e]=n?[].concat(n,r):r)}else""!==e&&(t[e]=i[e])}return t}(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Yn(c),ref:t&&t.ref?n&&s?x(s)?s.concat(Zn(t)):[s,Zn(t)]:Zn(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Dn?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Qn(e.ssContent),ssFallback:e.ssFallback&&Qn(e.ssFallback),el:e.el,anchor:e.anchor}}function Kn(e=" ",t=0){return Jn(In,null,e,t)}function er(e,t){const n=Jn(Bn,null,e);return n.staticCount=t,n}function tr(e="",t=!1){return t?(jn(),Vn(Jn(Ln,null,e,n,r,!0))):Jn(Ln,null,e);var n,r}function nr(e){return null==e||"boolean"==typeof e?Jn(Ln):x(e)?Jn(Dn,null,e.slice()):"object"==typeof e?rr(e):Jn(In,null,String(e))}function rr(e){return null===e.el||e.memo?e:Qn(e)}function ir(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(x(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),ir(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||Gn in t?3===r&&Nt&&(1===Nt.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Nt}}else E(t)?(t={default:t,_ctx:Nt},n=32):(t=String(t),64&r?(n=16,t=[Kn(t)]):n=8);e.children=t,e.shapeFlag|=n}const sr=e=>e?fr(e)?vr(e)||e.proxy:sr(e.parent):null,ar=v(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>sr(e.parent),$root:e=>sr(e.root),$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?rn(e):e.type,$forceUpdate:e=>()=>Ir(e.update),$nextTick:e=>Dr.bind(e.proxy),$watch:e=>__VUE_OPTIONS_API__?$r.bind(e):p}),or={get({_:e},t){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:u}=e;let c;if("$"!==t[0]){const o=a[t];if(void 0!==o)switch(o){case 0:return r[t];case 1:return i[t];case 3:return n[t];case 2:return s[t]}else{if(r!==l&&b(r,t))return a[t]=0,r[t];if(i!==l&&b(i,t))return a[t]=1,i[t];if((c=e.propsOptions[0])&&b(c,t))return a[t]=2,s[t];if(n!==l&&b(n,t))return a[t]=3,n[t];__VUE_OPTIONS_API__&&!Kt||(a[t]=4)}}const h=ar[t];let p,f;return h?("$attrs"===t&&pe(e,0,t),h(e)):(p=o.__cssModules)&&(p=p[t])?p:n!==l&&b(n,t)?(a[t]=3,n[t]):(f=u.config.globalProperties,b(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;if(i!==l&&b(i,t))i[t]=n;else if(r!==l&&b(r,t))r[t]=n;else if(b(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let o;return void 0!==n[a]||e!==l&&b(e,a)||t!==l&&b(t,a)||(o=s[0])&&b(o,a)||b(r,a)||b(ar,a)||b(i.config.globalProperties,a)}},ur=Nn();let cr=0;let lr=null;const hr=e=>{lr=e,e.scope.on()},pr=()=>{lr&&lr.scope.off(),lr=null};function fr(e){return 4&e.vnode.shapeFlag}let dr=!1;function mr(e,t,n){E(t)?e.render=t:T(t)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=t),e.setupState=dt(t)),gr(e)}function gr(e,t,n){const r=e.type;e.render||(e.render=r.render||p),__VUE_OPTIONS_API__&&(hr(e),le(),en(e),he(),pr())}function vr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(dt(lt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in ar?ar[n](e):void 0}))}function yr(e,t,n,r){let i;try{i=r?e(...r):e()}catch(e){br(e,t,n)}return i}function wr(e,t,n,r){if(E(e)){const i=yr(e,t,n,r);return i&&O(i)&&i.catch((e=>{br(e,t,n)})),i}const i=[];for(let s=0;s<e.length;s++)i.push(wr(e[s],t,n,r));return i}function br(e,t,n,r=!0){t&&t.vnode;if(t){let r=t.parent;const i=t.proxy,s=n;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,s))return;r=r.parent}const a=t.appContext.config.errorHandler;if(a)return void yr(a,null,10,[e,i,s])}!function(e,t,n,r=!0){console.error(e)}(e,0,0,r)}let xr=!1,_r=!1;const Mr=[];let Er=0;const Nr=[];let Sr=null,Tr=0;const Or=[];let Cr=null,Ar=0;const Rr=Promise.resolve();let kr=null,zr=null;function Dr(e){const t=kr||Rr;return e?t.then(this?e.bind(this):e):t}function Ir(e){Mr.length&&Mr.includes(e,xr&&e.allowRecurse?Er+1:Er)||e===zr||(null==e.id?Mr.push(e):Mr.splice(function(e){let t=Er+1,n=Mr.length;for(;t<n;){const r=t+n>>>1;jr(Mr[r])<e?t=r+1:n=r}return t}(e.id),0,e),Lr())}function Lr(){xr||_r||(_r=!0,kr=Rr.then(Ur))}function Br(e,t,n,r){x(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),Lr()}function Pr(e,t=null){if(Nr.length){for(zr=t,Sr=[...new Set(Nr)],Nr.length=0,Tr=0;Tr<Sr.length;Tr++)Sr[Tr]();Sr=null,Tr=0,zr=null,Pr(e,t)}}function Fr(e){if(Or.length){const e=[...new Set(Or)];if(Or.length=0,Cr)return void Cr.push(...e);for(Cr=e,Cr.sort(((e,t)=>jr(e)-jr(t))),Ar=0;Ar<Cr.length;Ar++)Cr[Ar]();Cr=null,Ar=0}}const jr=e=>null==e.id?1/0:e.id;function Ur(e){_r=!1,xr=!0,Pr(e),Mr.sort(((e,t)=>jr(e)-jr(t)));try{for(Er=0;Er<Mr.length;Er++){const e=Mr[Er];e&&!1!==e.active&&yr(e,null,14)}}finally{Er=0,Mr.length=0,Fr(),xr=!1,kr=null,(Mr.length||Nr.length||Or.length)&&Ur(e)}}const qr={};function Vr(e,t,n){return Hr(e,t,n)}function Hr(e,t,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:a}=l){const o=lr;let u,c,h=!1,f=!1;if(ht(e)?(u=()=>e.value,h=!!e._shallow):at(e)?(u=()=>e,r=!0):x(e)?(f=!0,h=e.some(at),u=()=>e.map((e=>ht(e)?e.value:at(e)?Gr(e):E(e)?yr(e,o,2):void 0))):u=E(e)?t?()=>yr(e,o,2):()=>{if(!o||!o.isUnmounted)return c&&c(),wr(e,o,3,[d])}:p,t&&r){const e=u;u=()=>Gr(e())}let d=e=>{c=w.onStop=()=>{yr(e,o,4)}},m=f?[]:qr;const g=()=>{if(w.active)if(t){const e=w.run();(r||h||(f?e.some(((e,t)=>U(e,m[t]))):U(e,m)))&&(c&&c(),wr(t,o,3,[e,m===qr?void 0:m,d]),m=e)}else w.run()};let v;g.allowRecurse=!!t,v="sync"===i?g:"post"===i?()=>On(g,o&&o.suspense):()=>{!o||o.isMounted?function(e){Br(e,Sr,Nr,Tr)}(g):g()};const w=new ae(u,v);return t?n?g():m=w.run():"post"===i?On(w.run.bind(w),o&&o.suspense):w.run(),()=>{w.stop(),o&&o.scope&&y(o.scope.effects,w)}}function $r(e,t,n){const r=this.proxy,i=N(e)?e.includes(".")?Wr(r,e):()=>r[e]:e.bind(r,r);let s;E(t)?s=t:(s=t.handler,n=t);const a=lr;hr(this);const o=Hr(i,s.bind(r),n);return a?hr(a):pr(),o}function Wr(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Gr(e,t=new Set){if(!T(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),ht(e))Gr(e.value,t);else if(x(e))for(let n=0;n<e.length;n++)Gr(e[n],t);else if(M(e)||_(e))e.forEach((e=>{Gr(e,t)}));else if(R(e))for(const n in e)Gr(e[n],t);return e}const Yr="3.2.11",Zr="undefined"!=typeof document?document:null,Xr=new Map,Jr={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?Zr.createElementNS("http://www.w3.org/2000/svg",e):Zr.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>Zr.createTextNode(e),createComment:e=>Zr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Zr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r){const i=n?n.previousSibling:t.lastChild;let s=Xr.get(e);if(!s){const t=Zr.createElement("template");if(t.innerHTML=r?`<svg>${e}</svg>`:e,s=t.content,r){const e=s.firstChild;for(;e.firstChild;)s.appendChild(e.firstChild);s.removeChild(e)}Xr.set(e,s)}return t.insertBefore(s.cloneNode(!0),n),[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};const Qr=/\s*!important$/;function Kr(e,t,n){if(x(n))n.forEach((n=>Kr(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=ti[t];if(n)return n;let r=L(t);if("filter"!==r&&r in e)return ti[t]=r;r=F(r);for(let n=0;n<ei.length;n++){const i=ei[n]+r;if(i in e)return ti[t]=i}return t}(e,t);Qr.test(n)?e.setProperty(P(r),n.replace(Qr,""),"important"):e[r]=n}}const ei=["Webkit","Moz","ms"],ti={};const ni="http://www.w3.org/1999/xlink";let ri=Date.now,ii=!1;if("undefined"!=typeof window){ri()>document.createEvent("Event").timeStamp&&(ri=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);ii=!!(e&&Number(e[1])<=53)}let si=0;const ai=Promise.resolve(),oi=()=>{si=0};function ui(e,t,n,r,i=null){const s=e._vei||(e._vei={}),a=s[t];if(r&&a)a.value=r;else{const[n,o]=function(e){let t;if(ci.test(e)){let n;for(t={};n=e.match(ci);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[P(e.slice(2)),t]}(t);if(r){!function(e,t,n,r){e.addEventListener(t,n,r)}(e,n,s[t]=function(e,t){const n=e=>{const r=e.timeStamp||ri();(ii||r>=n.attached-1)&&wr(function(e,t){if(x(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>si||(ai.then(oi),si=ri()))(),n}(r,i),o)}else a&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,a,o),s[t]=void 0)}}const ci=/(?:Once|Passive|Capture)$/;const li=/^on[a-z]/;const hi=v({patchProp:(e,r,i,s,a=!1,o,u,c,l)=>{"class"===r?function(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,s,a):"style"===r?function(e,t,n){const r=e.style,i=r.display;if(n)if(N(n))t!==n&&(r.cssText=n);else{for(const e in n)Kr(r,e,n[e]);if(t&&!N(t))for(const e in t)null==n[e]&&Kr(r,e,"")}else e.removeAttribute("style");"_vod"in e&&(r.display=i)}(e,i,s):m(r)?g(r)||ui(e,r,0,s,u):("."===r[0]?(r=r.slice(1),1):"^"===r[0]?(r=r.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&li.test(t)&&E(n));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(li.test(t)&&N(n))return!1;return t in e}(e,r,s,a))?function(e,t,r,i,s,a,o){if("innerHTML"===t||"textContent"===t)return i&&o(i,s,a),void(e[t]=null==r?"":r);if("value"===t&&"PROGRESS"!==e.tagName){e._value=r;const n=null==r?"":r;return e.value!==n&&(e.value=n),void(null==r&&e.removeAttribute(t))}if(""===r||null==r){const i=typeof e[t];if("boolean"===i)return void(e[t]=n(r));if(null==r&&"string"===i)return e[t]="",void e.removeAttribute(t);if("number"===i){try{e[t]=0}catch(e){}return void e.removeAttribute(t)}}try{e[t]=r}catch(e){}}(e,r,s,o,u,c,l):("true-value"===r?e._trueValue=s:"false-value"===r&&(e._falseValue=s),function(e,r,i,s,a){if(s&&r.startsWith("xlink:"))null==i?e.removeAttributeNS(ni,r.slice(6,r.length)):e.setAttributeNS(ni,r,i);else{const s=t(r);null==i||s&&!n(i)?e.removeAttribute(r):e.setAttribute(r,s?"":i)}}(e,r,s,a))}},Jr);let pi;const fi=(...e)=>{const t=(pi||(pi=Cn(hi))).createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if(N(e)){return document.querySelector(e)}return e}(e);if(!r)return;const i=t._component;E(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t};var di="https://www.natekoe.com//vue-apps/dist/1a6ace377133f14a.png";Ot("data-v-0a280960");const mi={"xr-layer":"",class:"fade"},gi=Xn("p",null," Here's some more text just to make things not blank. ",-1);Ct();var vi={props:{msg:String},setup(e){const t=Dt("shared");return(n,r)=>(jn(),Hn(Dn,null,[Xn("h1",mi,u(e.msg),1),gi,Xn("button",{"xr-layer":"",onClick:r[0]||(r[0]=(...e)=>pt(t).increment&&pt(t).increment(...e))},"count is: "+u(pt(t).state.count),1)],64))},__scopeId:"data-v-0a280960"};const yi={id:"room",class:"darkwall"},wi=Xn("img",{alt:"Vue logo",src:di},null,-1);var bi={setup(e){let t=Dt("params");var n=t&&t.mesg?t.mesg:"Networked Vue Component with Shared Button Count";return(e,t)=>(jn(),Hn("div",yi,[wi,Jn(vi,{msg:pt(n)},null,8,["msg"]),tr(' <SomeText msg="Networked Vue Component with Shared Button Count" /> ')]))}},xi=THREE,_i=Object.freeze({__proto__:null,default:xi});class Mi{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,s=this.y-e.y;return this.x=i*n-s*r+e.x,this.y=i*r+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}Mi.prototype.isVector2=!0;const Ei=[];for(let e=0;e<256;e++)Ei[e]=(e<16?"0":"")+e.toString(16);let Ni=1234567;const Si=Math.PI/180,Ti=180/Math.PI;function Oi(e,t,n){return Math.max(t,Math.min(n,e))}function Ci(e,t){return(e%t+t)%t}function Ai(e,t,n){return(1-n)*e+n*t}Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",DEG2RAD:Si,RAD2DEG:Ti,generateUUID:function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Ei[255&e]+Ei[e>>8&255]+Ei[e>>16&255]+Ei[e>>24&255]+"-"+Ei[255&t]+Ei[t>>8&255]+"-"+Ei[t>>16&15|64]+Ei[t>>24&255]+"-"+Ei[63&n|128]+Ei[n>>8&255]+"-"+Ei[n>>16&255]+Ei[n>>24&255]+Ei[255&r]+Ei[r>>8&255]+Ei[r>>16&255]+Ei[r>>24&255]).toUpperCase()},clamp:Oi,euclideanModulo:Ci,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Ai,damp:function(e,t,n,r){return Ai(e,t,1-Math.exp(-n*r))},pingpong:function(e,t=1){return t-Math.abs(Ci(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(Ni=e%2147483647),Ni=16807*Ni%2147483647,(Ni-1)/2147483646},degToRad:function(e){return e*Si},radToDeg:function(e){return e*Ti},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){const s=Math.cos,a=Math.sin,o=s(n/2),u=a(n/2),c=s((t+r)/2),l=a((t+r)/2),h=s((t-r)/2),p=a((t-r)/2),f=s((r-t)/2),d=a((r-t)/2);switch(i){case"XYX":e.set(o*l,u*h,u*p,o*c);break;case"YZY":e.set(u*p,o*l,u*h,o*c);break;case"ZXZ":e.set(u*h,u*p,o*l,o*c);break;case"XZX":e.set(o*l,u*d,u*f,o*c);break;case"YXY":e.set(u*f,o*l,u*d,o*c);break;case"ZYZ":e.set(u*d,u*f,o*l,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}});class Ri{constructor(e=0,t=0,n=0,r=1){this._x=e,this._y=t,this._z=n,this._w=r}static slerp(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}static slerpFlat(e,t,n,r,i,s,a){let o=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3];const h=i[s+0],p=i[s+1],f=i[s+2],d=i[s+3];if(0===a)return e[t+0]=o,e[t+1]=u,e[t+2]=c,void(e[t+3]=l);if(1===a)return e[t+0]=h,e[t+1]=p,e[t+2]=f,void(e[t+3]=d);if(l!==d||o!==h||u!==p||c!==f){let e=1-a;const t=o*h+u*p+c*f+l*d,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),s=Math.atan2(i,t*n);e=Math.sin(e*s)/i,a=Math.sin(a*s)/i}const i=a*n;if(o=o*e+h*i,u=u*e+p*i,c=c*e+f*i,l=l*e+d*i,e===1-a){const e=1/Math.sqrt(o*o+u*u+c*c+l*l);o*=e,u*=e,c*=e,l*=e}}e[t]=o,e[t+1]=u,e[t+2]=c,e[t+3]=l}static multiplyQuaternionsFlat(e,t,n,r,i,s){const a=n[r],o=n[r+1],u=n[r+2],c=n[r+3],l=i[s],h=i[s+1],p=i[s+2],f=i[s+3];return e[t]=a*f+c*l+o*p-u*h,e[t+1]=o*f+c*h+u*l-a*p,e[t+2]=u*f+c*p+a*h-o*l,e[t+3]=c*f-a*l-o*h-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,r=e._y,i=e._z,s=e._order,a=Math.cos,o=Math.sin,u=a(n/2),c=a(r/2),l=a(i/2),h=o(n/2),p=o(r/2),f=o(i/2);switch(s){case"XYZ":this._x=h*c*l+u*p*f,this._y=u*p*l-h*c*f,this._z=u*c*f+h*p*l,this._w=u*c*l-h*p*f;break;case"YXZ":this._x=h*c*l+u*p*f,this._y=u*p*l-h*c*f,this._z=u*c*f-h*p*l,this._w=u*c*l+h*p*f;break;case"ZXY":this._x=h*c*l-u*p*f,this._y=u*p*l+h*c*f,this._z=u*c*f+h*p*l,this._w=u*c*l-h*p*f;break;case"ZYX":this._x=h*c*l-u*p*f,this._y=u*p*l+h*c*f,this._z=u*c*f-h*p*l,this._w=u*c*l+h*p*f;break;case"YZX":this._x=h*c*l+u*p*f,this._y=u*p*l+h*c*f,this._z=u*c*f-h*p*l,this._w=u*c*l-h*p*f;break;case"XZY":this._x=h*c*l-u*p*f,this._y=u*p*l-h*c*f,this._z=u*c*f+h*p*l,this._w=u*c*l+h*p*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],s=t[1],a=t[5],o=t[9],u=t[2],c=t[6],l=t[10],h=n+a+l;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-o)*e,this._y=(i-u)*e,this._z=(s-r)*e}else if(n>a&&n>l){const e=2*Math.sqrt(1+n-a-l);this._w=(c-o)/e,this._x=.25*e,this._y=(r+s)/e,this._z=(i+u)/e}else if(a>l){const e=2*Math.sqrt(1+a-n-l);this._w=(i-u)/e,this._x=(r+s)/e,this._y=.25*e,this._z=(o+c)/e}else{const e=2*Math.sqrt(1+l-n-a);this._w=(s-r)/e,this._x=(i+u)/e,this._y=(o+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Oi(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,s=e._w,a=t._x,o=t._y,u=t._z,c=t._w;return this._x=n*c+s*a+r*u-i*o,this._y=r*c+s*o+i*a-n*u,this._z=i*c+s*u+n*o-r*a,this._w=s*c-n*a-r*o-i*u,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,s=this._w;let a=s*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=n,this._y=r,this._z=i,this;const o=1-a*a;if(o<=Number.EPSILON){const e=1-t;return this._w=e*s+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(o),c=Math.atan2(u,a),l=Math.sin((1-t)*c)/u,h=Math.sin(t*c)/u;return this._w=s*l+this._w*h,this._x=n*l+this._x*h,this._y=r*l+this._y*h,this._z=i*l+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){this.copy(e).slerp(t,n)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Ri.prototype.isQuaternion=!0;class ki{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Di.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Di.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,s=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*s,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*s,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*s,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,s=e.y,a=e.z,o=e.w,u=o*t+s*r-a*n,c=o*n+a*t-i*r,l=o*r+i*n-s*t,h=-i*t-s*n-a*r;return this.x=u*o+h*-i+c*-a-l*-s,this.y=c*o+h*-s+l*-i-u*-a,this.z=l*o+h*-a+u*-s-c*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,s=t.x,a=t.y,o=t.z;return this.x=r*o-i*a,this.y=i*s-n*o,this.z=n*a-r*s,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return zi.copy(this).projectOnVector(e),this.sub(zi)}reflect(e){return this.sub(zi.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Oi(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}ki.prototype.isVector3=!0;const zi=new ki,Di=new Ri;class Ii{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,i,s,a,o,u,c,l,h,p,f,d,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=s,g[9]=a,g[13]=o,g[2]=u,g[6]=c,g[10]=l,g[14]=h,g[3]=p,g[7]=f,g[11]=d,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Ii).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Li.setFromMatrixColumn(e,0).length(),i=1/Li.setFromMatrixColumn(e,1).length(),s=1/Li.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,r=e.y,i=e.z,s=Math.cos(n),a=Math.sin(n),o=Math.cos(r),u=Math.sin(r),c=Math.cos(i),l=Math.sin(i);if("XYZ"===e.order){const e=s*c,n=s*l,r=a*c,i=a*l;t[0]=o*c,t[4]=-o*l,t[8]=u,t[1]=n+r*u,t[5]=e-i*u,t[9]=-a*o,t[2]=i-e*u,t[6]=r+n*u,t[10]=s*o}else if("YXZ"===e.order){const e=o*c,n=o*l,r=u*c,i=u*l;t[0]=e+i*a,t[4]=r*a-n,t[8]=s*u,t[1]=s*l,t[5]=s*c,t[9]=-a,t[2]=n*a-r,t[6]=i+e*a,t[10]=s*o}else if("ZXY"===e.order){const e=o*c,n=o*l,r=u*c,i=u*l;t[0]=e-i*a,t[4]=-s*l,t[8]=r+n*a,t[1]=n+r*a,t[5]=s*c,t[9]=i-e*a,t[2]=-s*u,t[6]=a,t[10]=s*o}else if("ZYX"===e.order){const e=s*c,n=s*l,r=a*c,i=a*l;t[0]=o*c,t[4]=r*u-n,t[8]=e*u+i,t[1]=o*l,t[5]=i*u+e,t[9]=n*u-r,t[2]=-u,t[6]=a*o,t[10]=s*o}else if("YZX"===e.order){const e=s*o,n=s*u,r=a*o,i=a*u;t[0]=o*c,t[4]=i-e*l,t[8]=r*l+n,t[1]=l,t[5]=s*c,t[9]=-a*c,t[2]=-u*c,t[6]=n*l+r,t[10]=e-i*l}else if("XZY"===e.order){const e=s*o,n=s*u,r=a*o,i=a*u;t[0]=o*c,t[4]=-l,t[8]=u*c,t[1]=e*l+i,t[5]=s*c,t[9]=n*l-r,t[2]=r*l-n,t[6]=a*c,t[10]=i*l+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Pi,e,Fi)}lookAt(e,t,n){const r=this.elements;return qi.subVectors(e,t),0===qi.lengthSq()&&(qi.z=1),qi.normalize(),ji.crossVectors(n,qi),0===ji.lengthSq()&&(1===Math.abs(n.z)?qi.x+=1e-4:qi.z+=1e-4,qi.normalize(),ji.crossVectors(n,qi)),ji.normalize(),Ui.crossVectors(qi,ji),r[0]=ji.x,r[4]=Ui.x,r[8]=qi.x,r[1]=ji.y,r[5]=Ui.y,r[9]=qi.y,r[2]=ji.z,r[6]=Ui.z,r[10]=qi.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,s=n[0],a=n[4],o=n[8],u=n[12],c=n[1],l=n[5],h=n[9],p=n[13],f=n[2],d=n[6],m=n[10],g=n[14],v=n[3],y=n[7],w=n[11],b=n[15],x=r[0],_=r[4],M=r[8],E=r[12],N=r[1],S=r[5],T=r[9],O=r[13],C=r[2],A=r[6],R=r[10],k=r[14],z=r[3],D=r[7],I=r[11],L=r[15];return i[0]=s*x+a*N+o*C+u*z,i[4]=s*_+a*S+o*A+u*D,i[8]=s*M+a*T+o*R+u*I,i[12]=s*E+a*O+o*k+u*L,i[1]=c*x+l*N+h*C+p*z,i[5]=c*_+l*S+h*A+p*D,i[9]=c*M+l*T+h*R+p*I,i[13]=c*E+l*O+h*k+p*L,i[2]=f*x+d*N+m*C+g*z,i[6]=f*_+d*S+m*A+g*D,i[10]=f*M+d*T+m*R+g*I,i[14]=f*E+d*O+m*k+g*L,i[3]=v*x+y*N+w*C+b*z,i[7]=v*_+y*S+w*A+b*D,i[11]=v*M+y*T+w*R+b*I,i[15]=v*E+y*O+w*k+b*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],s=e[1],a=e[5],o=e[9],u=e[13],c=e[2],l=e[6],h=e[10],p=e[14];return e[3]*(+i*o*l-r*u*l-i*a*h+n*u*h+r*a*p-n*o*p)+e[7]*(+t*o*p-t*u*h+i*s*h-r*s*p+r*u*c-i*o*c)+e[11]*(+t*u*l-t*a*p-i*s*l+n*s*p+i*a*c-n*u*c)+e[15]*(-r*a*c-t*o*l+t*a*h+r*s*l-n*s*h+n*o*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],u=e[7],c=e[8],l=e[9],h=e[10],p=e[11],f=e[12],d=e[13],m=e[14],g=e[15],v=l*m*u-d*h*u+d*o*p-a*m*p-l*o*g+a*h*g,y=f*h*u-c*m*u-f*o*p+s*m*p+c*o*g-s*h*g,w=c*d*u-f*l*u+f*a*p-s*d*p-c*a*g+s*l*g,b=f*l*o-c*d*o-f*a*h+s*d*h+c*a*m-s*l*m,x=t*v+n*y+r*w+i*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/x;return e[0]=v*_,e[1]=(d*h*i-l*m*i-d*r*p+n*m*p+l*r*g-n*h*g)*_,e[2]=(a*m*i-d*o*i+d*r*u-n*m*u-a*r*g+n*o*g)*_,e[3]=(l*o*i-a*h*i-l*r*u+n*h*u+a*r*p-n*o*p)*_,e[4]=y*_,e[5]=(c*m*i-f*h*i+f*r*p-t*m*p-c*r*g+t*h*g)*_,e[6]=(f*o*i-s*m*i-f*r*u+t*m*u+s*r*g-t*o*g)*_,e[7]=(s*h*i-c*o*i+c*r*u-t*h*u-s*r*p+t*o*p)*_,e[8]=w*_,e[9]=(f*l*i-c*d*i-f*n*p+t*d*p+c*n*g-t*l*g)*_,e[10]=(s*d*i-f*a*i+f*n*u-t*d*u-s*n*g+t*a*g)*_,e[11]=(c*a*i-s*l*i-c*n*u+t*l*u+s*n*p-t*a*p)*_,e[12]=b*_,e[13]=(c*d*r-f*l*r+f*n*h-t*d*h-c*n*m+t*l*m)*_,e[14]=(f*a*r-s*d*r-f*n*o+t*d*o+s*n*m-t*a*m)*_,e[15]=(s*l*r-c*a*r+c*n*o-t*l*o-s*n*h+t*a*h)*_,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,s=e.x,a=e.y,o=e.z,u=i*s,c=i*a;return this.set(u*s+n,u*a-r*o,u*o+r*a,0,u*a+r*o,c*a+n,c*o-r*s,0,u*o-r*a,c*o+r*s,i*o*o+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,s){return this.set(1,n,i,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,s=t._y,a=t._z,o=t._w,u=i+i,c=s+s,l=a+a,h=i*u,p=i*c,f=i*l,d=s*c,m=s*l,g=a*l,v=o*u,y=o*c,w=o*l,b=n.x,x=n.y,_=n.z;return r[0]=(1-(d+g))*b,r[1]=(p+w)*b,r[2]=(f-y)*b,r[3]=0,r[4]=(p-w)*x,r[5]=(1-(h+g))*x,r[6]=(m+v)*x,r[7]=0,r[8]=(f+y)*_,r[9]=(m-v)*_,r[10]=(1-(h+d))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=Li.set(r[0],r[1],r[2]).length();const s=Li.set(r[4],r[5],r[6]).length(),a=Li.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Bi.copy(this);const o=1/i,u=1/s,c=1/a;return Bi.elements[0]*=o,Bi.elements[1]*=o,Bi.elements[2]*=o,Bi.elements[4]*=u,Bi.elements[5]*=u,Bi.elements[6]*=u,Bi.elements[8]*=c,Bi.elements[9]*=c,Bi.elements[10]*=c,t.setFromRotationMatrix(Bi),n.x=i,n.y=s,n.z=a,this}makePerspective(e,t,n,r,i,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,o=2*i/(t-e),u=2*i/(n-r),c=(t+e)/(t-e),l=(n+r)/(n-r),h=-(s+i)/(s-i),p=-2*s*i/(s-i);return a[0]=o,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,n,r,i,s){const a=this.elements,o=1/(t-e),u=1/(n-r),c=1/(s-i),l=(t+e)*o,h=(n+r)*u,p=(s+i)*c;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}Ii.prototype.isMatrix4=!0;const Li=new ki,Bi=new Ii,Pi=new ki(0,0,0),Fi=new ki(1,1,1),ji=new ki,Ui=new ki,qi=new ki,Vi=new Ii,Hi=new Ri;class $i{constructor(e=0,t=0,n=0,r=$i.DefaultOrder){this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t,n){const r=e.elements,i=r[0],s=r[4],a=r[8],o=r[1],u=r[5],c=r[9],l=r[2],h=r[6],p=r[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(Oi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-s,i)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Oi(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(o,u)):(this._y=Math.atan2(-l,i),this._z=0);break;case"ZXY":this._x=Math.asin(Oi(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-l,p),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(o,i));break;case"ZYX":this._y=Math.asin(-Oi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(o,i)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(Oi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-l,i)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-Oi(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-c,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Vi.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Vi,t,n)}setFromVector3(e,t){return this.set(e.x,e.y,e.z,t||this._order)}reorder(e){return Hi.setFromEuler(this),this.setFromQuaternion(Hi,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new ki(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}$i.prototype.isEuler=!0,$i.DefaultOrder="XYZ",$i.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const Wi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Gi={h:0,s:0,l:0},Yi={h:0,s:0,l:0};function Zi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Xi(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Ji(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}class Qi{constructor(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setRGB(e,t,n){return this.r=e,this.g=t,this.b=n,this}setHSL(e,t,n){if(e=Ci(e,1),t=Oi(t,0,1),n=Oi(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Zi(i,r,e+1/3),this.g=Zi(i,r,e),this.b=Zi(i,r,e-1/3)}return this}setStyle(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let e;const r=n[1],i=n[2];switch(r){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,t(e[4]),this;if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,t(e[4]),this;break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i)){const n=parseFloat(e[1])/360,r=parseInt(e[2],10)/100,i=parseInt(e[3],10)/100;return t(e[4]),this.setHSL(n,r,i)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=n[1],t=e.length;if(3===t)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,this;if(6===t)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=Wi[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){const n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=Xi(e.r),this.g=Xi(e.g),this.b=Xi(e.b),this}copyLinearToSRGB(e){return this.r=Ji(e.r),this.g=Ji(e.g),this.b=Ji(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const t=this.r,n=this.g,r=this.b,i=Math.max(t,n,r),s=Math.min(t,n,r);let a,o;const u=(s+i)/2;if(s===i)a=0,o=0;else{const e=i-s;switch(o=u<=.5?e/(i+s):e/(2-i-s),i){case t:a=(n-r)/e+(n<r?6:0);break;case n:a=(r-t)/e+2;break;case r:a=(t-n)/e+4}a/=6}return e.h=a,e.s=o,e.l=u,e}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(e,t,n){return this.getHSL(Gi),Gi.h+=e,Gi.s+=t,Gi.l+=n,this.setHSL(Gi.h,Gi.s,Gi.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Gi),e.getHSL(Yi);const n=Ai(Gi.h,Yi.h,t),r=Ai(Gi.s,Yi.s,t),i=Ai(Gi.l,Yi.l,t);return this.setHSL(n,r,i),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Qi.NAMES=Wi,Qi.prototype.isColor=!0,Qi.prototype.r=1,Qi.prototype.g=1,Qi.prototype.b=1;const Ki=new Mi;class es{constructor(e=new Mi(1/0,1/0),t=new Mi(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Ki.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Mi),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Mi),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Mi),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Mi),t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Ki.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}es.prototype.isBox2=!0;class ts{constructor(e=new ki(1/0,1/0,1/0),t=new ki(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,i=-1/0,s=-1/0,a=-1/0;for(let o=0,u=e.length;o<u;o+=3){const u=e[o],c=e[o+1],l=e[o+2];u<t&&(t=u),c<n&&(n=c),l<r&&(r=l),u>i&&(i=u),c>s&&(s=c),l>a&&(a=l)}return this.min.set(t,n,r),this.max.set(i,s,a),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,i=-1/0,s=-1/0,a=-1/0;for(let o=0,u=e.count;o<u;o++){const u=e.getX(o),c=e.getY(o),l=e.getZ(o);u<t&&(t=u),c<n&&(n=c),l<r&&(r=l),u>i&&(i=u),c>s&&(s=c),l>a&&(a=l)}return this.min.set(t,n,r),this.max.set(i,s,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=rs.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new ki),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new ki),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),is.copy(t.boundingBox),is.applyMatrix4(e.matrixWorld),this.union(is));const n=e.children;for(let e=0,t=n.length;e<t;e++)this.expandByObject(n[e]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new ki),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,rs),rs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(hs),ps.subVectors(this.max,hs),ss.subVectors(e.a,hs),as.subVectors(e.b,hs),os.subVectors(e.c,hs),us.subVectors(as,ss),cs.subVectors(os,as),ls.subVectors(ss,os);let t=[0,-us.z,us.y,0,-cs.z,cs.y,0,-ls.z,ls.y,us.z,0,-us.x,cs.z,0,-cs.x,ls.z,0,-ls.x,-us.y,us.x,0,-cs.y,cs.x,0,-ls.y,ls.x,0];return!!ms(t,ss,as,os,ps)&&(t=[1,0,0,0,1,0,0,0,1],!!ms(t,ss,as,os,ps)&&(fs.crossVectors(us,cs),t=[fs.x,fs.y,fs.z],ms(t,ss,as,os,ps)))}clampPoint(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new ki),t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return rs.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(rs).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(ns[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ns[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ns[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ns[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ns[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ns[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ns[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ns[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ns)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}ts.prototype.isBox3=!0;const ns=[new ki,new ki,new ki,new ki,new ki,new ki,new ki,new ki],rs=new ki,is=new ts,ss=new ki,as=new ki,os=new ki,us=new ki,cs=new ki,ls=new ki,hs=new ki,ps=new ki,fs=new ki,ds=new ki;function ms(e,t,n,r,i){for(let s=0,a=e.length-3;s<=a;s+=3){ds.fromArray(e,s);const a=i.x*Math.abs(ds.x)+i.y*Math.abs(ds.y)+i.z*Math.abs(ds.z),o=t.dot(ds),u=n.dot(ds),c=r.dot(ds);if(Math.max(-Math.max(o,u,c),Math.min(o,u,c))>a)return!1}return!0}new ki,new ki,new ki,new ki,new ki,new ki,new ki,new ki,new ki;class gs{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,i,s,a,o,u){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=o,c[6]=n,c[7]=s,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,s=n[0],a=n[3],o=n[6],u=n[1],c=n[4],l=n[7],h=n[2],p=n[5],f=n[8],d=r[0],m=r[3],g=r[6],v=r[1],y=r[4],w=r[7],b=r[2],x=r[5],_=r[8];return i[0]=s*d+a*v+o*b,i[3]=s*m+a*y+o*x,i[6]=s*g+a*w+o*_,i[1]=u*d+c*v+l*b,i[4]=u*m+c*y+l*x,i[7]=u*g+c*w+l*_,i[2]=h*d+p*v+f*b,i[5]=h*m+p*y+f*x,i[8]=h*g+p*w+f*_,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],u=e[7],c=e[8];return t*s*c-t*a*u-n*i*c+n*a*o+r*i*u-r*s*o}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],u=e[7],c=e[8],l=c*s-a*u,h=a*o-c*i,p=u*i-s*o,f=t*l+n*h+r*p;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const d=1/f;return e[0]=l*d,e[1]=(r*u-c*n)*d,e[2]=(a*n-r*s)*d,e[3]=h*d,e[4]=(c*t-r*o)*d,e[5]=(r*i-a*t)*d,e[6]=p*d,e[7]=(n*o-u*t)*d,e[8]=(s*t-n*i)*d,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,s,a){const o=Math.cos(i),u=Math.sin(i);return this.set(n*o,n*u,-n*(o*s+u*a)+s+e,-r*u,r*o,-r*(-u*s+o*a)+a+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],s=r[3],a=r[6],o=r[1],u=r[4],c=r[7];return r[0]=t*i+n*o,r[3]=t*s+n*u,r[6]=t*a+n*c,r[1]=-n*i+t*o,r[4]=-n*s+t*u,r[7]=-n*a+t*c,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<9;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}gs.prototype.isMatrix3=!0,new ki,new ki,new gs;const vs=Object.freeze(new Mi(0,0));Object.freeze(new Mi(1,1));const ys=Object.freeze(new ki(0,0,0));Object.freeze(new ki(1,0,0)),Object.freeze(new ki(0,1,0)),Object.freeze(new ki(0,0,1));const ws=Object.freeze(new ki(1,1,1)),bs=Object.freeze(new Ri),xs={RIGHT:Object.freeze(new ki(1,0,0)),UP:Object.freeze(new ki(0,1,0)),NEAR:Object.freeze(new ki(0,0,1)),LEFT:Object.freeze(new ki(-1,0,0)),DOWN:Object.freeze(new ki(0,-1,0)),FAR:Object.freeze(new ki(0,0,-1))};function _s(e,t){return"number"==typeof e?function(e,t){if(t===e)return 0;return Math.abs(t-e)/((Math.abs(t)+Math.abs(e))/2)}(e,t):"isVector3"in e||"isVector2"in e?function(e,t){if(t.equals(e))return 0;return t.distanceTo(e)/((t.length()+e.length())/2)}(e,t):"isBox3"in e?function(e,t){if(e.equals(t))return 0;const n=Ms;return(t.min.distanceTo(e.min)+t.max.distanceTo(e.max))/2/((t.getSize(n).length()+e.getSize(n).length())/2)}(e,t):"isQuaternion"in e?(r=t,(n=e).equals(r)?0:n.angleTo(r)/Math.PI):"isColor"in e?function(e,t){return e.equals(t)?0:Ms.set(Math.abs(t.r-e.r),Math.abs(t.g-e.g),Math.abs(t.b-e.b)).length()/Es}(e,t):1/0;var n,r}const Ms=new ki,Es=Math.sqrt(3),Ns=(e=1)=>{var t=Math.random();return(t%1e-8>5e-9?1:-1)*Math.sqrt(-Math.log(Math.max(1e-9,t)))*e},Ss=(e=1)=>{const t=Math.sqrt(Math.sqrt(1/(2*e)));return 1/Ns(t)**2},Ts=(()=>{const e=2*Math.PI,t=new ki(0,0,1),n=new Ri,r=new Ri,i=new ki,s=new Ri;return function(a=1,o=1){var u=(Math.random()-.5)*e*a,c=Math.random()*e,l=Math.random()*Math.PI*o;return i.set(1,0,0).applyAxisAngle(t,c),n.setFromAxisAngle(t,u),r.setFromAxisAngle(i,l),s.multiplyQuaternions(r,n)}})();(()=>{const e=new ki})();class Os{constructor(){this.callbacks=[]}memoize(e,...t){t.push(this);const n=function(e){let t;const n=()=>{if(n.needsUpdate&&(n.needsUpdate=!1,t=e()),void 0===t)throw new Error("Possible recursive memoization detected");return t};return n.needsUpdate=!0,n}(e);for(const e of t)e.callbacks.push(n);return n}invalidateAll(){const e=this.callbacks;for(let t=0;t<this.callbacks.length;t++)e[t].needsUpdate=!0}isFullyInvalid(){const e=this.callbacks;for(let t=0;t<this.callbacks.length;t++)if(!e[t].needsUpdate)return!1;return!0}}var Cs,As,Rs;const ks=Symbol("current"),zs=Symbol("target"),Ds=Symbol("previousTarget"),Is=class{constructor(e,t){this.mode=e,this.metrics=t,this._cache=new Os,this.opacity=1,this._parent=null,this._localMatrix=new Ii,this._worldMatrix=new Ii,this._worldMatrixInverse=new Ii,this._worldPosition=new ki,this._worldOrientation=new Ri,this._worldOrientationInverse=new Ri,this._worldScale=new ki(1,1,1),this._worldRotation=new Ii,this._worldRotationInverse=new Ii,this._relativePosition=new ki,this._relativeOrientation=new Ri,this._relativeScale=new ki(1,1,1),this._cachedWorldCenter=this._cache.memoize((()=>this._worldCenter.copy(this.metrics.innerCenter).applyMatrix4(this.worldMatrix))),this._worldCenter=new ki,this._cachedSpatialMatrix=this._cache.memoize((()=>{const e=this._worldFromSpatial.compose(this.outerOrigin,this.worldOrientation,ws);this._spatialFromWorld.copy(this._worldFromSpatial).invert(),this._localFromSpatial.multiplyMatrices(this.worldMatrixInverse,e),this._spatialFromLocal.copy(this._localFromSpatial).invert();const t=this.referenceState;return t?this._spatialFromReference.multiplyMatrices(this._spatialFromWorld,t.worldMatrix):this._spatialFromReference.copy(this._spatialFromWorld),e})),this._worldFromSpatial=new Ii,this._spatialFromWorld=new Ii,this._localFromSpatial=new Ii,this._spatialFromLocal=new Ii,this._spatialFromReference=new Ii,this._cachedSpatialBounds=this._cache.memoize((()=>{this._spatialBounds.copy(this.metrics.innerBounds);const e=this._spatialBounds.applyMatrix4(this.spatialFromLocal);return e.getCenter(this._spatialCenter),e.getSize(this._spatialSize),e})),this._spatialBounds=new ts,this._spatialSize=new ki,this._spatialCenter=new ki,this._cachedOuterBounds=this._cache.memoize((()=>{const e=this._outerBounds,t=this.metrics.system.nodeAdapters.get(this.metrics.node);if(t)e.copy(t.outerBounds[this.mode]);else{const t=this.referenceState;t?e.copy(t.metrics.innerBounds):e.setFromCenterAndSize(ys,ys),e.applyMatrix4(this.spatialFromReference)}return e.getCenter(this._outerCenter),e.getSize(this._outerSize),e})),this._outerBounds=new ts,this._outerCenter=new ki,this._outerSize=new ki,this._cachedOuterVisualBounds=this._cache.memoize((()=>{const e=this._outerVisualBounds,t=this.metrics.system.nodeAdapters.get(this.metrics.node);if(t)e.copy(t.outerVisualBounds[this.mode]);else{const t=this.referenceState;t?e.copy(t.visualBounds):e.setFromCenterAndSize(ys,ys)}return e.getCenter(this._outerVisualCenter),e.getSize(this._outerVisualSize),e})),this._outerVisualBounds=new ts,this._outerVisualCenter=new ki,this._outerVisualSize=new ki,this._viewFromWorld=new Ii,this._viewFromSpatial=new Ii,this._spatialFromView=new Ii,this._cachedNDCBounds=this._cache.memoize((()=>{if(this.metrics.system.viewNode===this.metrics.node)return this._ndcBounds.min.setScalar(-1),this._ndcBounds.max.setScalar(1),this._ndcBounds;const e=this.metrics.system.viewFrustum.perspectiveProjectionMatrix,t=this.viewFromWorld,n=this._viewProjectionFromWorld.multiplyMatrices(e,t),r=this._ndcBounds.copy(this.metrics.innerBounds).applyMatrix4(n);return r.getCenter(this._ndcCenter),r.getSize(this._ndcSize),isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.min.z)&&isFinite(r.max.x)&&isFinite(r.max.y)&&isFinite(r.max.z)||(r.min.setScalar(-1),r.max.setScalar(1),r.getCenter(this._ndcCenter),r.getSize(this._ndcSize)),r}),this._viewState._cache),this._viewProjectionFromWorld=new Ii,this._ndcBounds=new ts,this._ndcCenter=new ki,this._ndcSize=new ki,this._cachedVisualBounds=this._cache.memoize((()=>{const e=this.metrics.system,t=e.viewFrustum.perspectiveProjectionMatrix,n=this._inverseProjection.copy(t).invert(),r=this._visualBounds.copy(this.ndcBounds),i=this._v1,s=i.set(0,0,r.min.z).applyMatrix4(n).z,a=i.set(0,0,r.max.z).applyMatrix4(n).z;return r.min.z=a,r.max.z=s,r.min.x*=.5*e.viewResolution.x,r.max.x*=.5*e.viewResolution.x,r.min.y*=.5*e.viewResolution.y,r.max.y*=.5*e.viewResolution.y,r.getCenter(this._visualCenter),r.getSize(this._visualSize),r}),this._viewState._cache),this._visualBounds=new ts,this._visualCenter=new ki,this._visualSize=new ki,this._v1=new ki,this._inverseProjection=new Ii,this._viewPosition=new ki,this._cachedViewAlignedOrientation=this._cache.memoize((()=>{const e=this._relativeViewMatrix.multiplyMatrices(this.worldMatrixInverse,this._viewState.worldMatrix),t=this._relativeViewRotation.extractRotation(e),n=this._relativeViewOrientation.setFromRotationMatrix(t),r=this._relativeViewForward.set(0,0,1).applyQuaternion(n),i=this._relativeViewUp.set(0,1,0).applyQuaternion(n);let s,a,o,u=1/0,c=1/0;for(o in xs){const e=xs[o];var l=i.distanceToSquared(e);l<c&&(c=l,a=e)}for(o in xs){const e=xs[o];if(e.x&&a.x)continue;if(e.y&&a.y)continue;if(e.z&&a.z)continue;const t=r.distanceToSquared(e);t<u&&(u=t,s=e)}const h=this._orthogonalRotation.identity();return h.lookAt(s,ys,a),this._orthogonalOrientation.setFromRotationMatrix(h)}),this._viewState._cache),this._relativeViewMatrix=new Ii,this._relativeViewRotation=new Ii,this._relativeViewOrientation=new Ri,this._relativeViewUp=new ki,this._relativeViewForward=new ki,this._orthogonalRotation=new Ii,this._orthogonalOrientation=new Ri,this._computeOcclusion=this._cache.memoize((()=>{this._occludingPercent=0,this._occludedPercent=0;const e=this.metrics;if(e.innerBounds.isEmpty())return;const t=e.system.nodeAdapters.values(),n=this.visualBounds,r=n.min.z,i=Is._boxA,s=Is._boxB;i.min.set(n.min.x,n.min.y),i.min.set(n.max.x,n.max.y);const a=i.getSize(Is._sizeA).length();for(const o of t){const t=o.metrics;if(t===e)continue;if(!t.isAdaptive||t.innerBounds.isEmpty())continue;if(t.containedByNode(o.node))continue;const u=("current"===this.mode?t.current:t.target).visualBounds;i.min.set(n.min.x,n.min.y),i.min.set(n.max.x,n.max.y),s.min.set(u.min.x,u.min.y),s.min.set(u.max.x,u.max.y);const c=i.intersect(s).getSize(Is._sizeB).length()/a;c>0&&(r<u.min.z?this._occludingPercent+=c:this._occludedPercent+=c)}}),this._viewState._cache),this._occludingPercent=0,this._occludedPercent=0}invalidate(){this._cache.invalidateAll()}get parent(){return this._parent}set parent(e){this._parent!==e&&(this._parent=e,this.invalidate())}get parentState(){var e;return null==(e=this.metrics.parentMetrics)?void 0:e[this.mode]}get localMatrix(){var e;const t=null==(e=this.parentState)?void 0:e.worldMatrixInverse;return t?this._localMatrix.multiplyMatrices(t,this.worldMatrix):this._localMatrix.copy(this.worldMatrix)}get referenceState(){var e;return null==(e=this.metrics.referenceMetrics)?void 0:e[this.mode]}get worldMatrix(){return this._worldMatrix}set worldMatrix(e){if(isNaN(e.elements[0])||isNaN(e.elements[15])||0===e.elements[0])throw new Error;this._worldMatrix.equals(e)||(this.invalidate(),this._worldMatrix.copy(e),this._worldMatrixInverse.copy(this._worldMatrix).invert(),this._worldMatrix.decompose(this._worldPosition,this._worldOrientation,this._worldScale),this._worldOrientationInverse.copy(this._worldOrientation).invert(),this._worldRotation.makeRotationFromQuaternion(this._worldOrientation),this._worldRotationInverse.makeRotationFromQuaternion(this._worldOrientationInverse))}get relativePosition(){var e;const t=null==(e=this.referenceState)?void 0:e.worldPosition;return t?this._relativePosition.subVectors(this.worldPosition,t):this._relativePosition.copy(this.worldPosition)}get relativeOrientation(){var e;const t=null==(e=this.referenceState)?void 0:e.worldOrientationInverse;return t?this._relativeOrientation.multiplyQuaternions(this.worldOrientation,t):this._relativeOrientation.copy(this.worldOrientation)}get relativeScale(){var e;const t=null==(e=this.referenceState)?void 0:e.worldScale;return t?this._relativeScale.copy(this.worldScale).divide(t):this._relativeScale.copy(this.worldScale)}get worldMatrixInverse(){return this._worldMatrixInverse}get worldPosition(){return this._worldPosition}get worldOrientation(){return this._worldOrientation}get worldScale(){return this._worldScale}get worldOrientationInverse(){return this._worldOrientationInverse}get worldRotation(){return this._worldRotation}get worldRotationInverse(){return this._worldRotationInverse}get worldCenter(){return this._cachedWorldCenter()}get spatialMatrix(){return this._cachedSpatialMatrix()}get spatialMatrixInverse(){return this.spatialMatrix,this._spatialFromWorld}get localFromSpatial(){return this.spatialMatrix,this._localFromSpatial}get spatialFromLocal(){return this.spatialMatrix,this._spatialFromLocal}get spatialFromReference(){return this.spatialMatrix,this._spatialFromReference}get spatialBounds(){return this._cachedSpatialBounds()}get spatialSize(){return this.spatialBounds,this._spatialSize}get spatialCenter(){return this.spatialBounds,this._spatialCenter}get outerBounds(){return this._cachedOuterBounds()}get outerCenter(){return this.outerBounds,this._outerCenter}get outerSize(){return this.outerBounds,this._outerSize}get outerOrigin(){return this.metrics.outerOrigin[this.mode]()}get outerOrientation(){var e,t;const n=this.metrics.system.nodeAdapters.get(this.metrics.node);return n?n.outerOrientation[this.mode]:null!=(t=null==(e=this.referenceState)?void 0:e.worldOrientation)?t:bs}get outerVisualBounds(){return this._cachedOuterVisualBounds()}get outerVisualCenter(){return this.outerVisualBounds,this._outerVisualCenter}get outerVisualSize(){return this.outerVisualBounds,this._outerVisualSize}get _viewState(){if(this.metrics.system.viewNode===this.metrics.node)return this;const e=this.metrics.system.viewMetrics;return"current"===this.mode?e[ks]:e[zs]}get viewFromWorld(){return this._viewFromWorld.multiplyMatrices(this._viewState.worldMatrixInverse,this.worldMatrix)}get viewFromSpatial(){return this._viewFromSpatial.multiplyMatrices(this._viewState.worldMatrixInverse,this.spatialMatrix)}get spatialFromView(){return this._spatialFromView.copy(this.viewFromSpatial).invert()}get ndcBounds(){return this._cachedNDCBounds()}get ndcCenter(){return this._cachedNDCBounds(),this._ndcCenter}get ndcSize(){return this._cachedNDCBounds(),this._ndcSize}get visualBounds(){return this._cachedVisualBounds()}get visualCenter(){return this._cachedVisualBounds(),this._visualCenter}get visualSize(){return this._cachedVisualBounds(),this._visualSize}get relativeViewPosition(){return this._viewPosition.copy(this._viewState.worldPosition).applyMatrix4(this.worldMatrixInverse)}get viewAlignedOrientation(){return this._cachedViewAlignedOrientation()}get occludingPercent(){return this._computeOcclusion(),this._occludingPercent}get occludedPercent(){return this._computeOcclusion(),this._occludedPercent}visualAverageEdgeLength(){}};let Ls=Is;Ls._boxA=new es,Ls._boxB=new es,Ls._sizeA=new Mi,Ls._sizeB=new Mi;class Bs{constructor(e,t){this.system=e,this.node=t,this._cache=new Os,this.needsUpdate=!0,this._cachedInnerBounds=this._cache.memoize((()=>{const e=this._innerBounds;if(!this.raw.parent)return e.makeEmpty();if(this.node!==this.system.viewNode){e.copy(this.intrinsicBounds);const t=this._childBounds;for(const n of this.boundingChildMetrics)n.update(),t.copy(n.innerBounds),t.applyMatrix4(n.raw.relativeMatrix),e.union(t)}const t=e.getCenter(this._innerCenter),n=e.getSize(this._innerSize);if(n.length()>0){const r=this.system.epsillonMeters;Math.abs(n.x)<=r&&(n.x=(Math.sign(n.x)||1)*r*1e3),Math.abs(n.y)<=r&&(n.y=(Math.sign(n.y)||1)*r*1e3),Math.abs(n.z)<=r&&(n.z=(Math.sign(n.z)||1)*r*1e3,t.z-=1e3*r/2),e.setFromCenterAndSize(t,n)}return e})),this._childBounds=new ts,this._innerBounds=new ts,this._innerCenter=new ki,this._innerSize=new ki,this._intrinsicBoundsNeedsUpdate=!0,this._intrinsicBounds=new ts,this._intrinsicCenter=new ki,this._intrinsicSize=new ki,this._cachedNodeChildren=this._cache.memoize((()=>(this.system.bindings.getChildren(this,this._nodeChildren),this._nodeChildren))),this._nodeChildren=new Array,this._computeState=(()=>{const e=new Ii,t=new Ri,n=new Ii,r=new ki,i=new Ri,s=new ki,a=new ki,o=new ki,u=new ki,c=new ki;return function(l){var h;l.parent=this.raw.parent;const p=this._adapter,f=null==(h=this.referenceMetrics)?void 0:h[l.mode];t.copy((null==p?void 0:p.orientation.enabled)&&(null==p?void 0:p.orientation[l.mode])||this.raw.relativeOrientation);const d=(null==p?void 0:p.bounds.enabled)&&(null==p?void 0:p.bounds[l.mode]);if(d){d.getCenter(a),d.getSize(o);const e=this.innerCenter,h=this.innerSize,p=this.system.epsillonMeters;Math.abs(o.x)<=p&&(o.x=(Math.sign(o.x)||1)*p*10),Math.abs(o.y)<=p&&(o.y=(Math.sign(o.y)||1)*p*10),Math.abs(o.z)<=p&&(o.z=(Math.sign(o.z)||1)*p*10),s.copy(o),Math.abs(h.x)>=p&&(s.x/=h.x),Math.abs(h.y)>=p&&(s.y/=h.y),Math.abs(h.z)>=p&&(s.z/=h.z),i.multiplyQuaternions(l.outerOrientation,t).normalize(),u.copy(a).applyQuaternion(i),c.copy(e).multiply(s).applyQuaternion(i),r.copy(l.outerOrigin).add(u).sub(c),n.compose(r,i,s),l.worldMatrix=n}else e.compose(this.raw.relativePosition,t,this.raw.relativeScale),l.worldMatrix=(null==f?void 0:f.worldMatrix)?n.multiplyMatrices(null==f?void 0:f.worldMatrix,e):e;const m=(null==p?void 0:p.opacity.enabled)&&(null==p?void 0:p.opacity[l.mode]);return l.opacity="number"==typeof m?m:1,l}})(),this.raw={parent:null,worldMatrix:new Ii,relativeMatrix:new Ii,opacity:0,worldPosition:new ki,worldOrientation:new Ri,worldScale:new ki,relativePosition:new ki,relativeOrientation:new Ri,relativeScale:new ki,spatialBounds:new ts,worldFromSpatial:new Ii,localFromSpatial:new Ii,spatialFromLocal:new Ii},this.outerOrigin={current:()=>this._getOuterOrigin("current"),target:()=>this._getOuterOrigin("target")},this._cachedCurrentState=this._cache.memoize((()=>this._computeState(this[ks]))),this[Cs]=new Ls("current",this),this._cachedTargetState=this._cache.memoize((()=>this._computeState(this[zs]))),this[As]=new Ls("target",this),this[Rs]=new Ls("target",this),this._cachedBoundsChildren=this._cache.memoize((()=>{const e=this.nodeChildren,t=this._boundingChildren;t.length=0;for(const n of e){const e=this.system.getMetrics(n);e.isAdaptive||t.push(e)}return t})),this._boundingChildren=[]}update(){var e,t;if(this.needsUpdate){this.needsUpdate=!1;const n=this._adapter=this.system.nodeAdapters.get(this.node);this.parentNode=this.raw.parent,this.parentMetrics=this.parentNode&&this.system.getMetrics(this.parentNode);const r=(null==(e=null==n?void 0:n.activeLayout)?void 0:e.referenceNode)||(null==n?void 0:n.referenceNode)||this.parentNode;this.referenceMetrics=r&&this.system.getMetrics(r),null==(t=this.referenceMetrics)||t.update(),n?n._update():(this.invalidateInnerBounds(),this.invalidateStates(),this.updateRawState())}}get innerBounds(){return this._cachedInnerBounds()}get innerCenter(){return this.innerBounds,this._innerCenter}get innerSize(){return this.innerBounds,this._innerSize}get intrinsicBounds(){return this._intrinsicBoundsNeedsUpdate&&(this._intrinsicBoundsNeedsUpdate=!1,this.system.bindings.getIntrinsicBounds(this,this._intrinsicBounds),this._intrinsicBounds.getCenter(this._intrinsicCenter),this._intrinsicBounds.getSize(this._intrinsicSize)),this._intrinsicBounds}get intrinsicCenter(){return this.intrinsicBounds,this._intrinsicCenter}get intrinsicSize(){return this.intrinsicBounds,this._intrinsicSize}invalidateIntrinsicBounds(){this._intrinsicBoundsNeedsUpdate=!0;for(const e of this.boundingChildMetrics)e.invalidateIntrinsicBounds()}invalidateInnerBounds(){if(!this._cachedInnerBounds.needsUpdate){this._cachedNodeChildren.needsUpdate=!0,this._cachedBoundsChildren.needsUpdate=!0,this._cachedInnerBounds.needsUpdate=!0;for(const e of this.boundingChildMetrics)e.invalidateInnerBounds()}}containsNode(e){this.update();let t=this.system.getMetrics(e);for(;t;){if(t.parentMetrics===this)return t.node;t=t.parentMetrics}return!1}containedByNode(e){this.update();let t=this.parentMetrics;for(;t;){if(t.node===e)return t.node;t=t.parentMetrics}return!1}get nodeChildren(){return this._cachedNodeChildren()}invalidateStates(){this._cachedCurrentState.needsUpdate=!0,this._cachedTargetState.needsUpdate=!0,this[ks].invalidate(),this[zs].invalidate()}updateRawState(){this.system.bindings.getState(this);const e=this.raw;e.worldMatrix.decompose(e.worldPosition,e.worldOrientation,e.worldScale),e.relativeMatrix.decompose(e.relativePosition,e.relativeOrientation,e.relativeScale),e.worldFromSpatial.compose(this.outerOrigin.target(),e.worldOrientation,ws),e.localFromSpatial.copy(e.worldMatrix).invert().multiply(e.worldFromSpatial),e.spatialFromLocal.copy(e.localFromSpatial).invert(),e.spatialBounds.copy(this.innerBounds).applyMatrix4(e.spatialFromLocal)}_getOuterOrigin(e){var t,n,r;const i=this.system.nodeAdapters.get(this.node);return i?i.outerOrigin[e]:null!=(r=null==(n=null==(t=this.referenceMetrics)?void 0:t[e])?void 0:n.worldCenter)?r:ys}get current(){return this.update(),this._cachedCurrentState()}get target(){return this.update(),this._cachedTargetState()}get previousTarget(){return this.update(),this[Ds]}get boundingChildMetrics(){return this._cachedBoundsChildren()}get isAdaptive(){return this.system.nodeAdapters.has(this.node)}}Cs=ks,As=zs,Rs=Ds;class Ps{constructor(e){e&&Object.assign(this,e)}}class Fs{constructor(e){this.system=e,this._config=new Ps,this._prevOrientation=new Ri,this._prevBounds=new ts,this._scratchSolution=new Qs,this._scratchBestSolution=new Qs}_setConfig(e){var t,n,r,i,s,a,o,u,c,l;const h=this.system.optimize;this._config.minFeasibleTime=null!=(t=e.minFeasibleTime)?t:h.minFeasibleTime,this._config.maxInfeasibleTime=null!=(n=e.maxInfeasibleTime)?n:h.maxInfeasibleTime,this._config.pulseRate=null!=(r=e.pulseRate)?r:h.pulseRate,this._config.maxIterationsPerFrame=null!=(i=e.maxIterationsPerFrame)?i:h.maxIterationsPerFrame,this._config.swarmSize=null!=(s=e.swarmSize)?s:h.swarmSize,this._config.pulseFrequencyMin=null!=(a=e.pulseFrequencyMin)?a:h.pulseFrequencyMin,this._config.pulseFrequencyMax=null!=(o=e.pulseFrequencyMax)?o:h.pulseFrequencyMax,this._config.stepSizeMax=null!=(u=e.stepSizeMax)?u:h.stepSizeMax,this._config.stepSizeMin=null!=(c=e.stepSizeMin)?c:h.stepSizeMin,this._config.stepSizeStart=null!=(l=e.stepSizeStart)?l:h.stepSizeStart}update(e){if(0===e.layouts.length||e.metrics.innerBounds.isEmpty())return e.activeLayout=null,!1;const t=this._prevOrientation.copy(e.orientation.target),n=this._prevBounds.copy(e.bounds.target);for(const t of e.layouts)this._setConfig(t),this._updateLayout(e,t);let r,i;for(const t of e.layouts){const e=t.solutions[0];if((!i||!i.isFeasible&&e.isFeasible)&&(i=e,r=t,i.isFeasible))break}return e.layoutFeasibleTime+=e.system.deltaTime,e.layoutInfeasibleTime+=e.system.deltaTime,(null==i?void 0:i.isFeasible)||(e.layoutFeasibleTime=0),i&&i.isFeasible&&e.layoutFeasibleTime>=this._config.minFeasibleTime||e.layoutInfeasibleTime>=this._config.maxInfeasibleTime?(e.layoutInfeasibleTime=0,i.apply(!1)):(e.orientation.target=t,e.bounds.target=n,e.metrics.invalidateStates()),e.activeLayout=r,!0}_updateLayout(e,t){var n;e.measureBoundsCache.clear(),t.processObjectives();const r=t.solutions,i=this._config,s=this._scratchSolution,a=this._scratchBestSolution;let o=i.maxIterationsPerFrame;(null==(n=t.solutions[0])?void 0:n.isFeasible)&&(o=1),this._manageSolutionPopulation(e,t,i.swarmSize,i.stepSizeStart),r[0].apply();for(let e=0;e<o;e++){t.iteration++,a.copy(r[0]);let e=!1;for(let n=0;n<r.length;n++){const o=r[n];let u;if(s.copy(o),s.mutationStrategies=o.mutationStrategies,Math.random()<i.pulseRate){const e=a!==o?a:r[1];let n;if(r.length>2)do{n=r[Math.floor(Math.random()*r.length)]}while(n===o);s.moveTowards(e,i.pulseFrequencyMin,i.pulseFrequencyMax),n&&t.compareSolutions(n,o)<=0&&s.moveTowards(n,i.pulseFrequencyMin,i.pulseFrequencyMax)}else u=s.perturb();s.apply();const c=t.compareSolutions(s,o)<0;if(c&&(o.copy(s),o!==r[0]&&t.compareSolutions(o,r[0])<0&&r[0].copy(o),e=!0),u)if(u.stepSize*=c?1.5:.9036020036098449,!c&&u.stepSize<i.stepSizeMin||u.stepSize>i.stepSizeMax){for(const e of o.mutationStrategies)e.stepSize=i.stepSizeStart;o!==r[0]&&(t.restartRate=.001+.999*t.restartRate,o.randomize(1),o.apply(),e=!0)}else o!==r[0]&&(t.restartRate=.999*t.restartRate)}e&&t.sortSolutions(),t.compareSolutions(a,r[0])<=0?t.successRate=.995*t.successRate:t.successRate=.005+.995*t.successRate}}_manageSolutionPopulation(e,t,n,r){if(n<=1)throw new Error("Swarm size must be larger than 1");if(t.solutions.length<n)for(;t.solutions.length<n;){const e=new Qs(t);for(const t of e.mutationStrategies)t.stepSize=r;e.randomize(1),t.solutions.push(e)}else if(t.solutions.length>n)for(;t.solutions.length>n;)t.solutions.pop()}}class js{constructor(e){this.type="ratio",this.sortBlame=0,this.relativeTolerance=void 0,this.absoluteTolerance=void 0,this.computedAbsoluteTolerance=-1/0,this.computedRelativeTolerance=-1/0,this.priority=0,this.index=-1,this.reduceFromOneOrManySpec=(e,t,n)=>{if(void 0===t)return 0;if(t instanceof Array){let r=-1/0;for(const i of t)r=Math.max(n(e,i),r);return r}return n(e,t)},this._getNumberScoreSingle=(e,t)=>{let n=0;if("object"!=typeof t){const r=this.layout.adapter.system.measureNumber(t);n=-Math.abs(e-r)}else{const r="gt"in t?this.layout.adapter.system.measureNumber(t.gt):void 0,i="lt"in t?this.layout.adapter.system.measureNumber(t.lt):void 0;void 0!==r&&e<r?n=e-r:void 0!==i&&e>i&&(n=i-e)}return n},this._getVector3ScoreSingle=(e,t)=>("x"in t&&void 0!==t.x?this.getNumberScore(e.x,t.x):0)+("y"in t&&void 0!==t.y?this.getNumberScore(e.y,t.y):0)+("z"in t&&void 0!==t.z?this.getNumberScore(e.z,t.z):0)+("magnitude"in t&&void 0!==t.magnitude?this.getNumberScore(e.length(),t.magnitude):0),this._quat=new Ri,this._euler=new $i,this._getQuaternionScoreSingle=(e,t)=>{var n,r;if(void 0===t)return 0;if("x"in t)return-this._quat.copy(t).angleTo(e)*Ti;if("swingRange"in t){const i=this._euler.setFromQuaternion(e),s=i.x*Ti,a=i.y*Ti,o=i.z*Ti,u=this.layout.adapter.system,c=u.mathScope.degree;let l=(null==(n=t.swingRange)?void 0:n.x)?u.measureNumber(t.swingRange.x,c):0,h=(null==(r=t.swingRange)?void 0:r.y)?u.measureNumber(t.swingRange.y,c):0;l=Math.max(l,.01),h=Math.max(h,.01);const p=1-(s/l)**2-(a/h)**2,f=(t.twistRange?u.measureNumber(t.twistRange,c):0)-Math.abs(o);return(p>0?0:p)+(f>0?0:f)}return 0},this._getBoundsMeasureScoreSingle=(e,t,n,r)=>{if(void 0===t)return 0;if("object"==typeof t){if("gt"in t){const i=this.layout.adapter.measureBounds(t.gt,n,r);if(e<i)return e-i}if("lt"in t){const i=this.layout.adapter.measureBounds(t.lt,n,r);if(e>i)return i-e}return 0}return-Math.abs(e-this.layout.adapter.measureBounds(t,n,r))},this.layout=e}static isDiscreteSpec(e){const t=typeof e;return"string"===t||"number"===t}static isContinuousSpec(e){return void 0!==e&&e instanceof Array==0&&"object"==typeof e&&1==("gt"in e||"lt"in e)}get bestScore(){return this.layout.solutions[0].scores[this.index]}getNumberScore(e,t){return this.reduceFromOneOrManySpec(e,t,this._getNumberScoreSingle)}getVector3Score(e,t){return this.reduceFromOneOrManySpec(e,t,this._getVector3ScoreSingle)}getQuaternionScore(e,t){return this.reduceFromOneOrManySpec(e,t,this._getQuaternionScoreSingle)}getBoundsScore(e,t){if(void 0===e)return 0;let n=0;for(const r in e){if("absolute"===r)continue;let i=r;if("size"===i||"center"===i){const r=e[i];for(const e of Hs){let s=e;if("spatial"!==t){if("meter"===this.type&&"z"!==s)continue;if("pixel"===this.type&&"z"===s)continue}n+=this.getBoundsMeasureScore(null==r?void 0:r[s],t,i+s)}}else{if("spatial"!==t){if("meter"===this.type&&"back"!==i&&"front"!==i)continue;if("pixel"===this.type&&("back"===i||"front"===i))continue}n+=this.getBoundsMeasureScore(e[i],t,i)}}return n}getBoundsMeasureScore(e,t,n){if(void 0===e)return 0;const r=this.layout.adapter.metrics.target;let i,s,a;switch(t){case"spatial":i=r.spatialBounds,s=r.spatialCenter,a=r.spatialSize;break;case"visual":case"view":i=r.visualBounds,s=r.visualCenter,a=r.visualSize;break;default:throw new Error(`Unknown measure type "${t}.${n}" in spec:\n "${e}"`)}let o=0;switch(n){case"left":o=i.min.x;break;case"right":o=i.max.x;break;case"bottom":o=i.min.y;break;case"top":o=i.max.y;break;case"back":o=i.min.z;break;case"front":o=i.max.z;break;case"centerx":o=s.x;break;case"centery":o=s.y;break;case"centerz":o=s.z;break;case"centerdistance":o="spatial"===t?s.length():Math.sqrt(s.x**2+a.y**2);break;case"sizex":o=a.x;break;case"sizey":o=a.y;break;case"sizez":o=a.z;break;case"sizediagonal":o="spatial"===t?a.length():Math.sqrt(a.x**2+a.y**2);break;default:throw new Error(`Unknown measure subtype ${t}.${n} in spec "${e}"`)}if(e instanceof Array){let r=-1/0;for(const i of e)r=Math.max(this._getBoundsMeasureScoreSingle(o,i,t,n),r);return r}return this._getBoundsMeasureScoreSingle(o,e,t,n)}attenuateVisualScore(e){let t=0;const n=this.layout.getComputedAbsoluteTolerance("pixel"),r=this.layout.adapter,i=r.system.viewResolution,s=r.system.viewFrustum,a=i.x,o=i.y,u=i.length(),c=r.metrics.target.visualBounds,l=c.min.x- -a/2+n,h=c.max.x-a/2-n,p=c.min.y- -o/2+n,f=c.max.y-o/2-n,d=c.max.z+s.nearMeters;return l<0&&(t+=Math.abs(l/a)),h>0&&(t+=Math.abs(h/a)),p<0&&(t+=Math.abs(p/o)),f>0&&(t+=Math.abs(f/o)),d>0&&(t+=10*d),e-Math.abs(u)*t}}class Us extends js{constructor(e){super(e),this.type="degree"}evaluate(){const e=this.layout.adapter.metrics.target;return this.getQuaternionScore(e.relativeOrientation,this.spec)}}class qs extends js{constructor(e){super(e),this.type="ratio"}evaluate(){const e=this.layout.adapter.metrics.target;return this.getVector3Score(e.worldScale,this.spec)}}class Vs extends js{constructor(e){super(e),this.mode="xyz",this._scale=new ki,this.type="ratio"}evaluate(){const e=this.layout.adapter.metrics.target,t=this.mode;if(!t)return 0;const n=this._scale.copy(e.worldScale),r="xyz"===t?Math.max(Math.abs(n.x),Math.abs(n.y),Math.abs(n.z)):Math.max(Math.abs(n.x),Math.abs(n.y)),i=n.divideScalar(r);return-1/i.x+1+-1/i.y+1+("xyz"===t?-1/i.z+1:i.z>1?1-i.z:0)}}const Hs=["x","y","z","diagonal","distance"];class $s extends js{constructor(e){super(e),this.type="meter"}evaluate(){return this.getBoundsScore(this.spec,"spatial")}}class Ws extends js{constructor(e){super(e),this.pixelTolerance=void 0,this.meterTolerance=void 0,this.type="pixel"}evaluate(){var e;return"meter"===this.type&&(this.absoluteTolerance=this.meterTolerance),"pixel"===this.type&&(this.absoluteTolerance=this.pixelTolerance),this.getBoundsScore(this.spec,"visual")+this.getBoundsScore(null==(e=this.spec)?void 0:e.absolute,"view")}}class Gs extends js{constructor(e){super(e),this.minAreaPercent=0,this.type="pixel"}evaluate(){var e;const t=this.layout.adapter.metrics.target,n=t.visualSize,r=this.layout.adapter.system.viewResolution,i=Math.min(n.x*n.y,r.x*r.y),s=(null==(e=t.referenceState)?void 0:e.visualSize)||r,a=s.x*s.y;return this.attenuateVisualScore(i)-a*this.minAreaPercent}}class Ys extends js{constructor(e){super(e),this.type="meter",this.absoluteTolerance=1e10}evaluate(){return-this.layout.adapter.metrics.target.visualCenter.length()}}const Zs=new ki;class Xs extends Ps{constructor(e){super(),this.adapter=e,this.absoluteTolerance={meter:"10mm",pixel:"4px",degree:"0.002deg",ratio:.002},this.successRate=0,this.restartRate=0,this.objectives=new Array,this.referenceNode=null,this.solutions=new Array,this.iteration=0,this.compareSolutions=(e,t)=>{const n=this.objectives;if(e.scores.length<n.length)return 1;if(t.scores.length<n.length)return-1;if(e.boundsCenterDistance>1e20)return 1;if(t.boundsCenterDistance>1e10)return-1;if(e.boundsManhattanLength>1e20)return 1;if(t.boundsManhattanLength>1e10)return-1;const r=e.isFeasible,i=t.isFeasible;if(r&&!i)return-1;if(i&&!r)return 1;let s=0;const a=this.solutions[0].scores;for(let r=0;r<n.length;r++){const i=e.scores[r],o=t.scores[r];if(isNaN(i))return 1;if(isNaN(o))return-1;const u=n[r],c=u.computedRelativeTolerance,l=u.computedAbsoluteTolerance,h=Math.max(a[r],i,o),p=Math.min(h-Math.abs(h)*c,-l);if(i<p||o<p)return u.sortBlame++,o-i;o-i!=0&&(s=o-i)}return s}}getComputedAbsoluteTolerance(e){return this.adapter.system.measureNumber(this.absoluteTolerance[e],e)}poseRelativeTo(e){return this.referenceNode=e,this}maximize(e){var t;const n=this.maximizeObjective=null!=(t=this.maximizeObjective)?t:new Gs(this);return n.priority=-1e3,n.relativeTolerance=.1,this.addObjective(n,e)}orientation(e,t){var n;const r=this.orientationConstraint=null!=(n=this.orientationConstraint)?n:new Us(this);return r.spec=e,r.priority=-999,this.addObjective(r,t)}keepAspect(e="xyz",t){var n;const r=this.keepAspectConstraint=null!=(n=this.keepAspectConstraint)?n:new Vs(this);return r.mode=e,r.priority=-998,this.addObjective(r,t)}scale(e,t){var n;const r=this.scaleConstraint=null!=(n=this.scaleConstraint)?n:new qs(this);return r.spec=e,r.priority=-2,this.addObjective(r,t)}bounds(e,t){var n;const r=this.boundsConstraint=null!=(n=this.boundsConstraint)?n:new $s(this);return r.spec=e,this.addObjective(r,t)}visualOrientation(e,t){var n;const r=this.orientationConstraint=null!=(n=this.orientationConstraint)?n:new Us(this);return r.spec=e,r.priority=-999,this.addObjective(r,t)}visualBounds(e,t){var n,r;const i=this.visualBoundsMeterConstraint=null!=(n=this.visualBoundsMeterConstraint)?n:new Ws(this),s=this.visualBoundsPixelConstraint=null!=(r=this.visualBoundsPixelConstraint)?r:new Ws(this);return i.spec=e,i.type="meter",s.spec=e,s.type="pixel",this.addObjective(i,t).addObjective(s,t)}magnetize(e){var t;const n=this.magnetizeObjective=null!=(t=this.magnetizeObjective)?t:new Ys(this);return n.priority=-900,n.relativeTolerance=.95,this.addObjective(n,e)}avoidOcclusion(e){var t;const n=this.minimizeOcclusionObjective=null!=(t=this.minimizeOcclusionObjective)?t:new Ys(this);return n.priority=11,this.addObjective(n,e)}addObjective(e,t){return Object.assign(e,t),-1===this.objectives.indexOf(e)&&this.objectives.push(e),this.processObjectives(),this}get hasValidSolution(){var e;return!0===(null==(e=this.solutions[0])?void 0:e.isFeasible)}processObjectives(){var e,t;const n=this.adapter.system,r=this.objectives;let i=0;for(const s of r)s.index=i++,s.computedAbsoluteTolerance=void 0!==s.absoluteTolerance?n.measureNumber(s.absoluteTolerance,n.mathScope[s.type]):this.getComputedAbsoluteTolerance(s.type),s.computedRelativeTolerance=null!=(t=null!=(e=s.relativeTolerance)?e:this.relativeTolerance)?t:this.adapter.system.optimize.relativeTolerance}sortSolutions(){this.solutions.sort(this.compareSolutions),this.bestSolution=this.solutions[0]}}const Js=class{constructor(e){this.layout=void 0,this.orientation=new Ri,this.bounds=new ts,this.scores=[],this.isFeasible=!1,this.mutationStrategies=[{type:"rotate",stepSize:.1},{type:"center",stepSize:.1},{type:"size",stepSize:.1},{type:"minmax",stepSize:.1}],this._mutationWeights=[],e&&(this.layout=e)}get aspectPenalty(){return this.scores[this.layout.objectives.indexOf(this.layout.keepAspectConstraint)]||0}get orientationPenalty(){return this.scores[this.layout.objectives.indexOf(this.layout.orientationConstraint)]||0}get spatialBoundsPenalty(){return this.scores[this.layout.objectives.indexOf(this.layout.boundsConstraint)]||0}_selectStrategy(){const e=this.mutationStrategies,t=this._mutationWeights,n=this.layout.orientationConstraint,r=this.layout.keepAspectConstraint;for(let i=0;i<e.length;i++)t[i]=e[i].stepSize,n&&"rotate"==e[i].type&&this.orientationPenalty>-n.computedAbsoluteTolerance&&(t[i]*=.01),r&&"size"==e[i].type&&this.aspectPenalty<-r.computedAbsoluteTolerance&&(t[i]*=100);return function(e,t){let n=0;for(let r=0;r<e.length;r++)n+=(null==t?void 0:t[r])||1;const r=Math.random()*n;n=0;for(let i=0;i<e.length;i++)if(n+=(null==t?void 0:t[i])||1,n>r)return e[i];return e[0]}(e,t)}copy(e){this.layout=e.layout,this.orientation.copy(e.orientation),this.bounds.copy(e.bounds),this.scores.length=0;for(let t=0;t<e.scores.length;t++)this.scores[t]=e.scores[t];return this.isFeasible=e.isFeasible,this}randomize(e){const t=Ss(e),n=Js._scratchV1.set(0,0,-t),r=this.layout.adapter.system.viewMetrics.target;n.applyMatrix4(r.worldMatrix);const i=this.layout.adapter.metrics.target.parentState;i&&n.applyMatrix4(i.worldMatrixInverse),this.orientation.copy(r.worldOrientation),i&&this.orientation.multiply(i.worldOrientationInverse);const s=this.layout.adapter.metrics.innerBounds,a=s.isEmpty()?Js._scratchV2.set(1,1,1):s.getSize(Js._scratchV2);return a.normalize(),a.multiplyScalar(2*t*Math.tan(5*Si)),this.bounds.setFromCenterAndSize(n,a),this}moveTowards(e,t,n){const r=this.bounds.getCenter(Js._center),i=this.bounds.getSize(Js._size),s=e.bounds,a=s.getCenter(Js._otherCenter),o=s.getSize(Js._otherSize);this.orientation.slerp(e.orientation,Js.generatePulseFrequency(t,n)).normalize(),Math.random()<.5?(r.lerp(a,Js.generatePulseFrequency(t,n)),i.lerp(o,Js.generatePulseFrequency(t,n)),this.bounds.setFromCenterAndSize(r,i)):(this.bounds.min.lerp(s.min,Js.generatePulseFrequency(t,n)),this.bounds.max.lerp(s.max,Js.generatePulseFrequency(t,n)))}perturb(){var e;const t=this._selectStrategy(),n=t.type;let r=t.stepSize;if("rotate"===n||Math.random()<.001){const t=null==(e=this.layout.orientationConstraint)?void 0:e.spec;if((null==t?void 0:t.isQuaternion)&&this.orientationPenalty<t.computedAbsoluteTolerance&&Math.random()<.01)this.orientation.copy(t);else{const e=Math.min(Ss(1e-4*Math.min(r,1)),1);this.orientation.multiply(Ts(e,e)).normalize()}}const i=this.bounds,s=i.getCenter(Js._center),a=i.getSize(Js._size);if("center"===n){const e=Js._direction.set(0,0,1).applyQuaternion(Ts(1,1));e.setLength(Ns(r)).multiplyScalar(a.length()),s.add(e)}if("size"===n){const e=2**Ns(r);a.multiplyScalar(e)}if(a.clampScalar(this.layout.adapter.system.epsillonMeters/10,1e20),i.setFromCenterAndSize(s,a),"minmax"===n){const e=Js._direction.set(0,0,1).applyQuaternion(Ts(1,1));e.setLength(Ns(r)).multiply(a),i.min.add(e)}const o=i.min,u=i.max;return o.x>u.x&&this._swap(o,u,"x"),o.y>u.y&&this._swap(o,u,"y"),o.z>u.z&&this._swap(o,u,"z"),t}_swap(e,t,n){const r=e[n],i=t[n];e[n]=i,t[n]=r}static generatePulseFrequency(e,t){return e+Math.random()*(t-e)}apply(e=!0){const t=this.layout,n=t.adapter;if(n.orientation.target=this.orientation,n.bounds.target=this.bounds,n.metrics.invalidateStates(),e){this.isFeasible=!0;for(let e=0;e<t.objectives.length;e++){const n=t.objectives[e],r=this.scores[e]=n.evaluate();(r<-n.computedAbsoluteTolerance||!isFinite(r))&&(this.isFeasible=!1)}}this.boundsManhattanLength=this.bounds.getSize(Zs).manhattanLength(),this.boundsCenterDistance=this.bounds.getCenter(Zs).length()}};let Qs=Js;Qs._scratchV1=new ki,Qs._scratchV2=new ki,Qs._direction=new ki,Qs._center=new ki,Qs._size=new ki,Qs._otherCenter=new ki,Qs._otherSize=new ki;var Ks=function(e){return function(t){return 1-e(1-t)}},ea=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},ta=Ks,na=ea,ra=function(e){return function(t){return Math.pow(t,e)}},ia=function(e){return function(t){return t*t*((e+1)*t-e)}},sa=function(e){var t=ia(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}},aa=ra(2),oa=Ks(aa),ua=ea(aa),ca=function(e){return 1-Math.sin(Math.acos(e))},la=Ks(ca),ha=ea(la),pa=ia(1.525),fa=Ks(pa),da=ea(pa),ma=sa(1.525),ga=function(e){var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},va="undefined"!=typeof Float32Array,ya=function(e,t){return 1-3*t+3*e},wa=function(e,t){return 3*t-6*e},ba=function(e){return 3*e},xa=function(e,t,n){return 3*ya(t,n)*e*e+2*wa(t,n)*e+ba(t)},_a=function(e,t,n){return((ya(t,n)*e+wa(t,n))*e+ba(t))*e};const Ma=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",reversed:Ks,mirrored:ea,createReversedEasing:ta,createMirroredEasing:na,createExpoIn:ra,createBackIn:ia,createAnticipateEasing:sa,linear:function(e){return e},easeIn:aa,easeOut:oa,easeInOut:ua,circIn:ca,circOut:la,circInOut:ha,backIn:pa,backOut:fa,backInOut:da,anticipate:ma,bounceOut:ga,bounceIn:function(e){return 1-ga(1-e)},bounceInOut:function(e){return e<.5?.5*(1-ga(1-2*e)):.5*ga(2*e-1)+.5},cubicBezier:function(e,t,n,r){var i=va?new Float32Array(11):new Array(11),s=function(t){for(var r,s,a,o=0,u=1;10!==u&&i[u]<=t;++u)o+=.1;return--u,r=(t-i[u])/(i[u+1]-i[u]),(a=xa(s=o+.1*r,e,n))>=.001?function(t,r){for(var i=0,s=0;i<8;++i){if(0===(s=xa(r,e,n)))return r;r-=(_a(r,e,n)-t)/s}return r}(t,s):0===a?s:function(t,r,i){var s,a,o=0;do{(s=_a(a=r+(i-r)/2,e,n)-t)>0?i=a:r=a}while(Math.abs(s)>1e-7&&++o<10);return a}(t,o,o+.1)};return function(){for(var t=0;t<11;++t)i[t]=_a(.1*t,e,n)}(),function(i){return e===t&&n===r?i:0===i?0:1===i?1:_a(s(i),t,r)}}});class Ea{constructor(e){e&&Object.assign(this,e)}}class Na{constructor(e){e&&Object.assign(this,e)}}const Sa=new Mi,Ta=new ki,Oa=new Ri,Ca=new ts,Aa=new Qi,Ra=new Qi(0,0,0);class ka extends Na{constructor(e,t,n,r=e.transition){super(n),this.system=e,this.parentConfig=r,this.needsUpdate=!1,this._size=new ki,this.queue=[],this.enabled=!1,this.forceWait=!1,this._forceCommit=!1,this._resolvedConfig=new Na,this.delayTime=0,this.debounceTime=0,this._previousStatus="unchanged",this._status="unchanged",this.reset(t),this._previousTarget=this._copy(this._previousTarget,this.target)}_copy(e,t){if(void 0===t)return;if("number"==typeof t)return t;const n=e?e.copy(t):t.clone();if(n&&"isBox3"in n){const e=n,t=e.getSize(this._size);!e.isEmpty()&&isFinite(t.x)&&isFinite(t.y)&&isFinite(t.z)||e.setFromCenterAndSize(ys,ys)}return n}_isEqual(e,t){return void 0!==e&&void 0!==t&&(e===t||("number"==typeof e?e===t:(null==e?void 0:e.equals(t))||!1))}reset(e){this._start=this._copy(this._start,e),this._current=this._copy(this._current,e),this._target=this._copy(this._target,e),this.queue.length=0}set start(e){this._start=this._copy(this._start,e)}get start(){return this._start}set current(e){this._current=this._copy(this._current,e)}get current(){return this._current}set reference(e){this._reference=this._copy(this._reference,e)}get reference(){return this._reference}set target(e){this.enabled=!0,this._target=this._copy(this._target,e)}get target(){return this._target}get progress(){if(!this.enabled)return 1;if(this.queue.length>0){const e=this.queue[this.queue.length-1];return 0===e.duration?0:e.elapsed/e.duration}return 1}get forceCommit(){return this._forceCommit}set forceCommit(e){this._forceCommit!==e&&(this._forceCommit=e)}get relativeDifference(){var e,t;const n=null!=(t=null==(e=this.queue[this.queue.length-1])?void 0:e.target)?t:this.start;return void 0!==this.target?_s(n,this.target):0}get referenceRelativeDifference(){return void 0!==this.reference&&void 0!==this.target?_s(this.reference,this.target):1/0}get resolvedConfig(){var e,t,n,r,i,s,a,o,u,c,l,h,p,f,d,m;const g=this._resolvedConfig,v=this.parentConfig,y=this.system.transition;return g.multiplier=null!=(t=null!=(e=this.multiplier)?e:null==v?void 0:v.multiplier)?t:y.multiplier,g.duration=null!=(r=null!=(n=this.duration)?n:null==v?void 0:v.duration)?r:y.duration,g.easing=null!=(s=null!=(i=this.easing)?i:null==v?void 0:v.easing)?s:y.easing,g.threshold=null!=(o=null!=(a=this.threshold)?a:null==v?void 0:v.threshold)?o:y.threshold,g.delay=null!=(c=null!=(u=this.delay)?u:null==v?void 0:v.delay)?c:y.delay,g.debounce=null!=(h=null!=(l=this.debounce)?l:null==v?void 0:v.debounce)?h:y.debounce,g.maxWait=null!=(f=null!=(p=this.maxWait)?p:null==v?void 0:v.maxWait)?f:y.maxWait,g.blend=null!=(m=null!=(d=this.blend)?d:null==v?void 0:v.blend)?m:y.blend,g}get previousStatus(){return this._previousStatus}get status(){return this.needsUpdate&&(this._previousStatus=this._status,this._status=this._computeStatus()),this._status}_computeStatus(){if(this.forceCommit)return"committing";const e=this.resolvedConfig,t=e.threshold,n=this.system.deltaTime*e.multiplier,r=this.delayTime+n,i=this.debounceTime+n;return this.relativeDifference>t?!this.forceWait&&(r>=e.delay&&i>=e.debounce||r>=e.maxWait)?"committing":this.referenceRelativeDifference<t?"settling":"changed":"unchanged"}_updateTransitionable(){var e,t,n,r,i;const s=this.system.deltaTime,a=this.resolvedConfig,o=this.queue,u=this.status,c=s*a.multiplier;for(;o.length&&o[0].elapsed>=o[0].duration;)this.start=o.shift().target;this.current=this.start;let l=this.start;for(let e=0;e<o.length;e++){const t=o[e];if(this._addTransitionToCurrent(l,t,c),l=t.target,!t.blend)break}switch(this.debounceTime+=c,u){case"settling":break;case"changed":this.delayTime+=c,this.reference=this.target;break;case"unchanged":this.reference=void 0,this.delayTime=0;break;case"committing":this.delayTime=0,this.debounceTime=0;const s="object"==typeof this.forceCommit?this.forceCommit:new Ea;s.target=null!=(e=s.target)?e:this._copy(void 0,this.target),s.duration=null!=(t=s.duration)?t:a.duration,s.easing=null!=(n=s.easing)?n:a.easing,s.blend=null!=(r=s.blend)?r:a.blend,s.elapsed=null!=(i=s.elapsed)?i:0,o.push(s),this.forceCommit=!1}this.forceWait=!1}_addTransitionToCurrent(e,t,n){const r=this._current,i=t.duration>0?t.easing(Math.min(t.elapsed/t.duration,1)):1,s=t.target;if(t.elapsed+=n,"number"!=typeof s){if("isVector3"in s){const t=r,n=e,a=s,o=Ta.copy(a).sub(n).lerp(ys,1-i);this._current=t.add(o)}else if("isVector2"in s){const t=r,n=e,a=s,o=Sa.copy(a).sub(n).lerp(vs,1-i);this._current=t.add(o)}else if("isQuaternion"in s){const t=r,n=e,a=s,o=Oa.copy(n).invert().multiply(a).slerp(bs,1-i);this._current=t.multiply(o).normalize()}else if("isColor"in s){const t=r,n=e,a=s,o=Aa.copy(a).sub(n).lerp(Ra,1-i);this._current=t.add(o)}else if("isBox3"in s){const t=r,n=e,a=s,o=Ca.min.copy(a.min).sub(n.min).lerp(ys,1-i),u=Ca.max.copy(a.max).sub(n.max).lerp(ys,1-i);return t.min.add(o),t.max.add(u),void(this._current=t)}}else this._current=r+Ai(s-e,0,1-i)}_swap(e,t,n){const r=e[n],i=t[n];e[n]=i,t[n]=r}update(e=!1){if(!this.needsUpdate&&!e)return;if(this._isEqual(this._previousTarget,this.target)||(this._target=this._target,this.enabled=!0),this._previousTarget=this._copy(this._previousTarget,this.target),!this.enabled)return;const t=this.syncGroup;if(!this.forceCommit&&t)for(const e of t)if(e.enabled&&"committing"===e.status){for(const e of t)e.needsUpdate&&!1===e.forceCommit&&e.relativeDifference>e.resolvedConfig.threshold&&(e.forceCommit=!0);break}this._updateTransitionable(),this.needsUpdate=!1}set syncGroup(e){this._syncGroup&&this._syncGroup.delete(this),this._syncGroup=e,null==e||e.add(this)}get syncGroup(){return this._syncGroup}}class za{constructor(e,t){this.system=e,this.node=t,this.measureBoundsCache=new Map,this.transition=new Na,this.referenceNode=void 0,this._parentAdapter=null,this.layouts=new Array,this.layoutFeasibleTime=0,this.layoutInfeasibleTime=0,this._prevLayout=null,this._activeLayout=null,this._progress=1,this._hasValidContext=!1,this._prevNodeOrientation=new Ri,this._prevNodeBounds=new ts,this.metrics=this.system.getMetrics(this.node);const n=this.metrics.target;this._orientation=new ka(this.system,n.relativeOrientation,void 0,this.transition),this._bounds=new ka(this.system,n.spatialBounds,void 0,this.transition),this._opacity=new ka(this.system,n.opacity,void 0,this.transition),this._outerOrigin=new ka(this.system,n.outerCenter,void 0,this.transition),this._outerOrientation=new ka(this.system,n.outerOrientation,void 0,this.transition),this._outerBounds=new ka(this.system,n.outerBounds,void 0,this.transition),this._outerVisualBounds=new ka(this.system,n.outerVisualBounds,void 0,this.transition),this._outerOrigin.debounce=0,this._outerOrigin.delay=0,this._outerOrientation.debounce=0,this._outerOrientation.delay=0,this._outerBounds.debounce=0,this._outerBounds.delay=0,this._outerVisualBounds.debounce=0,this._outerVisualBounds.delay=0,this._orientation.syncGroup=this._bounds.syncGroup=this._opacity.syncGroup=new Set}measureBounds(e,t,n){var r,i,s;const a=this.system,o=a.mathScope,u=a.math,c="spatial"===t||"front"===n||"back"===n||"centerz"===n||"sizez"===n?o.meter:o.pixel,l=c===o.meter?"m":"px";"number"==typeof e&&(e=""+e+l);const h=t+"-"+n+" = "+e;if(null==(r=this.measureBoundsCache)?void 0:r.has(h))return this.measureBoundsCache.get(h);if(!a.mathCompiledExpressions.has(e)){const t=u.parse(e.replace("%","percent")).compile();a.mathCompiledExpressions.set(e,t)}const p=a.mathCompiledExpressions.get(e),f=a.viewMetrics.target,d=this.metrics.target;let m,g,v;switch(t){case"spatial":m=d.outerBounds,g=d.outerCenter;break;case"visual":m=d.outerVisualBounds,g=d.outerVisualCenter;break;case"view":m=f.visualBounds,g=f.visualCenter;break;default:throw new Error(`Unknown measure type "${t}.${n}"`)}if(e.includes("%")){const e="spatial"===t?d.outerSize:null!=(i=d.outerVisualSize)?i:f.visualSize;let r=0;switch(n){case"left":case"centerx":case"right":case"sizex":r=u.unit(e.x/100,l);break;case"bottom":case"centery":case"top":case"sizey":r=u.unit(e.y/100,l);break;case"back":case"centerz":case"front":case"sizez":r=u.unit(e.z/100,"m");break;case"sizediagonal":r="spatial"===t?u.unit(e.length()/100,"m"):u.unit(Math.sqrt(e.x**2+e.y**2)/100,"px");break;default:throw new Error(`Invalid measure subtype "${t}.${n}" for percentage units`)}o.percent=r}switch(n){case"left":v=m.min.x;break;case"centerx":v=g.x;break;case"right":v=m.max.x;break;case"bottom":v=m.min.y;break;case"centery":v=g.y;break;case"top":v=m.max.y;break;case"front":v=m.max.z;break;case"centerz":v=g.z;break;case"back":v=m.min.z;break;case"centerdistance":default:v=0}let y=p.evaluate(o);return"object"==typeof y&&(y=u.number(y,c)),v+=y,o.percent=void 0,null==(s=this.measureBoundsCache)||s.set(h,v),v}get outerOrigin(){return this._outerOrigin}get outerOrientation(){return this._outerOrientation}get outerBounds(){return this._outerBounds}get outerVisualBounds(){return this._outerVisualBounds}get parentAdapter(){return this._parentAdapter}_computeParentAdapter(){let e=this.metrics;for(;e=e.parentMetrics;){const t=this.system.nodeAdapters.get(e.node);if(t)return t}return null}get orientation(){return this._orientation}get bounds(){return this._bounds}get opacity(){return this._opacity}get previousLayout(){return this._prevLayout}set activeLayout(e){this._prevLayout=this._activeLayout,this._activeLayout=e}get activeLayout(){return this._activeLayout}get progress(){return this._progress}_computeProgress(){return Math.min(this.orientation.progress,this.bounds.progress,this.opacity.progress)}createLayout(){const e=new Xs(this);return this.layouts.push(e),e}get hasValidContext(){return this._hasValidContext}_computeHasValidContext(){var e;const t=this.parentAdapter;return!t||!!t.hasValidContext&&(0===t.layouts.length||!!(null==(e=t.activeLayout)?void 0:e.hasValidSolution))}_update(){var e;this._parentAdapter=this._computeParentAdapter(),this._hasValidContext=this._computeHasValidContext();const t=this.metrics;if(t.referenceMetrics&&(this.outerOrigin.target=t.referenceMetrics.target.worldCenter,this.outerOrientation.target=t.referenceMetrics.target.worldOrientation,this.outerBounds.target=t.referenceMetrics.innerBounds,this.outerBounds.target.applyMatrix4(t.target.spatialFromReference),this.outerVisualBounds.target=t.referenceMetrics.target.visualBounds),this.outerOrigin.update(),this.outerOrientation.update(),this.outerBounds.update(),this.outerVisualBounds.update(),this.onUpdate){this.onUpdate(),t.invalidateIntrinsicBounds(),t.invalidateInnerBounds(),t.invalidateStates(),t.updateRawState();const e=t.raw;if(!this.system.optimizer.update(this)){const t=this.orientation.current,n=this.orientation.target,r=e.relativeOrientation;n.angleTo(r)>this.system.epsillonRadians&&t.angleTo(r)>this.system.epsillonRadians&&(this.orientation.target=r);const i=this.bounds.current,s=this.bounds.target,a=e.spatialBounds;(s.min.distanceTo(a.min)>this.system.epsillonMeters||s.max.distanceTo(a.max)>this.system.epsillonMeters)&&(i.min.distanceTo(a.min)>this.system.epsillonMeters||i.max.distanceTo(a.max)>this.system.epsillonMeters)&&(this.bounds.target=a)}}else t.invalidateIntrinsicBounds(),t.invalidateInnerBounds(),t.invalidateStates(),this.system.optimizer.update(this);this.opacity.update(),this.orientation.update(),this.bounds.update(),this._progress=this._computeProgress(),t.invalidateStates(),this.system.bindings.apply(t,t.current),t.invalidateStates(),null==(e=this.onPostUpdate)||e.call(this)}}class Da{constructor(){this._cache=new Os,this.isLayoutFrustum=!0,this._leftDegrees=-20,this._rightDegrees=20,this._bottomDegrees=-20,this._topDegrees=20,this._nearMeters=.5,this._farMeters=1e3,this._size=new Mi,this._center=new Mi,this._v1=new ki,this._inverseProjection=new Ii,this._forwardDirection=new ki(0,0,-1),this._fullNDC=new ts(new ki(-1,-1,-1),new ki(1,1,1)),this._cachedPerspectiveProjectionMatrix=this._cache.memoize((()=>{const e=this.nearMeters,t=this.farMeters,n=e*Math.tan(this.leftDegrees*Si),r=e*Math.tan(this.rightDegrees*Si),i=e*Math.tan(this.topDegrees*Si),s=e*Math.tan(this.bottomDegrees*Si);return this._perspective.makePerspective(n,r,i,s,e,t)})),this._perspective=new Ii,this._boxA=new es,this._boxB=new es,this._overlapSize=new Mi}get leftDegrees(){return this._leftDegrees}set leftDegrees(e){e!==this._leftDegrees&&(this._leftDegrees=e,this._cache.invalidateAll())}get rightDegrees(){return this._rightDegrees}set rightDegrees(e){e!==this._rightDegrees&&(this._rightDegrees=e,this._cache.invalidateAll())}get bottomDegrees(){return this._bottomDegrees}set bottomDegrees(e){e!==this._bottomDegrees&&(this._bottomDegrees=e,this._cache.invalidateAll())}get topDegrees(){return this._topDegrees}set topDegrees(e){e!==this._topDegrees&&(this._topDegrees=e,this._cache.invalidateAll())}get nearMeters(){return this._nearMeters}set nearMeters(e){e!==this._nearMeters&&(this._nearMeters=e,this._cache.invalidateAll())}get farMeters(){return this._farMeters}set farMeters(e){e!==this._farMeters&&(this._farMeters=e,this._cache.invalidateAll())}get sizeDegrees(){return this._size.set(this.rightDegrees-this.leftDegrees,this.topDegrees-this.bottomDegrees),this._size}get diagonalDegrees(){const e=this.sizeDegrees;return Math.acos(Math.cos(e.x*Si)*Math.cos(e.y*Si))*Ti}get centerDegrees(){const e=this.sizeDegrees;return this._center.set(this.leftDegrees+e.x/2,this.bottomDegrees+e.y/2)}get angleToCenter(){const e=this.centerDegrees;return Math.acos(Math.cos(e.x*Si)*Math.cos(e.y*Si))*Ti}get angleToTopLeft(){return Math.acos(Math.cos(this.leftDegrees*Si)*Math.cos(this.topDegrees*Si))*Ti}get angleToTopRight(){return Math.acos(Math.cos(this.rightDegrees*Si)*Math.cos(this.topDegrees*Si))*Ti}get angleToBottomLeft(){return Math.acos(Math.cos(this.leftDegrees*Si)*Math.cos(this.bottomDegrees*Si))*Ti}get angleToBottomRight(){return Math.acos(Math.cos(this.rightDegrees*Si)*Math.cos(this.bottomDegrees*Si))*Ti}get angleToClosestPoint(){const e=Math.min(Math.max(0,this.leftDegrees),this.rightDegrees),t=Math.min(Math.max(0,this.bottomDegrees),this.topDegrees);return Math.acos(Math.cos(e*Si)*Math.cos(t*Si))*Ti}get angleToFarthestPoint(){return Math.max(this.angleToTopLeft,this.angleToTopRight,this.angleToBottomLeft,this.angleToBottomRight)}get depth(){return this.farMeters-this.nearMeters}get distance(){return this.nearMeters+this.depth/2}get aspectRatio(){const e=this.nearMeters,t=e*Math.tan(this.leftDegrees*Si),n=e*Math.tan(this.rightDegrees*Si);return(e*Math.tan(this.topDegrees*Si)-e*Math.tan(this.bottomDegrees*Si))/(n-t)}setFromPerspectiveProjectionMatrix(e,t=this._fullNDC){const n=this._inverseProjection.copy(e).invert(),r=this._v1,i=this._forwardDirection,s=Math.sign(t.min.x)*r.set(t.min.x,0,-1).applyMatrix4(n).angleTo(i)*Ti,a=Math.sign(t.max.x)*r.set(t.max.x,0,-1).applyMatrix4(n).angleTo(i)*Ti,o=Math.sign(t.max.y)*r.set(0,t.max.y,-1).applyMatrix4(n).angleTo(i)*Ti,u=Math.sign(t.min.y)*r.set(0,t.min.y,-1).applyMatrix4(n).angleTo(i)*Ti,c=-r.set(0,0,t.min.z).applyMatrix4(n).z,l=-r.set(0,0,t.max.z).applyMatrix4(n).z;return this.leftDegrees=s,this.rightDegrees=a,this.topDegrees=o,this.bottomDegrees=u,this.nearMeters=c,this.farMeters=l,this}get perspectiveProjectionMatrix(){return this._cachedPerspectiveProjectionMatrix()}overlapPercent(e){return this._boxA.min.x=this.leftDegrees,this._boxA.max.x=this.rightDegrees,this._boxA.min.y=this.bottomDegrees,this._boxA.max.y=this.topDegrees,this._boxB.min.x=e.leftDegrees,this._boxB.max.x=e.rightDegrees,this._boxB.min.y=e.bottomDegrees,this._boxB.max.y=e.topDegrees,this._boxA.intersect(this._boxB).getSize(this._overlapSize).length()/this.sizeDegrees.length()}}var Ia={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function La(e){return"number"==typeof e}function Ba(e){return e&&!0===e.constructor.prototype.isBigNumber||!1}function Pa(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isComplex||!1}function Fa(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isFraction||!1}function ja(e){return e&&!0===e.constructor.prototype.isUnit||!1}function Ua(e){return"string"==typeof e}var qa=Array.isArray;function Va(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function Ha(e){return Array.isArray(e)||Va(e)}function $a(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function Wa(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function Ga(e){return e&&!0===e.constructor.prototype.isRange||!1}function Ya(e){return e&&!0===e.constructor.prototype.isIndex||!1}function Za(e){return"boolean"==typeof e}function Xa(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function Ja(e){return e&&!0===e.constructor.prototype.isHelp||!1}function Qa(e){return"function"==typeof e}function Ka(e){return e instanceof Date}function eo(e){return e instanceof RegExp}function to(e){return!(!e||"object"!=typeof e||e.constructor!==Object||Pa(e)||Fa(e))}function no(e){return null===e}function ro(e){return void 0===e}function io(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function so(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function ao(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function oo(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function uo(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function co(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function lo(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function ho(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function po(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function fo(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function mo(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function go(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function vo(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function yo(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function wo(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function bo(e){return e&&!0===e.constructor.prototype.isChain||!1}function xo(e){var t=typeof e;return"object"===t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":Ba(e)?"BigNumber":Pa(e)?"Complex":Fa(e)?"Fraction":Va(e)?"Matrix":ja(e)?"Unit":Ya(e)?"Index":Ga(e)?"Range":Xa(e)?"ResultSet":fo(e)?e.type:bo(e)?"Chain":Ja(e)?"Help":"Object":"function"===t?"Function":t}function _o(e){var t=typeof e;if("number"===t||"string"===t||"boolean"===t||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map((function(e){return _o(e)}));if(e instanceof Date)return new Date(e.valueOf());if(Ba(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return Mo(e,_o)}function Mo(e,t){var n={};for(var r in e)Ao(e,r)&&(n[r]=t(e[r]));return n}function Eo(e,t){for(var n in t)Ao(t,n)&&(e[n]=t[n]);return e}function No(e,t){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(var n in t)if(Ao(t,n)&&!(n in Object.prototype)&&!(n in Function.prototype))if(t[n]&&t[n].constructor===Object)void 0===e[n]&&(e[n]={}),e[n]&&e[n].constructor===Object?No(e[n],t[n]):e[n]=t[n];else{if(Array.isArray(t[n]))throw new TypeError("Arrays are not supported by deepExtend");e[n]=t[n]}return e}function So(e,t){var n,r,i;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(r=0,i=e.length;r<i;r++)if(!So(e[r],t[r]))return!1;return!0}if("function"==typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!So(e[n],t[n]))return!1;for(n in t)if(!(n in e)||!So(e[n],t[n]))return!1;return!0}return e===t}function To(e){var t={};return Oo(e,t),t}function Oo(e,t){for(var n in e)if(Ao(e,n)){var r=e[n];"object"==typeof r&&null!==r?Oo(r,t):t[n]=r}}function Co(e,t,n){var r,i=!0;Object.defineProperty(e,t,{get:function(){return i&&(r=n(),i=!1),r},set:function(e){r=e,i=!1},configurable:!0,enumerable:!0})}function Ao(e,t){return e&&Object.hasOwnProperty.call(e,t)}function Ro(e){return Object.keys(e).map((t=>e[t]))}var ko=["Matrix","Array"],zo=["number","BigNumber","Fraction"];function Do(e,t){function n(n){if(n){var r=Mo(e,_o);Io(n,"matrix",ko),Io(n,"number",zo),No(e,n);var i=Mo(e,_o),s=Mo(n,_o);return t("config",i,r,s),i}return Mo(e,_o)}return n.MATRIX_OPTIONS=ko,n.NUMBER_OPTIONS=zo,Object.keys(Ia).forEach((t=>{Object.defineProperty(n,t,{get:()=>e[t],enumerable:!0,configurable:!0})})),n}function Io(e,t,n){var r,i;void 0!==e[t]&&(r=n,i=e[t],-1===r.indexOf(i))&&console.warn('Warning: Unknown value "'+e[t]+'" for configuration option "'+t+'". Available options: '+n.map((e=>JSON.stringify(e))).join(", ")+".")}var Lo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Bo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Po=function(){function e(){return!0}function t(){return!1}function n(){}return function r(){var i=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e&&null!==e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],s={name:"any",test:e},a=[],o=[],u={types:i,conversions:o,ignore:a};function c(e){var t=H(u.types,(function(t){return t.name===e}));if(t)return t;if("any"===e)return s;var n=H(u.types,(function(t){return t.name.toLowerCase()===e.toLowerCase()}));throw new TypeError('Unknown type "'+e+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function l(e){return e===s?999:u.types.indexOf(e)}function h(e){var t=H(u.types,(function(t){return t.test(e)}));if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e)}function p(e){return e.map((function(e){var t=e.types.map(x);return(e.restParam?"...":"")+t.join("|")})).join(",")}function f(e,t){var n=0===e.indexOf("..."),r=(n?e.length>3?e.slice(3):"any":e).split("|").map(L).filter(B).filter(I),i=function(e,t){var n={};return e.forEach((function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||n[e.from]||(n[e.from]=e)})),Object.keys(n).map((function(e){return n[e]}))}(t,r),s=r.map((function(e){var t=c(e);return{name:e,typeIndex:l(t),test:t.test,conversion:null,conversionIndex:-1}})),a=i.map((function(e){var n=c(e.from);return{name:e.from,typeIndex:l(n),test:n.test,conversion:e,conversionIndex:t.indexOf(e)}}));return{types:s.concat(a),restParam:n}}function d(e,t,n){var r=[];return""!==e.trim()&&(r=e.split(",").map(L).map((function(e,t,r){var i=f(e,n);if(i.restParam&&t!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return i}))),r.some(F)?null:{params:r,fn:t}}function m(e){var t=j(e);return!!t&&t.restParam}function g(e){return e.types.some((function(e){return null!=e.conversion}))}function v(t){if(t&&0!==t.types.length){if(1===t.types.length)return c(t.types[0].name).test;if(2===t.types.length){var n=c(t.types[0].name).test,r=c(t.types[1].name).test;return function(e){return n(e)||r(e)}}var i=t.types.map((function(e){return c(e.name).test}));return function(e){for(var t=0;t<i.length;t++)if(i[t](e))return!0;return!1}}return e}function y(e){var t,n,r;if(m(e)){var i=(t=function(e){return e.slice(0,e.length-1)}(e).map(v)).length,s=v(j(e));return function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return function(e){for(var t=i;t<e.length;t++)if(!s(e[t]))return!1;return!0}(e)&&e.length>=i+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(n=v(e[0]),function(e){return n(e[0])&&1===e.length}):2===e.length?(n=v(e[0]),r=v(e[1]),function(e){return n(e[0])&&r(e[1])&&2===e.length}):(t=e.map(v),function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return e.length===t.length})}function w(e,t){return t<e.params.length?e.params[t]:m(e.params)?j(e.params):null}function b(e,t,n){var r=w(e,t);return(r?n?r.types.filter(_):r.types:[]).map(x)}function x(e){return e.name}function _(e){return null===e.conversion||void 0===e.conversion}function M(e,t){var n=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return Object.keys(t)}($(e,(function(e){return b(e,t,!1)})));return-1!==n.indexOf("any")?["any"]:n}function E(e,t,n){var r,i,s,a=e||"unnamed",o=n;for(s=0;s<t.length;s++){var u=o.filter((function(e){var n=v(w(e,s));return(s<e.params.length||m(e.params))&&n(t[s])}));if(0===u.length){if((i=M(o,s)).length>0){var c=h(t[s]);return(r=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+c+", index: "+s+")")).data={category:"wrongType",fn:a,index:s,actual:c,expected:i},r}}else o=u}var l=o.map((function(e){return m(e.params)?1/0:e.params.length}));if(t.length<Math.min.apply(null,l))return i=M(o,s),(r=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:a,index:t.length,expected:i},r;var p=Math.max.apply(null,l);return t.length>p?((r=new TypeError("Too many arguments in function "+a+" (expected: "+p+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:a,index:t.length,expectedLength:p},r):((r=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:t.map(h)},r)}function N(e){for(var t=999,n=0;n<e.types.length;n++)_(e.types[n])&&(t=Math.min(t,e.types[n].typeIndex));return t}function S(e){for(var t=999,n=0;n<e.types.length;n++)_(e.types[n])||(t=Math.min(t,e.types[n].conversionIndex));return t}function T(e,t){var n;return 0!=(n=e.restParam-t.restParam)||0!=(n=g(e)-g(t))||0!=(n=N(e)-N(t))?n:S(e)-S(t)}function O(e,t){var n,r,i=Math.min(e.params.length,t.params.length);if(0!=(r=e.params.some(g)-t.params.some(g)))return r;for(n=0;n<i;n++)if(0!=(r=g(e.params[n])-g(t.params[n])))return r;for(n=0;n<i;n++)if(0!==(r=T(e.params[n],t.params[n])))return r;return e.params.length-t.params.length}function C(e,t){var n=t;if(e.some(g)){var r=m(e),i=e.map(A);n=function(){for(var e=[],n=r?arguments.length-1:arguments.length,s=0;s<n;s++)e[s]=i[s](arguments[s]);return r&&(e[n]=arguments[n].map(i[n])),t.apply(this,e)}}var s=n;if(m(e)){var a=e.length-1;s=function(){return n.apply(this,U(arguments,0,a).concat([U(arguments,a)]))}}return s}function A(e){var t,n,r,i,s=[],a=[];switch(e.types.forEach((function(e){e.conversion&&(s.push(c(e.conversion.from).test),a.push(e.conversion.convert))})),a.length){case 0:return function(e){return e};case 1:return t=s[0],r=a[0],function(e){return t(e)?r(e):e};case 2:return t=s[0],n=s[1],r=a[0],i=a[1],function(e){return t(e)?r(e):n(e)?i(e):e};default:return function(e){for(var t=0;t<a.length;t++)if(s[t](e))return a[t](e);return e}}}function R(e){var t={};return e.forEach((function(e){e.params.some(g)||k(e.params,!0).forEach((function(n){t[p(n)]=e.fn}))})),t}function k(e,t){return function e(n,r,i){if(r<n.length){var s,a=n[r],o=t?a.types.filter(_):a.types;if(a.restParam){var u=o.filter(_);s=u.length<o.length?[u,o]:[o]}else s=o.map((function(e){return[e]}));return $(s,(function(t){return e(n,r+1,i.concat([t]))}))}return[i.map((function(e,t){return{types:e,restParam:t===n.length-1&&m(n)}}))]}(e,0,[])}function z(e,t){for(var n=Math.max(e.params.length,t.params.length),r=0;r<n;r++)if(!V(b(e,r,!0),b(t,r,!0)))return!1;var i=e.params.length,s=t.params.length,a=m(e.params),o=m(t.params);return a?o?i===s:s>=i:o?i>=s:i===s}function D(e,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(r).map((function(e){return d(e,r[e],u.conversions)})).filter(P).forEach((function(e){var t=H(i,(function(t){return z(t,e)}));if(t)throw new TypeError('Conflicting signatures "'+p(t.params)+'" and "'+p(e.params)+'".');i.push(e)}));var s=$(i,(function(e){return(e?k(e.params,!1):[]).map((function(t){return{params:t,fn:e.fn}}))})).filter(P);s.sort(O);var a=s[0]&&s[0].params.length<=2&&!m(s[0].params),o=s[1]&&s[1].params.length<=2&&!m(s[1].params),c=s[2]&&s[2].params.length<=2&&!m(s[2].params),l=s[3]&&s[3].params.length<=2&&!m(s[3].params),h=s[4]&&s[4].params.length<=2&&!m(s[4].params),f=s[5]&&s[5].params.length<=2&&!m(s[5].params),g=a&&o&&c&&l&&h&&f,w=s.map((function(e){return y(e.params)})),b=a?v(s[0].params[0]):t,x=o?v(s[1].params[0]):t,_=c?v(s[2].params[0]):t,M=l?v(s[3].params[0]):t,N=h?v(s[4].params[0]):t,S=f?v(s[5].params[0]):t,T=a?v(s[0].params[1]):t,A=o?v(s[1].params[1]):t,D=c?v(s[2].params[1]):t,I=l?v(s[3].params[1]):t,L=h?v(s[4].params[1]):t,B=f?v(s[5].params[1]):t,F=s.map((function(e){return C(e.params,e.fn)})),j=a?F[0]:n,U=o?F[1]:n,q=c?F[2]:n,V=l?F[3]:n,W=h?F[4]:n,G=f?F[5]:n,Y=a?s[0].params.length:-1,Z=o?s[1].params.length:-1,X=c?s[2].params.length:-1,J=l?s[3].params.length:-1,Q=h?s[4].params.length:-1,K=f?s[5].params.length:-1,ee=g?6:0,te=s.length,ne=function(){for(var t=ee;t<te;t++)if(w[t](arguments))return F[t].apply(this,arguments);throw E(e,arguments,s)},re=function e(t,n){return arguments.length===Y&&b(t)&&T(n)?j.apply(e,arguments):arguments.length===Z&&x(t)&&A(n)?U.apply(e,arguments):arguments.length===X&&_(t)&&D(n)?q.apply(e,arguments):arguments.length===J&&M(t)&&I(n)?V.apply(e,arguments):arguments.length===Q&&N(t)&&L(n)?W.apply(e,arguments):arguments.length===K&&S(t)&&B(n)?G.apply(e,arguments):ne.apply(e,arguments)};try{Object.defineProperty(re,"name",{value:e})}catch(e){}return re.signatures=R(s),re}function I(e){return-1===u.ignore.indexOf(e)}function L(e){return e.trim()}function B(e){return!!e}function P(e){return null!==e}function F(e){return 0===e.types.length}function j(e){return e[e.length-1]}function U(e,t,n){return Array.prototype.slice.call(e,t,n)}function q(e,t){return-1!==e.indexOf(t)}function V(e,t){for(var n=0;n<e.length;n++)if(q(t,e[n]))return!0;return!1}function H(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function $(e,t){return Array.prototype.concat.apply([],e.map(t))}function W(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(("object"==typeof r.signatures||"string"==typeof r.signature)&&""!==r.name)if(""===t)t=r.name;else if(t!==r.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+r.name+")");throw i.data={actual:r.name,expected:t},i}}return t}function G(e){var t,n={};function r(e,r){if(n.hasOwnProperty(e)&&r!==n[e])throw(t=new Error('Signature "'+e+'" is defined twice')).data={signature:e},t}for(var i=0;i<e.length;i++){var s=e[i];if("object"==typeof s.signatures)for(var a in s.signatures)s.signatures.hasOwnProperty(a)&&(r(a,s.signatures[a]),n[a]=s.signatures[a]);else{if("string"!=typeof s.signature)throw(t=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},t;r(s.signature,s),n[s.signature]=s}}return n}return(u=D("typed",{"string, Object":D,Object:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return D(W(t),e)},"...Function":function(e){return D(W(e),G(e))},"string, ...Function":function(e,t){return D(e,G(t))}})).create=r,u.types=i,u.conversions=o,u.ignore=a,u.convert=function(e,t){var n=h(e);if(t===n)return e;for(var r=0;r<u.conversions.length;r++){var i=u.conversions[r];if(i.from===n&&i.to===t)return i.convert(e)}throw new Error("Cannot convert from "+n+" to "+t)},u.find=function(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof t){n=t.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");n=t}var i=n.join(","),s=e.signatures[i];if(s)return s;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+n.join(", ")+"))")},u.addType=function(e,t){if(!e||"string"!=typeof e.name||"function"!=typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var n=0;n<u.types.length;n++)if("Object"===u.types[n].name)return void u.types.splice(n,0,e);u.types.push(e)},u.addConversion=function(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(e)},u}()}();function Fo(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)}var jo=Math.sign||function(e){return e>0?1:e<0?-1:0};function Uo(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n,r="auto";switch(t&&(t.notation&&(r=t.notation),La(t)?n=t:La(t.precision)&&(n=t.precision)),r){case"fixed":return Vo(e,n);case"exponential":return Ho(e,n);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=$o(qo(e),t),r=n.exponent,i=n.coefficients,s=r%3==0?r:r<0?r-3-r%3:r-r%3;if(La(t))for(;t>i.length||r-s+1>i.length;)i.push(0);else for(var a=Math.abs(r-s)-(i.length-1),o=0;o<a;o++)i.push(0);for(var u=Math.abs(r-s),c=1;u>0;)c++,u--;var l=i.slice(c).join(""),h=La(t)&&l.length||l.match(/[1-9]/)?"."+l:"",p=i.slice(0,c).join("")+h+"e"+(r>=0?"+":"")+s.toString();return n.sign+p}(e,n);case"auto":return function(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,s=qo(e),a=t?$o(s,t):s;if(a.exponent<r||a.exponent>=i)return Ho(e,t);var o=a.coefficients,u=a.exponent;o.length<t&&(o=o.concat(Wo(t-o.length))),o=o.concat(Wo(u-o.length+1+(o.length<t?t-o.length:0)));var c=u>0?u:0;return c<(o=Wo(-u).concat(o)).length-1&&o.splice(c+1,0,"."),a.sign+o.join("")}(e,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}function qo(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),s=r.indexOf(".");i+=-1!==s?s-1:r.length-1;var a=r.replace(".","").replace(/^0*/,(function(e){return i-=e.length,""})).replace(/0*$/,"").split("").map((function(e){return parseInt(e)}));return 0===a.length&&(a.push(0),i++),{sign:n,coefficients:a,exponent:i}}function Vo(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=qo(e),r="number"==typeof t?$o(n,n.exponent+1+t):n,i=r.coefficients,s=r.exponent+1,a=s+(t||0);return i.length<a&&(i=i.concat(Wo(a-i.length))),s<0&&(i=Wo(1-s).concat(i),s=1),s<i.length&&i.splice(s,0,0===s?"0.":"."),r.sign+i.join("")}function Ho(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=qo(e),r=t?$o(n,t):n,i=r.coefficients,s=r.exponent;i.length<t&&(i=i.concat(Wo(t-i.length)));var a=i.shift();return r.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function $o(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var i=t-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function Wo(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}var Go=Number.EPSILON||2220446049250313e-31;function Yo(e,t,n){if(null==n)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<Go||r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}function Zo(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function Xo(e,t){var n=e.length-t.length,r=e.length;return e.substring(n,r)===t}function Jo(e,t){return"number"==typeof e?Uo(e,t):Ba(e)?function(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n,r="auto";switch(void 0!==t&&(t.notation&&(r=t.notation),"number"==typeof t?n=t:t.precision&&(n=t.precision)),r){case"fixed":return function(e,t){return e.toFixed(t)}(e,n);case"exponential":return Zo(e,n);case"engineering":return function(e,t){var n=e.e,r=n%3==0?n:n<0?n-3-n%3:n-n%3,i=e.mul(Math.pow(10,-r)),s=i.toPrecision(t);return-1!==s.indexOf("e")&&(s=i.toString()),s+"e"+(n>=0?"+":"")+r.toString()}(e,n);case"auto":var i=t&&void 0!==t.lowerExp?t.lowerExp:-3,s=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var a=e.toSignificantDigits(n),o=a.e;return(o>=i&&o<s?a.toFixed():Zo(e,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}(e,t):function(e){return e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d||!1}(e)?t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d:Array.isArray(e)?eu(e,t):Ua(e)?'"'+e+'"':"function"==typeof e?e.syntax?String(e.syntax):"function":e&&"object"==typeof e?"function"==typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map((n=>'"'+n+'": '+Jo(e[n],t))).join(", ")+"}":String(e)}function Qo(e){for(var t=String(e),n="",r=0;r<t.length;){var i=t.charAt(r);"\\"===i?(n+=i,r++,""!==(i=t.charAt(r))&&-1!=='"\\/bfnrtu'.indexOf(i)||(n+="\\"),n+=i):n+='"'===i?'\\"':i,r++}return'"'+n+'"'}function Ko(e){var t=String(e);return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function eu(e,t){if(Array.isArray(e)){for(var n="[",r=e.length,i=0;i<r;i++)0!==i&&(n+=", "),n+=eu(e[i],t);return n+"]"}return Jo(e,t)}function tu(e,t,n){if(!(this instanceof tu))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function nu(e,t,n){if(!(this instanceof nu))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function ru(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function iu(e,t,n){var r,i=e.length;if(i!==t[n])throw new tu(i,t[n]);if(n<t.length-1){var s=n+1;for(r=0;r<i;r++){var a=e[r];if(!Array.isArray(a))throw new tu(t.length-1,t.length,"<");iu(e[r],t,s)}}else for(r=0;r<i;r++)if(Array.isArray(e[r]))throw new tu(t.length+1,t.length,">")}function su(e,t){if(0===t.length){if(Array.isArray(e))throw new tu(e.length,0)}else iu(e,t,0)}function au(e,t){if(!La(e)||!Fo(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new nu(e,t)}function ou(e,t,n){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach((function(e){if(!La(e)||!Fo(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Jo(t)+")")})),uu(e,t,0,void 0!==n?n:0),e}function uu(e,t,n,r){var i,s,a=e.length,o=t[n],u=Math.min(a,o);if(e.length=o,n<t.length-1){var c=n+1;for(i=0;i<u;i++)s=e[i],Array.isArray(s)||(s=[s],e[i]=s),uu(s,t,c,r);for(i=u;i<o;i++)s=[],e[i]=s,uu(s,t,c,r)}else{for(i=0;i<u;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=u;i<o;i++)e[i]=r}}function cu(e,t,n,r){var i=r||ru(e);if(n)for(var s=0;s<n;s++)e=[e],i.unshift(1);for(e=lu(e,t,0);i.length<t;)i.push(1);return e}function lu(e,t,n){var r,i;if(Array.isArray(e)){var s=n+1;for(r=0,i=e.length;r<i;r++)e[r]=lu(e[r],t,s)}else for(var a=n;a<t;a++)e=[e];return e}function hu(e,t){return Array.prototype.map.call(e,t)}function pu(e,t){Array.prototype.forEach.call(e,t)}function fu(e,t){return Array.prototype.join.call(e,t)}function du(e,t){for(var n,r=0,i=0;i<e.length;i++){var s=e[i],a=Array.isArray(s);if(0===i&&a&&(r=s.length),a&&s.length!==r)return;var o=a?du(s,t):t(s);if(void 0===n)n=o;else if(n!==o)return"mixed"}return n}function mu(e,t){return-1!==e.indexOf(t)}function gu(e,t,n,r){function i(r){var i=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],s=e[i];void 0!==s&&(n[i]=s)}return n}(r,t.map(yu));return function(e,t,n){if(!t.filter((e=>!function(e){return e&&"?"===e[0]}(e))).every((e=>void 0!==n[e]))){var r=t.filter((e=>void 0===n[e]));throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(r.map((e=>'"'.concat(e,'"'))).join(", "),"."))}}(e,t,r),n(i)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function vu(e){return"function"==typeof e&&"string"==typeof e.fn&&Array.isArray(e.dependencies)}function yu(e){return e&&"?"===e[0]?e.slice(1):e}tu.prototype=new RangeError,tu.prototype.constructor=RangeError,tu.prototype.name="DimensionError",tu.prototype.isDimensionError=!0,nu.prototype=new RangeError,nu.prototype.constructor=RangeError,nu.prototype.name="IndexError",nu.prototype.isIndexError=!0;var wu=function(){return wu=Po.create,Po},bu=gu("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(e){var{BigNumber:t,Complex:n,DenseMatrix:r,Fraction:i}=e,s=wu();return s.types=[{name:"number",test:La},{name:"Complex",test:Pa},{name:"BigNumber",test:Ba},{name:"Fraction",test:Fa},{name:"Unit",test:ja},{name:"string",test:Ua},{name:"Chain",test:bo},{name:"Array",test:qa},{name:"Matrix",test:Va},{name:"DenseMatrix",test:$a},{name:"SparseMatrix",test:Wa},{name:"Range",test:Ga},{name:"Index",test:Ya},{name:"boolean",test:Za},{name:"ResultSet",test:Xa},{name:"Help",test:Ja},{name:"function",test:Qa},{name:"Date",test:Ka},{name:"RegExp",test:eo},{name:"null",test:no},{name:"undefined",test:ro},{name:"AccessorNode",test:io},{name:"ArrayNode",test:so},{name:"AssignmentNode",test:ao},{name:"BlockNode",test:oo},{name:"ConditionalNode",test:uo},{name:"ConstantNode",test:co},{name:"FunctionNode",test:ho},{name:"FunctionAssignmentNode",test:lo},{name:"IndexNode",test:po},{name:"Node",test:fo},{name:"ObjectNode",test:mo},{name:"OperatorNode",test:go},{name:"ParenthesisNode",test:vo},{name:"RangeNode",test:yo},{name:"SymbolNode",test:wo},{name:"Object",test:to}],s.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(t||xu(e),e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return n||_u(e),new n(e,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(e){return n||_u(e),new n(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return n||_u(e),new n(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){i||Mu(e);var t=new i(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||xu(e);try{return new t(e)}catch(t){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){i||Mu(e);try{return new i(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){n||_u(e);try{return new n(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||xu(e),new t(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return i||Mu(e),new i(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],s}));function xu(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function _u(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Mu(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var Eu,Nu,Su=gu("ResultSet",[],(()=>{function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e}),{isClass:!0}),Tu=9e15,Ou="0123456789abcdef",Cu="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Au="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ru={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Tu,maxE:Tu,crypto:!1},ku=!0,zu="[DecimalError] Invalid argument: ",Du=Math.floor,Iu=Math.pow,Lu=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Bu=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Pu=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Fu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ju=1e7,Uu=Cu.length-1,qu=Au.length-1,Vu={name:"[object Decimal]"};function Hu(e){var t,n,r,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(s+=tc(n)),s+=r;(n=7-(r=(a=e[t])+"").length)&&(s+=tc(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return s+a}function $u(e,t,n){if(e!==~~e||e<t||e>n)throw Error(zu+e)}function Wu(e,t,n,r){var i,s,a,o;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),s=Iu(10,7-t),o=e[i]%s|0,null==r?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),a=n<4&&99999==o||n>3&&49999==o||5e4==o||0==o):a=(n<4&&o+1==s||n>3&&o+1==s/2)&&(e[i+1]/s/100|0)==Iu(10,t-2)-1||(o==s/2||0==o)&&0==(e[i+1]/s/100|0):t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),a=(r||n<4)&&9999==o||!r&&n>3&&4999==o):a=((r||n<4)&&o+1==s||!r&&n>3&&o+1==s/2)&&(e[i+1]/s/1e3|0)==Iu(10,t-3)-1,a}function Gu(e,t,n){for(var r,i,s=[0],a=0,o=e.length;a<o;){for(i=s.length;i--;)s[i]*=t;for(s[0]+=Ou.indexOf(e.charAt(a++)),r=0;r<s.length;r++)s[r]>n-1&&(void 0===s[r+1]&&(s[r+1]=0),s[r+1]+=s[r]/n|0,s[r]%=n)}return s.reverse()}Vu.absoluteValue=Vu.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Zu(e)},Vu.ceil=function(){return Zu(new this.constructor(this),this.e+1,2)},Vu.comparedTo=Vu.cmp=function(e){var t,n,r,i,s=this,a=s.d,o=(e=new s.constructor(e)).d,u=s.s,c=e.s;if(!a||!o)return u&&c?u!==c?u:a===o?0:!a^u<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?u:o[0]?-c:0;if(u!==c)return u;if(s.e!==e.e)return s.e>e.e^u<0?1:-1;for(t=0,n=(r=a.length)<(i=o.length)?r:i;t<n;++t)if(a[t]!==o[t])return a[t]>o[t]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},Vu.cosine=Vu.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,i=t.d.length;i<32?r=(1/lc(4,n=Math.ceil(i/3))).toString():(n=16,r="2.3283064365386962890625e-10"),e.precision+=n,t=cc(e,1,t.times(r),new e(1));for(var s=n;s--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}(r,hc(r,n)),r.precision=e,r.rounding=t,Zu(2==Nu||3==Nu?n.neg():n,e,t,!0)):new r(1):new r(NaN)},Vu.cubeRoot=Vu.cbrt=function(){var e,t,n,r,i,s,a,o,u,c,l=this,h=l.constructor;if(!l.isFinite()||l.isZero())return new h(l);for(ku=!1,(s=l.s*Iu(l.s*l,1/3))&&Math.abs(s)!=1/0?r=new h(s.toString()):(n=Hu(l.d),(s=((e=l.e)-n.length+1)%3)&&(n+=1==s||-2==s?"0":"00"),s=Iu(n,1/3),e=Du((e+1)/3)-(e%3==(e<0?-1:2)),(r=new h(n=s==1/0?"5e"+e:(n=s.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=l.s),a=(e=h.precision)+3;;)if(c=(u=(o=r).times(o).times(o)).plus(l),r=Yu(c.plus(l).times(o),c.plus(u),a+2,1),Hu(o.d).slice(0,a)===(n=Hu(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(Zu(r,e+1,1),t=!r.times(r).times(r).eq(l));break}if(!i&&(Zu(o,e+1,0),o.times(o).times(o).eq(l))){r=o;break}a+=4,i=1}return ku=!0,Zu(r,e,h.rounding,t)},Vu.decimalPlaces=Vu.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-Du(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},Vu.dividedBy=Vu.div=function(e){return Yu(this,new this.constructor(e))},Vu.dividedToIntegerBy=Vu.divToInt=function(e){var t=this.constructor;return Zu(Yu(this,new t(e),0,1,1),t.precision,t.rounding)},Vu.equals=Vu.eq=function(e){return 0===this.cmp(e)},Vu.floor=function(){return Zu(new this.constructor(this),this.e+1,3)},Vu.greaterThan=Vu.gt=function(e){return this.cmp(e)>0},Vu.greaterThanOrEqualTo=Vu.gte=function(e){var t=this.cmp(e);return 1==t||0===t},Vu.hyperbolicCosine=Vu.cosh=function(){var e,t,n,r,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;n=a.precision,r=a.rounding,a.precision=n+Math.max(s.e,s.sd())+4,a.rounding=1,(i=s.d.length)<32?t=(1/lc(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),s=cc(a,1,s.times(t),new a(1),!0);for(var u,c=e,l=new a(8);c--;)u=s.times(s),s=o.minus(u.times(l.minus(u.times(l))));return Zu(s,a.precision=n,a.rounding=r,!0)},Vu.hyperbolicSine=Vu.sinh=function(){var e,t,n,r,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.precision,n=s.rounding,s.precision=t+Math.max(i.e,i.sd())+4,s.rounding=1,(r=i.d.length)<3)i=cc(s,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=cc(s,2,i=i.times(1/lc(5,e)),i,!0);for(var a,o=new s(5),u=new s(16),c=new s(20);e--;)a=i.times(i),i=i.times(o.plus(a.times(u.times(a).plus(c))))}return s.precision=t,s.rounding=n,Zu(i,t,n,!0)},Vu.hyperbolicTangent=Vu.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,Yu(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},Vu.inverseCosine=Vu.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,s=n.rounding;return-1!==r?0===r?t.isNeg()?Ku(n,i,s):new n(0):new n(NaN):t.isZero()?Ku(n,i+4,s).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=Ku(n,i+4,s).times(.5),n.precision=i,n.rounding=s,e.minus(t))},Vu.inverseHyperbolicCosine=Vu.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,ku=!1,n=n.times(n).minus(1).sqrt().plus(n),ku=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},Vu.inverseHyperbolicSine=Vu.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,ku=!1,n=n.times(n).plus(1).sqrt().plus(n),ku=!0,r.precision=e,r.rounding=t,n.ln())},Vu.inverseHyperbolicTangent=Vu.atanh=function(){var e,t,n,r,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=s.precision,t=s.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?Zu(new s(i),e,t,!0):(s.precision=n=r-i.e,i=Yu(i.plus(1),new s(1).minus(i),n+e,1),s.precision=e+4,s.rounding=1,i=i.ln(),s.precision=e,s.rounding=t,i.times(.5))):new s(NaN)},Vu.inverseSine=Vu.asin=function(){var e,t,n,r,i=this,s=i.constructor;return i.isZero()?new s(i):(t=i.abs().cmp(1),n=s.precision,r=s.rounding,-1!==t?0===t?((e=Ku(s,n+4,r).times(.5)).s=i.s,e):new s(NaN):(s.precision=n+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=n,s.rounding=r,i.times(2)))},Vu.inverseTangent=Vu.atan=function(){var e,t,n,r,i,s,a,o,u,c=this,l=c.constructor,h=l.precision,p=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&h+4<=qu)return(a=Ku(l,h+4,p).times(.25)).s=c.s,a}else{if(!c.s)return new l(NaN);if(h+4<=qu)return(a=Ku(l,h+4,p).times(.5)).s=c.s,a}for(l.precision=o=h+10,l.rounding=1,e=n=Math.min(28,o/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(ku=!1,t=Math.ceil(o/7),r=1,u=c.times(c),a=new l(c),i=c;-1!==e;)if(i=i.times(u),s=a.minus(i.div(r+=2)),i=i.times(u),void 0!==(a=s.plus(i.div(r+=2))).d[t])for(e=t;a.d[e]===s.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),ku=!0,Zu(a,l.precision=h,l.rounding=p,!0)},Vu.isFinite=function(){return!!this.d},Vu.isInteger=Vu.isInt=function(){return!!this.d&&Du(this.e/7)>this.d.length-2},Vu.isNaN=function(){return!this.s},Vu.isNegative=Vu.isNeg=function(){return this.s<0},Vu.isPositive=Vu.isPos=function(){return this.s>0},Vu.isZero=function(){return!!this.d&&0===this.d[0]},Vu.lessThan=Vu.lt=function(e){return this.cmp(e)<0},Vu.lessThanOrEqualTo=Vu.lte=function(e){return this.cmp(e)<1},Vu.logarithm=Vu.log=function(e){var t,n,r,i,s,a,o,u,c=this,l=c.constructor,h=l.precision,p=l.rounding;if(null==e)e=new l(10),t=!0;else{if(n=(e=new l(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new l(n&&!n[0]?-1/0:1!=c.s?NaN:n?0:1/0);if(t)if(n.length>1)s=!0;else{for(i=n[0];i%10==0;)i/=10;s=1!==i}if(ku=!1,a=ac(c,o=h+5),r=t?Qu(l,o+10):ac(e,o),Wu((u=Yu(a,r,o,1)).d,i=h,p))do{if(a=ac(c,o+=10),r=t?Qu(l,o+10):ac(e,o),u=Yu(a,r,o,1),!s){+Hu(u.d).slice(i+1,i+15)+1==1e14&&(u=Zu(u,h+1,0));break}}while(Wu(u.d,i+=10,p));return ku=!0,Zu(u,h,p)},Vu.minus=Vu.sub=function(e){var t,n,r,i,s,a,o,u,c,l,h,p,f=this,d=f.constructor;if(e=new d(e),!f.d||!e.d)return f.s&&e.s?f.d?e.s=-e.s:e=new d(e.d||f.s!==e.s?f:NaN):e=new d(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.plus(e);if(c=f.d,p=e.d,o=d.precision,u=d.rounding,!c[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!c[0])return new d(3===u?-0:0);e=new d(f)}return ku?Zu(e,o,u):e}if(n=Du(e.e/7),l=Du(f.e/7),c=c.slice(),s=l-n){for((h=s<0)?(t=c,s=-s,a=p.length):(t=p,n=l,a=c.length),s>(r=Math.max(Math.ceil(o/7),a)+2)&&(s=r,t.length=1),t.reverse(),r=s;r--;)t.push(0);t.reverse()}else{for((h=(r=c.length)<(a=p.length))&&(a=r),r=0;r<a;r++)if(c[r]!=p[r]){h=c[r]<p[r];break}s=0}for(h&&(t=c,c=p,p=t,e.s=-e.s),a=c.length,r=p.length-a;r>0;--r)c[a++]=0;for(r=p.length;r>s;){if(c[--r]<p[r]){for(i=r;i&&0===c[--i];)c[i]=ju-1;--c[i],c[r]+=ju}c[r]-=p[r]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=Ju(c,n),ku?Zu(e,o,u):e):new d(3===u?-0:0)},Vu.modulo=Vu.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?Zu(new r(n),r.precision,r.rounding):(ku=!1,9==r.modulo?(t=Yu(n,e.abs(),0,3,1)).s*=e.s:t=Yu(n,e,0,r.modulo,1),t=t.times(e),ku=!0,n.minus(t))},Vu.naturalExponential=Vu.exp=function(){return sc(this)},Vu.naturalLogarithm=Vu.ln=function(){return ac(this)},Vu.negated=Vu.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Zu(e)},Vu.plus=Vu.add=function(e){var t,n,r,i,s,a,o,u,c,l,h=this,p=h.constructor;if(e=new p(e),!h.d||!e.d)return h.s&&e.s?h.d||(e=new p(e.d||h.s===e.s?h:NaN)):e=new p(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(c=h.d,l=e.d,o=p.precision,u=p.rounding,!c[0]||!l[0])return l[0]||(e=new p(h)),ku?Zu(e,o,u):e;if(s=Du(h.e/7),r=Du(e.e/7),c=c.slice(),i=s-r){for(i<0?(n=c,i=-i,a=l.length):(n=l,r=s,a=c.length),i>(a=(s=Math.ceil(o/7))>a?s+1:a+1)&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((a=c.length)-(i=l.length)<0&&(i=a,n=l,l=c,c=n),t=0;i;)t=(c[--i]=c[i]+l[i]+t)/ju|0,c[i]%=ju;for(t&&(c.unshift(t),++r),a=c.length;0==c[--a];)c.pop();return e.d=c,e.e=Ju(c,r),ku?Zu(e,o,u):e},Vu.precision=Vu.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(zu+e);return n.d?(t=ec(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},Vu.round=function(){var e=this,t=e.constructor;return Zu(new t(e),e.e+1,t.rounding)},Vu.sine=Vu.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return cc(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=cc(e,2,t=t.times(1/lc(5,n)),t);for(var i,s=new e(5),a=new e(16),o=new e(20);n--;)i=t.times(t),t=t.times(s.plus(i.times(a.times(i).minus(o))));return t}(r,hc(r,n)),r.precision=e,r.rounding=t,Zu(Nu>2?n.neg():n,e,t,!0)):new r(NaN)},Vu.squareRoot=Vu.sqrt=function(){var e,t,n,r,i,s,a=this,o=a.d,u=a.e,c=a.s,l=a.constructor;if(1!==c||!o||!o[0])return new l(!c||c<0&&(!o||o[0])?NaN:o?a:1/0);for(ku=!1,0==(c=Math.sqrt(+a))||c==1/0?(((t=Hu(o)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=Du((u+1)/2)-(u<0||u%2),r=new l(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new l(c.toString()),n=(u=l.precision)+3;;)if(r=(s=r).plus(Yu(a,s,n+2,1)).times(.5),Hu(s.d).slice(0,n)===(t=Hu(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(Zu(r,u+1,1),e=!r.times(r).eq(a));break}if(!i&&(Zu(s,u+1,0),s.times(s).eq(a))){r=s;break}n+=4,i=1}return ku=!0,Zu(r,u,l.rounding,e)},Vu.tangent=Vu.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=Yu(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,Zu(2==Nu||4==Nu?n.neg():n,e,t,!0)):new r(NaN)},Vu.times=Vu.mul=function(e){var t,n,r,i,s,a,o,u,c,l=this,h=l.constructor,p=l.d,f=(e=new h(e)).d;if(e.s*=l.s,!(p&&p[0]&&f&&f[0]))return new h(!e.s||p&&!p[0]&&!f||f&&!f[0]&&!p?NaN:p&&f?0*e.s:e.s/0);for(n=Du(l.e/7)+Du(e.e/7),(u=p.length)<(c=f.length)&&(s=p,p=f,f=s,a=u,u=c,c=a),s=[],r=a=u+c;r--;)s.push(0);for(r=c;--r>=0;){for(t=0,i=u+r;i>r;)o=s[i]+f[r]*p[i-r-1]+t,s[i--]=o%ju|0,t=o/ju|0;s[i]=(s[i]+t)%ju|0}for(;!s[--a];)s.pop();return t?++n:s.shift(),e.d=s,e.e=Ju(s,n),ku?Zu(e,h.precision,h.rounding):e},Vu.toBinary=function(e,t){return pc(this,2,e,t)},Vu.toDecimalPlaces=Vu.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:($u(e,0,1e9),void 0===t?t=r.rounding:$u(t,0,8),Zu(n,e+n.e+1,t))},Vu.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=Xu(r,!0):($u(e,0,1e9),void 0===t?t=i.rounding:$u(t,0,8),n=Xu(r=Zu(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},Vu.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return void 0===e?n=Xu(i):($u(e,0,1e9),void 0===t?t=s.rounding:$u(t,0,8),n=Xu(r=Zu(new s(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},Vu.toFraction=function(e){var t,n,r,i,s,a,o,u,c,l,h,p,f=this,d=f.d,m=f.constructor;if(!d)return new m(f);if(c=n=new m(1),r=u=new m(0),a=(s=(t=new m(r)).e=ec(d)-f.e-1)%7,t.d[0]=Iu(10,a<0?7+a:a),null==e)e=s>0?t:c;else{if(!(o=new m(e)).isInt()||o.lt(c))throw Error(zu+o);e=o.gt(t)?s>0?t:c:o}for(ku=!1,o=new m(Hu(d)),l=m.precision,m.precision=s=7*d.length*2;h=Yu(o,t,0,1,1),1!=(i=n.plus(h.times(r))).cmp(e);)n=r,r=i,i=c,c=u.plus(h.times(i)),u=i,i=t,t=o.minus(h.times(i)),o=i;return i=Yu(e.minus(n),r,0,1,1),u=u.plus(i.times(c)),n=n.plus(i.times(r)),u.s=c.s=f.s,p=Yu(c,r,s,1).minus(f).abs().cmp(Yu(u,n,s,1).minus(f).abs())<1?[c,r]:[u,n],m.precision=l,ku=!0,p},Vu.toHexadecimal=Vu.toHex=function(e,t){return pc(this,16,e,t)},Vu.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:$u(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(ku=!1,n=Yu(n,e,0,t,1).times(e),ku=!0,Zu(n)):(e.s=n.s,n=e),n},Vu.toNumber=function(){return+this},Vu.toOctal=function(e,t){return pc(this,8,e,t)},Vu.toPower=Vu.pow=function(e){var t,n,r,i,s,a,o=this,u=o.constructor,c=+(e=new u(e));if(!(o.d&&e.d&&o.d[0]&&e.d[0]))return new u(Iu(+o,c));if((o=new u(o)).eq(1))return o;if(r=u.precision,s=u.rounding,e.eq(1))return Zu(o,r,s);if((t=Du(e.e/7))>=e.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return i=nc(u,o,n,r),e.s<0?new u(1).div(i):Zu(i,r,s);if((a=o.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return(t=0!=(n=Iu(+o,c))&&isFinite(n)?new u(n+"").e:Du(c*(Math.log("0."+Hu(o.d))/Math.LN10+o.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?a/0:0):(ku=!1,u.rounding=o.s=1,n=Math.min(12,(t+"").length),(i=sc(e.times(ac(o,r+n)),r)).d&&Wu((i=Zu(i,r+5,1)).d,r,s)&&(t=r+10,+Hu((i=Zu(sc(e.times(ac(o,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=Zu(i,r+1,0))),i.s=a,ku=!0,u.rounding=s,Zu(i,r,s))},Vu.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=Xu(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):($u(e,1,1e9),void 0===t?t=i.rounding:$u(t,0,8),n=Xu(r=Zu(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},Vu.toSignificantDigits=Vu.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):($u(e,1,1e9),void 0===t?t=n.rounding:$u(t,0,8)),Zu(new n(this),e,t)},Vu.toString=function(){var e=this,t=e.constructor,n=Xu(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},Vu.truncated=Vu.trunc=function(){return Zu(new this.constructor(this),this.e+1,1)},Vu.valueOf=Vu.toJSON=function(){var e=this,t=e.constructor,n=Xu(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var Yu=function(){function e(e,t,n){var r,i=0,s=e.length;for(e=e.slice();s--;)r=e[s]*t+i,e[s]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,s,a,o,u){var c,l,h,p,f,d,m,g,v,y,w,b,x,_,M,E,N,S,T,O,C=r.constructor,A=r.s==i.s?1:-1,R=r.d,k=i.d;if(!(R&&R[0]&&k&&k[0]))return new C(r.s&&i.s&&(R?!k||R[0]!=k[0]:k)?R&&0==R[0]||!k?0*A:A/0:NaN);for(u?(f=1,l=r.e-i.e):(u=ju,f=7,l=Du(r.e/f)-Du(i.e/f)),T=k.length,N=R.length,y=(v=new C(A)).d=[],h=0;k[h]==(R[h]||0);h++);if(k[h]>(R[h]||0)&&l--,null==s?(_=s=C.precision,a=C.rounding):_=o?s+(r.e-i.e)+1:s,_<0)y.push(1),d=!0;else{if(_=_/f+2|0,h=0,1==T){for(p=0,k=k[0],_++;(h<N||p)&&_--;h++)M=p*u+(R[h]||0),y[h]=M/k|0,p=M%k|0;d=p||h<N}else{for((p=u/(k[0]+1)|0)>1&&(k=e(k,p,u),R=e(R,p,u),T=k.length,N=R.length),E=T,b=(w=R.slice(0,T)).length;b<T;)w[b++]=0;(O=k.slice()).unshift(0),S=k[0],k[1]>=u/2&&++S;do{p=0,(c=t(k,w,T,b))<0?(x=w[0],T!=b&&(x=x*u+(w[1]||0)),(p=x/S|0)>1?(p>=u&&(p=u-1),1==(c=t(m=e(k,p,u),w,g=m.length,b=w.length))&&(p--,n(m,T<g?O:k,g,u))):(0==p&&(c=p=1),m=k.slice()),(g=m.length)<b&&m.unshift(0),n(w,m,b,u),-1==c&&(c=t(k,w,T,b=w.length))<1&&(p++,n(w,T<b?O:k,b,u)),b=w.length):0===c&&(p++,w=[0]),y[h++]=p,c&&w[0]?w[b++]=R[E]||0:(w=[R[E]],b=1)}while((E++<N||void 0!==w[0])&&_--);d=void 0!==w[0]}y[0]||y.shift()}if(1==f)v.e=l,Eu=d;else{for(h=1,p=y[0];p>=10;p/=10)h++;v.e=h+l*f-1,Zu(v,o?s+v.e+1:s,a,d)}return v}}();function Zu(e,t,n,r){var i,s,a,o,u,c,l,h,p,f=e.constructor;e:if(null!=t){if(!(h=e.d))return e;for(i=1,o=h[0];o>=10;o/=10)i++;if((s=t-i)<0)s+=7,a=t,u=(l=h[p=0])/Iu(10,i-a-1)%10|0;else if((p=Math.ceil((s+1)/7))>=(o=h.length)){if(!r)break e;for(;o++<=p;)h.push(0);l=u=0,i=1,a=(s%=7)-7+1}else{for(l=o=h[p],i=1;o>=10;o/=10)i++;u=(a=(s%=7)-7+i)<0?0:l/Iu(10,i-a-1)%10|0}if(r=r||t<0||void 0!==h[p+1]||(a<0?l:l%Iu(10,i-a-1)),c=n<4?(u||r)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(s>0?a>0?l/Iu(10,i-a):0:h[p-1])%10&1||n==(e.s<0?8:7)),t<1||!h[0])return h.length=0,c?(t-=e.e+1,h[0]=Iu(10,(7-t%7)%7),e.e=-t||0):h[0]=e.e=0,e;if(0==s?(h.length=p,o=1,p--):(h.length=p+1,o=Iu(10,7-s),h[p]=a>0?(l/Iu(10,i-a)%Iu(10,a)|0)*o:0),c)for(;;){if(0==p){for(s=1,a=h[0];a>=10;a/=10)s++;for(a=h[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(e.e++,h[0]==ju&&(h[0]=1));break}if(h[p]+=o,h[p]!=ju)break;h[p--]=0,o=1}for(s=h.length;0===h[--s];)h.pop()}return ku&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function Xu(e,t,n){if(!e.isFinite())return oc(e);var r,i=e.e,s=Hu(e.d),a=s.length;return t?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+tc(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):i<0?(s="0."+tc(-i-1)+s,n&&(r=n-a)>0&&(s+=tc(r))):i>=a?(s+=tc(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+tc(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=tc(r))),s}function Ju(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function Qu(e,t,n){if(t>Uu)throw ku=!0,n&&(e.precision=n),Error("[DecimalError] Precision limit exceeded");return Zu(new e(Cu),t,1,!0)}function Ku(e,t,n){if(t>qu)throw Error("[DecimalError] Precision limit exceeded");return Zu(new e(Au),t,n,!0)}function ec(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function tc(e){for(var t="";e--;)t+="0";return t}function nc(e,t,n,r){var i,s=new e(1),a=Math.ceil(r/7+4);for(ku=!1;;){if(n%2&&fc((s=s.times(t)).d,a)&&(i=!0),0===(n=Du(n/2))){n=s.d.length-1,i&&0===s.d[n]&&++s.d[n];break}fc((t=t.times(t)).d,a)}return ku=!0,s}function rc(e){return 1&e.d[e.d.length-1]}function ic(e,t,n){for(var r,i=new e(t[0]),s=0;++s<t.length;){if(!(r=new e(t[s])).s){i=r;break}i[n](r)&&(i=r)}return i}function sc(e,t){var n,r,i,s,a,o,u,c=0,l=0,h=0,p=e.constructor,f=p.rounding,d=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(ku=!1,u=d):u=t,o=new p(.03125);e.e>-2;)e=e.times(o),h+=5;for(u+=r=Math.log(Iu(2,h))/Math.LN10*2+5|0,n=s=a=new p(1),p.precision=u;;){if(s=Zu(s.times(e),u,1),n=n.times(++l),Hu((o=a.plus(Yu(s,n,u,1))).d).slice(0,u)===Hu(a.d).slice(0,u)){for(i=h;i--;)a=Zu(a.times(a),u,1);if(null!=t)return p.precision=d,a;if(!(c<3&&Wu(a.d,u-r,f,c)))return Zu(a,p.precision=d,f,ku=!0);p.precision=u+=10,n=s=o=new p(1),l=0,c++}a=o}}function ac(e,t){var n,r,i,s,a,o,u,c,l,h,p,f=1,d=e,m=d.d,g=d.constructor,v=g.rounding,y=g.precision;if(d.s<0||!m||!m[0]||!d.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=d.s?NaN:m?0:d);if(null==t?(ku=!1,l=y):l=t,g.precision=l+=10,r=(n=Hu(m)).charAt(0),!(Math.abs(s=d.e)<15e14))return c=Qu(g,l+2,y).times(s+""),d=ac(new g(r+"."+n.slice(1)),l-10).plus(c),g.precision=y,null==t?Zu(d,y,v,ku=!0):d;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=Hu((d=d.times(e)).d)).charAt(0),f++;for(s=d.e,r>1?(d=new g("0."+n),s++):d=new g(r+"."+n.slice(1)),h=d,u=a=d=Yu(d.minus(1),d.plus(1),l,1),p=Zu(d.times(d),l,1),i=3;;){if(a=Zu(a.times(p),l,1),Hu((c=u.plus(Yu(a,new g(i),l,1))).d).slice(0,l)===Hu(u.d).slice(0,l)){if(u=u.times(2),0!==s&&(u=u.plus(Qu(g,l+2,y).times(s+""))),u=Yu(u,new g(f),l,1),null!=t)return g.precision=y,u;if(!Wu(u.d,l-10,v,o))return Zu(u,g.precision=y,v,ku=!0);g.precision=l+=10,c=a=d=Yu(h.minus(1),h.plus(1),l,1),p=Zu(d.times(d),l,1),i=o=1}u=c,i+=2}}function oc(e){return String(e.s*e.s/0)}function uc(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";e.d.push(+t),ku&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function cc(e,t,n,r,i){var s,a,o,u,c=e.precision,l=Math.ceil(c/7);for(ku=!1,u=n.times(n),o=new e(r);;){if(a=Yu(o.times(u),new e(t++*t++),c,1),o=i?r.plus(a):r.minus(a),r=Yu(a.times(u),new e(t++*t++),c,1),void 0!==(a=o.plus(r)).d[l]){for(s=l;a.d[s]===o.d[s]&&s--;);if(-1==s)break}s=o,o=r,r=a,a=s}return ku=!0,a.d.length=l+1,a}function lc(e,t){for(var n=e;--t;)n*=e;return n}function hc(e,t){var n,r=t.s<0,i=Ku(e,e.precision,1),s=i.times(.5);if((t=t.abs()).lte(s))return Nu=r?4:1,t;if((n=t.divToInt(i)).isZero())Nu=r?3:2;else{if((t=t.minus(n.times(i))).lte(s))return Nu=rc(n)?r?2:3:r?4:1,t;Nu=rc(n)?r?1:4:r?3:2}return t.minus(i).abs()}function pc(e,t,n,r){var i,s,a,o,u,c,l,h,p,f=e.constructor,d=void 0!==n;if(d?($u(n,1,1e9),void 0===r?r=f.rounding:$u(r,0,8)):(n=f.precision,r=f.rounding),e.isFinite()){for(d?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(a=(l=Xu(e)).indexOf("."))>=0&&(l=l.replace(".",""),(p=new f(1)).e=l.length-a,p.d=Gu(Xu(p),10,i),p.e=p.d.length),s=u=(h=Gu(l,10,i)).length;0==h[--u];)h.pop();if(h[0]){if(a<0?s--:((e=new f(e)).d=h,e.e=s,h=(e=Yu(e,p,n,r,0,i)).d,s=e.e,c=Eu),a=h[n],o=i/2,c=c||void 0!==h[n+1],c=r<4?(void 0!==a||c)&&(0===r||r===(e.s<0?3:2)):a>o||a===o&&(4===r||c||6===r&&1&h[n-1]||r===(e.s<0?8:7)),h.length=n,c)for(;++h[--n]>i-1;)h[n]=0,n||(++s,h.unshift(1));for(u=h.length;!h[u-1];--u);for(a=0,l="";a<u;a++)l+=Ou.charAt(h[a]);if(d){if(u>1)if(16==t||8==t){for(a=16==t?4:3,--u;u%a;u++)l+="0";for(u=(h=Gu(l,i,t)).length;!h[u-1];--u);for(a=1,l="1.";a<u;a++)l+=Ou.charAt(h[a])}else l=l.charAt(0)+"."+l.slice(1);l=l+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)l="0"+l;l="0."+l}else if(++s>u)for(s-=u;s--;)l+="0";else s<u&&(l=l.slice(0,s)+"."+l.slice(s))}else l=d?"0p+0":"0";l=(16==t?"0x":2==t?"0b":8==t?"0o":"")+l}else l=oc(e);return e.s<0?"-"+l:l}function fc(e,t){if(e.length>t)return e.length=t,!0}function dc(e){return new this(e).abs()}function mc(e){return new this(e).acos()}function gc(e){return new this(e).acosh()}function vc(e,t){return new this(e).plus(t)}function yc(e){return new this(e).asin()}function wc(e){return new this(e).asinh()}function bc(e){return new this(e).atan()}function xc(e){return new this(e).atanh()}function _c(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,s=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?Ku(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=Ku(this,s,1).times(.5)).s=e.s:t.s<0?(this.precision=s,this.rounding=1,n=this.atan(Yu(e,t,s,1)),t=Ku(this,s,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(Yu(e,t,s,1)):(n=Ku(this,s,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function Mc(e){return new this(e).cbrt()}function Ec(e){return Zu(e=new this(e),e.e+1,2)}function Nc(e){if(!e||"object"!=typeof e)throw Error("[DecimalError] Object expected");var t,n,r,i=!0===e.defaults,s=["precision",1,1e9,"rounding",0,8,"toExpNeg",-Tu,0,"toExpPos",0,Tu,"maxE",0,Tu,"minE",-Tu,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(n=s[t],i&&(this[n]=Ru[n]),void 0!==(r=e[n])){if(!(Du(r)===r&&r>=s[t+1]&&r<=s[t+2]))throw Error(zu+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=Ru[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(zu+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[n]=!0}else this[n]=!1}return this}function Sc(e){return new this(e).cos()}function Tc(e){return new this(e).cosh()}function Oc(e,t){return new this(e).div(t)}function Cc(e){return new this(e).exp()}function Ac(e){return Zu(e=new this(e),e.e+1,3)}function Rc(){var e,t,n=new this(0);for(ku=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return ku=!0,new this(1/0);n=t}return ku=!0,n.sqrt()}function kc(e){return e instanceof Qc||e&&"[object Decimal]"===e.name||!1}function zc(e){return new this(e).ln()}function Dc(e,t){return new this(e).log(t)}function Ic(e){return new this(e).log(2)}function Lc(e){return new this(e).log(10)}function Bc(){return ic(this,arguments,"lt")}function Pc(){return ic(this,arguments,"gt")}function Fc(e,t){return new this(e).mod(t)}function jc(e,t){return new this(e).mul(t)}function Uc(e,t){return new this(e).pow(t)}function qc(e){var t,n,r,i,s=0,a=new this(1),o=[];if(void 0===e?e=this.precision:$u(e,1,1e9),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));s<r;)(i=t[s])>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else{if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(t=crypto.randomBytes(r*=4);s<r;)(i=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((127&t[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,s):(o.push(i%1e7),s+=4);s=r/4}else for(;s<r;)o[s++]=1e7*Math.random()|0;for(e%=7,(r=o[--s])&&e&&(i=Iu(10,7-e),o[s]=(r/i|0)*i);0===o[s];s--)o.pop();if(s<0)n=0,o=[0];else{for(n=-1;0===o[0];n-=7)o.shift();for(r=1,i=o[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return a.e=n,a.d=o,a}function Vc(e){return Zu(e=new this(e),e.e+1,this.rounding)}function Hc(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function $c(e){return new this(e).sin()}function Wc(e){return new this(e).sinh()}function Gc(e){return new this(e).sqrt()}function Yc(e,t){return new this(e).sub(t)}function Zc(e){return new this(e).tan()}function Xc(e){return new this(e).tanh()}function Jc(e){return Zu(e=new this(e),e.e+1,1)}Vu[Symbol.for("nodejs.util.inspect.custom")]=Vu.toString,Vu[Symbol.toStringTag]="Decimal";var Qc=function e(t){var n,r,i;function s(e){var t,n,r,i=this;if(!(i instanceof s))return new s(e);if(i.constructor=s,e instanceof s)return i.s=e.s,void(ku?!e.d||e.e>s.maxE?(i.e=NaN,i.d=null):e.e<s.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"==(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(ku?t>s.maxE?(i.e=NaN,i.d=null):t<s.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):uc(i,e.toString())}if("string"!==r)throw Error(zu+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),Fu.test(e)?uc(i,e):function(e,t){var n,r,i,s,a,o,u,c,l;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Bu.test(t))n=16,t=t.toLowerCase();else if(Lu.test(t))n=2;else{if(!Pu.test(t))throw Error(zu+t);n=8}for((s=t.search(/p/i))>0?(u=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),a=(s=t.indexOf("."))>=0,r=e.constructor,a&&(s=(o=(t=t.replace(".","")).length)-s,i=nc(r,new r(n),s,2*s)),s=l=(c=Gu(t,n,ju)).length-1;0===c[s];--s)c.pop();return s<0?new r(0*e.s):(e.e=Ju(c,l),e.d=c,ku=!1,a&&(e=Yu(e,i,4*o)),u&&(e=e.times(Math.abs(u)<54?Iu(2,u):Qc.pow(2,u))),ku=!0,e)}(i,e)}if(s.prototype=Vu,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=Nc,s.clone=e,s.isDecimal=kc,s.abs=dc,s.acos=mc,s.acosh=gc,s.add=vc,s.asin=yc,s.asinh=wc,s.atan=bc,s.atanh=xc,s.atan2=_c,s.cbrt=Mc,s.ceil=Ec,s.cos=Sc,s.cosh=Tc,s.div=Oc,s.exp=Cc,s.floor=Ac,s.hypot=Rc,s.ln=zc,s.log=Dc,s.log10=Lc,s.log2=Ic,s.max=Bc,s.min=Pc,s.mod=Fc,s.mul=jc,s.pow=Uc,s.random=qc,s.round=Vc,s.sign=Hc,s.sin=$c,s.sinh=Wc,s.sqrt=Gc,s.sub=Yc,s.tan=Zc,s.tanh=Xc,s.trunc=Jc,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return s.config(t),s}(Ru);Cu=new Qc(Cu),Au=new Qc(Au);var Kc,el=gu("BigNumber",["?on","config"],(e=>{var{on:t,config:n}=e,r=Qc.clone({precision:n.precision,modulo:9});return r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(e){return new r(e.value)},t&&t("config",(function(e,t){e.precision!==t.precision&&r.config({precision:e.precision})})),r}),{isClass:!0}),tl={exports:{}};
/**
 * @license Complex.js v2.0.13 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/Kc=tl,function(e){var t=function(e){return.5*(Math.exp(e)+Math.exp(-e))},n=function(e){return.5*(Math.exp(e)-Math.exp(-e))},r=function(){throw SyntaxError("Invalid Param")};function i(e,t){var n=Math.abs(e),r=Math.abs(t);return 0===e?Math.log(r):0===t?Math.log(n):n<3e3&&r<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}function s(e,t){if(!(this instanceof s))return new s(e,t);var n=function(e,t){var n={re:0,im:0};if(null==e)n.re=n.im=0;else if(void 0!==t)n.re=e,n.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return s.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return s.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else 2===e.length?(n.re=e[0],n.im=e[1]):r();break;case"string":n.im=n.re=0;var i=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),a=1,o=0;null===i&&r();for(var u=0;u<i.length;u++){var c=i[u];" "===c||"\t"===c||"\n"===c||("+"===c?a++:"-"===c?o++:"i"===c||"I"===c?(a+o===0&&r()," "===i[u+1]||isNaN(i[u+1])?n.im+=parseFloat((o%2?"-":"")+"1"):(n.im+=parseFloat((o%2?"-":"")+i[u+1]),u++),a=o=0):((a+o===0||isNaN(c))&&r(),"i"===i[u+1]||"I"===i[u+1]?(n.im+=parseFloat((o%2?"-":"")+c),u++):n.re+=parseFloat((o%2?"-":"")+c),a=o=0))}a+o>0&&r();break;case"number":n.im=0,n.re=e;break;default:r()}return isNaN(n.re)||isNaN(n.im),n}(e,t);this.re=n.re,this.im=n.im}s.prototype={re:0,im:0,sign:function(){var e=this.abs();return new s(this.re/e,this.im/e)},add:function(e,t){var n=new s(e,t);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re+n.re,this.im+n.im)},sub:function(e,t){var n=new s(e,t);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re-n.re,this.im-n.im)},mul:function(e,t){var n=new s(e,t);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:0===n.im&&0===this.im?new s(this.re*n.re,0):new s(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,t){var n=new s(e,t);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return s.NAN;if(this.isInfinite()||n.isZero())return s.INFINITY;if(this.isZero()||n.isInfinite())return s.ZERO;e=this.re,t=this.im;var r,i,a=n.re,o=n.im;return 0===o?new s(e/a,t/a):Math.abs(a)<Math.abs(o)?new s((e*(i=a/o)+t)/(r=a*i+o),(t*i-e)/r):new s((e+t*(i=o/a))/(r=o*i+a),(t-e*i)/r)},pow:function(e,t){var n=new s(e,t);if(e=this.re,t=this.im,n.isZero())return s.ONE;if(0===n.im){if(0===t&&e>0)return new s(Math.pow(e,n.re),0);if(0===e)switch((n.re%4+4)%4){case 0:return new s(Math.pow(t,n.re),0);case 1:return new s(0,Math.pow(t,n.re));case 2:return new s(-Math.pow(t,n.re),0);case 3:return new s(0,-Math.pow(t,n.re))}}if(0===e&&0===t&&n.re>0&&n.im>=0)return s.ZERO;var r=Math.atan2(t,e),a=i(e,t);return e=Math.exp(n.re*a-n.im*r),t=n.im*a+n.re*r,new s(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t,n=this.re,r=this.im,i=this.abs();if(n>=0){if(0===r)return new s(Math.sqrt(n),0);e=.5*Math.sqrt(2*(i+n))}else e=Math.abs(r)/Math.sqrt(2*(i-n));return t=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new s(e,r<0?-t:t)},exp:function(){var e=Math.exp(this.re);return this.im,new s(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,t=this.im;return new s(Math.expm1(e)*Math.cos(t)+function(e){var t=Math.PI/4;if(e<-t||e>t)return Math.cos(e)-1;var n=e*e;return n*(n*(1/24+n*(-1/720+n*(1/40320+n*(-1/3628800+n*(1/4790014600+n*(-1/87178291200+n*(1/20922789888e3)))))))-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){var e=this.re,t=this.im;return new s(i(e,t),Math.atan2(t,e))},abs:function(){return e=this.re,t=this.im,n=Math.abs(e),r=Math.abs(t),n<3e3&&r<3e3?Math.sqrt(n*n+r*r):(n<r?(n=r,r=e/t):r=t/e,n*Math.sqrt(1+r*r));var e,t,n,r},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,r=this.im;return new s(Math.sin(e)*t(r),Math.cos(e)*n(r))},cos:function(){var e=this.re,r=this.im;return new s(Math.cos(e)*t(r),-Math.sin(e)*n(r))},tan:function(){var e=2*this.re,r=2*this.im,i=Math.cos(e)+t(r);return new s(Math.sin(e)/i,n(r)/i)},cot:function(){var e=2*this.re,r=2*this.im,i=Math.cos(e)-t(r);return new s(-Math.sin(e)/i,n(r)/i)},sec:function(){var e=this.re,r=this.im,i=.5*t(2*r)+.5*Math.cos(2*e);return new s(Math.cos(e)*t(r)/i,Math.sin(e)*n(r)/i)},csc:function(){var e=this.re,r=this.im,i=.5*t(2*r)-.5*Math.cos(2*e);return new s(Math.sin(e)*t(r)/i,-Math.cos(e)*n(r)/i)},asin:function(){var e=this.re,t=this.im,n=new s(t*t-e*e+1,-2*e*t).sqrt(),r=new s(n.re-t,n.im+e).log();return new s(r.im,-r.re)},acos:function(){var e=this.re,t=this.im,n=new s(t*t-e*e+1,-2*e*t).sqrt(),r=new s(n.re-t,n.im+e).log();return new s(Math.PI/2-r.im,r.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new s(0,1/0);if(-1===t)return new s(0,-1/0)}var n=e*e+(1-t)*(1-t),r=new s((1-t*t-e*e)/n,-2*e/n).log();return new s(-.5*r.im,.5*r.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new s(Math.atan2(1,e),0);var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).atan():new s(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new s(0,1/0);var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).acos():new s(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new s(Math.PI/2,1/0);var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).asin():new s(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){var e=this.re,r=this.im;return new s(n(e)*Math.cos(r),t(e)*Math.sin(r))},cosh:function(){var e=this.re,r=this.im;return new s(t(e)*Math.cos(r),n(e)*Math.sin(r))},tanh:function(){var e=2*this.re,r=2*this.im,i=t(e)+Math.cos(r);return new s(n(e)/i,Math.sin(r)/i)},coth:function(){var e=2*this.re,r=2*this.im,i=t(e)-Math.cos(r);return new s(n(e)/i,-Math.sin(r)/i)},csch:function(){var e=this.re,r=this.im,i=Math.cos(2*r)-t(2*e);return new s(-2*n(e)*Math.cos(r)/i,2*t(e)*Math.sin(r)/i)},sech:function(){var e=this.re,r=this.im,i=Math.cos(2*r)+t(2*e);return new s(2*t(e)*Math.cos(r)/i,-2*n(e)*Math.sin(r)/i)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e=this.acos();if(e.im<=0){var t=e.re;e.re=-e.im,e.im=t}else t=e.im,e.im=-e.re,e.re=t;return e},atanh:function(){var e=this.re,t=this.im,n=e>1&&0===t,r=1-e,a=1+e,o=r*r+t*t,u=0!==o?new s((a*r-t*t)/o,(t*r+a*t)/o):new s(-1!==e?e/0:0,0!==t?t/0:0),c=u.re;return u.re=i(u.re,u.im)/2,u.im=Math.atan2(u.im,c)/2,n&&(u.im=-u.im),u},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new s(0,Math.PI/2);var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).atanh():new s(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new s(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).asinh():new s(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){var e=this.re,t=this.im;if(this.isZero())return s.INFINITY;var n=e*e+t*t;return 0!==n?new s(e/n,-t/n).acosh():new s(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var e=this.re,t=this.im,n=e*e+t*t;return new s(e/n,-t/n)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new s(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new s(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new s(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){var n=new s(e,t);return Math.abs(n.re-this.re)<=s.EPSILON&&Math.abs(n.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var e=this.re,t=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<s.EPSILON&&(e=0),Math.abs(t)<s.EPSILON&&(t=0),0===t?n+e:(0!==e?(n+=e,n+=" ",t<0?(t=-t,n+="-"):n+="+",n+=" "):t<0&&(t=-t,n+="-"),1!==t&&(n+=t),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,Kc.exports=s}();var nl=Bo(tl.exports),rl=gu("Complex",[],(()=>(nl.prototype.type="Complex",nl.prototype.isComplex=!0,nl.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},nl.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},nl.prototype.format=function(e){var t=this.im,n=this.re,r=Uo(this.re,e),i=Uo(this.im,e),s=La(e)?e:e?e.precision:null;if(null!==s){var a=Math.pow(10,-s);Math.abs(n/t)<a&&(n=0),Math.abs(t/n)<a&&(t=0)}return 0===t?r:0===n?1===t?"i":-1===t?"-i":i+"i":t<0?-1===t?r+" - i":r+" - "+i.substring(1)+"i":1===t?r+" + i":r+" + "+i+"i"},nl.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"==typeof t)return nl(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(La(n)){if(ja(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),La(r))return new nl({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},nl.prototype.valueOf=nl.prototype.toString,nl.fromJSON=function(e){return new nl(e)},nl.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},nl)),{isClass:!0}),il={exports:{}};
/**
 * @license Fraction.js v4.1.1 23/05/2021
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/!function(e,t){!function(t){var n={s:1,n:0,d:1};function r(e){function t(){var t=Error.apply(this,arguments);t.name=this.name=e,this.stack=t.stack,this.message=t.message}function n(){}return n.prototype=Error.prototype,t.prototype=new n,t}var i=h.DivisionByZero=r("DivisionByZero"),s=h.InvalidParameter=r("InvalidParameter");function a(e,t){return isNaN(e=parseInt(e,10))&&o(),e*t}function o(){throw new s}function u(e){for(var t={},n=e,r=2,i=4;i<=n;){for(;n%r==0;)n/=r,t[r]=(t[r]||0)+1;i+=1+2*r++}return n!==e?n>1&&(t[n]=(t[n]||0)+1):t[e]=(t[e]||0)+1,t}var c=function(e,t){var r,s=0,u=1,c=1,l=0,h=0,p=0,f=1,d=1,m=0,g=1,v=1,y=1,w=1e7;if(null==e);else if(void 0!==t)c=(s=e)*(u=t);else switch(typeof e){case"object":"d"in e&&"n"in e?(s=e.n,u=e.d,"s"in e&&(s*=e.s)):0 in e?(s=e[0],1 in e&&(u=e[1])):o(),c=s*u;break;case"number":if(e<0&&(c=e,e=-e),e%1==0)s=e;else if(e>0){for(e>=1&&(e/=d=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));g<=w&&y<=w;){if(e===(r=(m+v)/(g+y))){g+y<=w?(s=m+v,u=g+y):y>g?(s=v,u=y):(s=m,u=g);break}e>r?(m+=v,g+=y):(v+=m,y+=g),g>w?(s=v,u=y):(s=m,u=g)}s*=d}else(isNaN(e)||isNaN(t))&&(u=s=NaN);break;case"string":if(null===(g=e.match(/\d+|./g))&&o(),"-"===g[m]?(c=-1,m++):"+"===g[m]&&m++,g.length===m+1?h=a(g[m++],c):"."===g[m+1]||"."===g[m]?("."!==g[m]&&(l=a(g[m++],c)),(1+ ++m===g.length||"("===g[m+1]&&")"===g[m+3]||"'"===g[m+1]&&"'"===g[m+3])&&(h=a(g[m],c),f=Math.pow(10,g[m].length),m++),("("===g[m]&&")"===g[m+2]||"'"===g[m]&&"'"===g[m+2])&&(p=a(g[m+1],c),d=Math.pow(10,g[m+1].length)-1,m+=3)):"/"===g[m+1]||":"===g[m+1]?(h=a(g[m],c),f=a(g[m+2],1),m+=3):"/"===g[m+3]&&" "===g[m+1]&&(l=a(g[m],c),h=a(g[m+2],c),f=a(g[m+4],1),m+=5),g.length<=m){c=s=p+(u=f*d)*l+d*h;break}default:o()}if(0===u)throw new i;n.s=c<0?-1:1,n.n=Math.abs(s),n.d=Math.abs(u)};function l(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function h(e,t){if(!(this instanceof h))return new h(e,t);c(e,t),e=h.REDUCE?l(n.d,n.n):1,this.s=n.s,this.n=n.n/e,this.d=n.d/e}h.REDUCE=1,h.prototype={s:1,n:0,d:1,abs:function(){return new h(this.n,this.d)},neg:function(){return new h(-this.s*this.n,this.d)},add:function(e,t){return c(e,t),new h(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(e,t){return c(e,t),new h(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(e,t){return c(e,t),new h(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(e,t){return c(e,t),new h(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return new h(this)},mod:function(e,t){return isNaN(this.n)||isNaN(this.d)?new h(NaN):void 0===e?new h(this.s*this.n%this.d,1):(c(e,t),0===n.n&&0===this.d&&h(0,0),new h(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d))},gcd:function(e,t){return c(e,t),new h(l(n.n,this.n)*l(n.d,this.d),n.d*this.d)},lcm:function(e,t){return c(e,t),0===n.n&&0===this.n?new h:new h(n.n*this.n,l(n.n,this.n)*l(n.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return new h(this.s*this.d,this.n)},pow:function(e,t){if(c(e,t),1===n.d)return n.s<0?new h(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):new h(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var r=u(this.n),i=u(this.d),s=1,a=1;for(var o in r)if("1"!==o){if("0"===o){s=0;break}if(r[o]*=n.n,r[o]%n.d!=0)return null;r[o]/=n.d,s*=Math.pow(o,r[o])}for(var o in i)if("1"!==o){if(i[o]*=n.n,i[o]%n.d!=0)return null;i[o]/=n.d,a*=Math.pow(o,i[o])}return n.s<0?new h(a,s):new h(s,a)},equals:function(e,t){return c(e,t),this.s*this.n*n.d==n.s*n.n*this.d},compare:function(e,t){c(e,t);var r=this.s*this.n*n.d-n.s*n.n*this.d;return(0<r)-(r<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;var t=this.abs().toContinued();function n(e){return 1===e.length?new h(e[0]):n(e.slice(1)).inverse().add(e[0])}e=e||.001;for(var r=0;r<t.length;r++){var i=n(t.slice(0,r+1));if(i.sub(this.abs()).abs().valueOf()<e)return i.mul(this.s)}return this},divisible:function(e,t){return c(e,t),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var e,t=this.n,n=this.d,r=[];if(isNaN(t)||isNaN(n))return r;do{r.push(Math.floor(t/n)),e=t%n,t=n,n=e}while(1!==t);return r},toString:function(e){var t,n=this.n,r=this.d;if(isNaN(n)||isNaN(r))return"NaN";h.REDUCE||(n/=t=l(n,r),r/=t),e=e||15;var i=function(e,t){for(;t%2==0;t/=2);for(;t%5==0;t/=5);if(1===t)return 0;for(var n=10%t,r=1;1!==n;r++)if(n=10*n%t,r>2e3)return 0;return r}(0,r),s=function(e,t,n){for(var r=1,i=function(e,t,n){for(var r=1;t>0;e=e*e%n,t>>=1)1&t&&(r=r*e%n);return r}(10,n,t),s=0;s<300;s++){if(r===i)return s;r=10*r%t,i=10*i%t}return 0}(0,r,i),a=-1===this.s?"-":"";if(a+=n/r|0,n%=r,(n*=10)&&(a+="."),i){for(var o=s;o--;)a+=n/r|0,n%=r,n*=10;for(a+="(",o=i;o--;)a+=n/r|0,n%=r,n*=10;a+=")"}else for(o=e;n&&o--;)a+=n/r|0,n%=r,n*=10;return a}},Object.defineProperty(h,"__esModule",{value:!0}),h.default=h,h.Fraction=h,e.exports=h}()}(il);var sl=Bo(il.exports),al=gu("Fraction",[],(()=>(sl.prototype.type="Fraction",sl.prototype.isFraction=!0,sl.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},sl.fromJSON=function(e){return new sl(e)},sl)),{isClass:!0}),ol=gu("Range",[],(()=>{function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=t,s=null!=n,a=null!=r;if(i)if(Ba(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(s)if(Ba(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter end must be a number");if(a)if(Ba(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(t):0,this.end=s?parseFloat(n):0,this.step=a?parseFloat(r):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if("string"!=typeof t)return null;var n=t.split(":").map((function(e){return parseFloat(e)}));if(n.some((function(e){return isNaN(e)})))return null;switch(n.length){case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[2],n[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var e=0,t=this.start,n=this.step,r=this.end-t;return jo(n)===jo(r)?e=Math.ceil(r/n):0===r&&(e=0),isNaN(e)&&(e=0),[e]},e.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},e.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},e.prototype.forEach=function(e){var t=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;t<r;)e(t,[i],this),t+=n,i++;else if(n<0)for(;t>r;)e(t,[i],this),t+=n,i++},e.prototype.map=function(e){var t=[];return this.forEach((function(n,r,i){t[r[0]]=e(n,r,i)})),t},e.prototype.toArray=function(){var e=[];return this.forEach((function(t,n){e[n[0]]=t})),e},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(e){var t=Uo(this.start,e);return 1!==this.step&&(t+=":"+Uo(this.step,e)),t+":"+Uo(this.end,e)},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(t){return new e(t.start,t.end,t.step)},e}),{isClass:!0}),ul=gu("Matrix",[],(()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e}),{isClass:!0}),cl=gu("DenseMatrix",["Matrix"],(e=>{var{Matrix:t}=e;function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!Ua(t))throw new Error("Invalid datatype: "+t);if(Va(e))"DenseMatrix"===e.type?(this._data=_o(e._data),this._size=_o(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&qa(e.data)&&qa(e.size))this._data=e.data,this._size=e.size,su(this._data,this._size),this._datatype=t||e.datatype;else if(qa(e))this._data=c(e),this._size=ru(this._data),su(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+xo(e)+")");this._data=[],this._size=[0],this._datatype=t}}function r(e,t){if(!Ya(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var r=t.size();if(r.length!==e._size.length)throw new tu(r.length,e._size.length);for(var s=t.min(),a=t.max(),o=0,u=e._size.length;o<u;o++)au(s[o],e._size[o]),au(a[o],e._size[o]);return new n(i(e._data,t,r.length,0),e._datatype)}function i(e,t,n,r){var s=r===n-1,a=t.dimension(r);return s?a.map((function(t){return au(t,e.length),e[t]})).valueOf():a.map((function(s){return au(s,e.length),i(e[s],t,n,r+1)})).valueOf()}function s(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,s=t.size(),o=t.isScalar();if(Va(n)?(i=n.size(),n=n.valueOf()):i=ru(n),o){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(s.length<e._size.length)throw new tu(s.length,e._size.length,"<");if(i.length<s.length){for(var c=0,l=0;1===s[c]&&1===i[c];)c++;for(;1===s[c];)l++,c++;n=cu(n,s.length,l,i)}if(!So(s,i))throw new tu(s,i,">");u(e,t.max().map((function(e){return e+1})),r);var h=s.length;a(e._data,t,n,h,0)}return e}function a(e,t,n,r,i){var s=i===r-1,o=t.dimension(i);s?o.forEach((function(t,r){au(t),e[t]=n[r[0]]})):o.forEach((function(s,o){au(s),a(e[s],t,n[o[0]],r,i+1)}))}function o(e,t,n){if(0===t.length){for(var r=e._data;qa(r);)r=r[0];return r}return e._size=t.slice(0),e._data=ou(e._data,e._size,n),e}function u(e,t,n){for(var r=e._size.slice(0),i=!1;r.length<t.length;)r.push(0),i=!0;for(var s=0,a=t.length;s<a;s++)t[s]>r[s]&&(r[s]=t[s],i=!0);i&&o(e,r,n)}function c(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];qa(r)?e[t]=c(r):r&&!0===r.isMatrix&&(e[t]=c(r.valueOf()))}return e}return n.prototype=new t,n.prototype.createDenseMatrix=function(e,t){return new n(e,t)},n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return du(this._data,xo)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(e,t){return new n(e,t)},n.prototype.subset=function(e,t,n){switch(arguments.length){case 1:return r(this,e);case 2:case 3:return s(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(e){if(!qa(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new tu(e.length,this._size.length);for(var t=0;t<e.length;t++)au(e[t],this._size[t]);for(var n=this._data,r=0,i=e.length;r<i;r++){var s=e[r];au(s,n.length),n=n[s]}return n},n.prototype.set=function(e,t,n){if(!qa(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new tu(e.length,this._size.length,"<");var r,i,s;u(this,e.map((function(e){return e+1})),n);var a=this._data;for(r=0,i=e.length-1;r<i;r++)au(s=e[r],a.length),a=a[s];return au(s=e[e.length-1],a.length),a[s]=t,this},n.prototype.resize=function(e,t,n){if(!Ha(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map((e=>Array.isArray(e)&&1===e.length?e[0]:e));return o(n?this.clone():this,r,t)},n.prototype.reshape=function(e,t){var n=t?this.clone():this;return n._data=function(e,t){var n,r=function(e){if(!Array.isArray(e))return e;var t=[];return e.forEach((function e(n){Array.isArray(n)?n.forEach(e):t.push(n)})),t}(e);function i(e){return e.reduce(((e,t)=>e*t))}if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new tu(0,i(ru(e)),"!=");for(var s=1,a=0;a<t.length;a++)s*=t[a];if(r.length!==s)throw new tu(i(t),i(ru(e)),"!=");try{n=function(e,t){for(var n,r=e,i=t.length-1;i>0;i--){var s=t[i];n=[];for(var a=r.length/s,o=0;o<a;o++)n.push(r.slice(o*s,(o+1)*s));r=n}return r}(r,t)}catch(n){if(n instanceof tu)throw new tu(i(t),i(ru(e)),"!=");throw n}return n}(n._data,e),n._size=e.slice(0),n},n.prototype.clone=function(){return new n({data:_o(this._data),size:_o(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(e){var t=this,r=function n(r,i){return qa(r)?r.map((function(e,t){return n(e,i.concat(t))})):e(r,i,t)}(this._data,[]);return new n(r,void 0!==this._datatype?du(r,xo):void 0)},n.prototype.forEach=function(e){var t=this;!function n(r,i){qa(r)?r.forEach((function(e,t){n(e,i.concat(t))})):e(r,i,t)}(this._data,[])},n.prototype.toArray=function(){return _o(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(e){return Jo(this._data,e)},n.prototype.toString=function(){return Jo(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(e){if(e){if(Ba(e)&&(e=e.toNumber()),!La(e)||!Fo(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,r=e<0?-e:0,i=this._size[0],s=this._size[1],a=Math.min(i-r,s-t),o=[],u=0;u<a;u++)o[u]=this._data[u+r][u+t];return new n({data:o,size:[a],datatype:this._datatype})},n.diagonal=function(e,t,r,i){if(!qa(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(Ba(e)&&(e=e.toNumber()),!La(e)||!Fo(e)||e<1)throw new Error("Size values must be positive integers");return e})),r){if(Ba(r)&&(r=r.toNumber()),!La(r)||!Fo(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var s,a=r>0?r:0,o=r<0?-r:0,u=e[0],c=e[1],l=Math.min(u-o,c-a);if(qa(t)){if(t.length!==l)throw new Error("Invalid value array length");s=function(e){return t[e]}}else if(Va(t)){var h=t.size();if(1!==h.length||h[0]!==l)throw new Error("Invalid matrix length");s=function(e){return t.get([e])}}else s=function(){return t};i||(i=Ba(s(0))?s(0).mul(0):0);var p=[];if(e.length>0){p=ou(p,e,i);for(var f=0;f<l;f++)p[f+o][f+a]=s(f)}return new n({data:p,size:[u,c]})},n.fromJSON=function(e){return new n(e)},n.prototype.swapRows=function(e,t){if(!(La(e)&&Fo(e)&&La(t)&&Fo(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return au(e,this._size[0]),au(t,this._size[0]),n._swapRows(e,t,this._data),this},n._swapRows=function(e,t,n){var r=n[e];n[e]=n[t],n[t]=r},n}),{isClass:!0});function ll(e,t,n){return e&&"function"==typeof e.map?e.map((function(e){return ll(e,t)})):t(e)}var hl="number",pl="number, number";function fl(e){return Math.abs(e)}function dl(e,t){return e+t}function ml(e,t){return e*t}function gl(e){return-e}function vl(e){return Math.ceil(e)}function yl(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")}function wl(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function bl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(Vo(e,t))}fl.signature=hl,dl.signature=pl,ml.signature=pl,gl.signature=hl,vl.signature=hl,yl.signature=pl,wl.signature=pl,bl.signature=pl;var xl=gu("isNumeric",["typed"],(e=>{var{typed:t}=e;return t("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(e){return ll(e,this)}})}));function _l(e,t,n){if(null==n)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return r.lte(i.times(n))}return!1}var Ml="equalScalar",El=gu(Ml,["typed","config"],(e=>{var{typed:t,config:n}=e;return t(Ml,{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return Yo(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||_l(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return function(e,t,n){return Yo(e.re,t.re,n)&&Yo(e.im,t.im,n)}(e,t,n.epsilon)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)}})}));gu(Ml,["typed","config"],(e=>{var{typed:t,config:n}=e;return t(Ml,{"number, number":function(e,t){return Yo(e,t,n.epsilon)}})}));var Nl=gu("SparseMatrix",["typed","equalScalar","Matrix"],(e=>{var{typed:t,equalScalar:n,Matrix:r}=e;function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!Ua(t))throw new Error("Invalid datatype: "+t);if(Va(e))!function(e,t,n){"SparseMatrix"===t.type?(e._values=t._values?_o(t._values):void 0,e._index=_o(t._index),e._ptr=_o(t._ptr),e._size=_o(t._size),e._datatype=n||t._datatype):s(e,t.valueOf(),n||t._datatype)}(this,e,t);else if(e&&qa(e.index)&&qa(e.ptr)&&qa(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(qa(e))s(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+xo(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}function s(e,r,i){e._values=[],e._index=[],e._ptr=[],e._datatype=i;var s=r.length,a=0,o=n,u=0;if(Ua(i)&&(o=t.find(n,[i,i])||n,u=t.convert(0,i)),s>0){var c=0;do{e._ptr.push(e._index.length);for(var l=0;l<s;l++){var h=r[l];if(qa(h)){if(0===c&&a<h.length&&(a=h.length),c<h.length){var p=h[c];o(p,u)||(e._values.push(p),e._index.push(l))}}else 0===c&&a<1&&(a=1),o(h,u)||(e._values.push(h),e._index.push(l))}c++}while(c<a)}e._ptr.push(e._index.length),e._size=[s,a]}function a(e,t){if(!Ya(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n,r,s,a,o=t.size();if(o.length!==e._size.length)throw new tu(o.length,e._size.length);var u=t.min(),c=t.max();for(n=0,r=e._size.length;n<r;n++)au(u[n],e._size[n]),au(c[n],e._size[n]);var l=e._values,h=e._index,p=e._ptr,f=t.dimension(0),d=t.dimension(1),m=[],g=[];f.forEach((function(e,t){g[e]=t[0],m[e]=!0}));var v=l?[]:void 0,y=[],w=[];return d.forEach((function(e){for(w.push(y.length),s=p[e],a=p[e+1];s<a;s++)n=h[s],!0===m[n]&&(y.push(g[n]),v&&v.push(l[s]))})),w.push(y.length),new i({values:v,index:y,ptr:w,size:o,datatype:e._datatype})}function o(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,s=t.size(),a=t.isScalar();if(Va(n)?(i=n.size(),n=n.toArray()):i=ru(n),a){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(1!==s.length&&2!==s.length)throw new tu(s.length,e._size.length,"<");if(i.length<s.length){for(var o=0,u=0;1===s[o]&&1===i[o];)o++;for(;1===s[o];)u++,o++;n=cu(n,s.length,u,i)}if(!So(s,i))throw new tu(s,i,">");for(var c=t.min()[0],l=t.min()[1],h=i[0],p=i[1],f=0;f<h;f++)for(var d=0;d<p;d++){var m=n[f][d];e.set([f+c,d+l],m,r)}}return e}function u(e,t,n,r){if(n-t==0)return n;for(var i=t;i<n;i++)if(r[i]===e)return i;return t}function c(e,t,n,r,i,s,a){i.splice(e,0,r),s.splice(e,0,t);for(var o=n+1;o<a.length;o++)a[o]++}function l(e,r,i,s){var a=s||0,o=n,u=0;Ua(e._datatype)&&(o=t.find(n,[e._datatype,e._datatype])||n,u=t.convert(0,e._datatype),a=t.convert(a,e._datatype));var c,l,h,p=!o(a,u),f=e._size[0],d=e._size[1];if(i>d){for(l=d;l<i;l++)if(e._ptr[l]=e._values.length,p)for(c=0;c<f;c++)e._values.push(a),e._index.push(c);e._ptr[i]=e._values.length}else i<d&&(e._ptr.splice(i+1,d-i),e._values.splice(e._ptr[i],e._values.length),e._index.splice(e._ptr[i],e._index.length));if(d=i,r>f){if(p){var m=0;for(l=0;l<d;l++){e._ptr[l]=e._ptr[l]+m,h=e._ptr[l+1]+m;var g=0;for(c=f;c<r;c++,g++)e._values.splice(h+g,0,a),e._index.splice(h+g,0,c),m++}e._ptr[d]=e._values.length}}else if(r<f){var v=0;for(l=0;l<d;l++){e._ptr[l]=e._ptr[l]-v;var y=e._ptr[l],w=e._ptr[l+1]-v;for(h=y;h<w;h++)(c=e._index[h])>r-1&&(e._values.splice(h,1),e._index.splice(h,1),v++)}e._ptr[l]=e._values.length}return e._size[0]=r,e._size[1]=i,e}function h(e,t,n,r,i){var s,a,o=r[0],u=r[1],c=[];for(s=0;s<o;s++)for(c[s]=[],a=0;a<u;a++)c[s][a]=0;for(a=0;a<u;a++)for(var l=n[a],h=n[a+1],p=l;p<h;p++)c[s=t[p]][a]=e?i?_o(e[p]):e[p]:1;return c}return i.prototype=new r,i.prototype.createSparseMatrix=function(e,t){return new i(e,t)},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return du(this._values,xo)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(e,t){return new i(e,t)},i.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},i.prototype.subset=function(e,t,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,e);case 2:case 3:return o(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(e){if(!qa(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new tu(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],n=e[1];au(t,this._size[0]),au(n,this._size[1]);var r=u(t,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===t?this._values[r]:0},i.prototype.set=function(e,r,i){if(!qa(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new tu(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var s=e[0],a=e[1],o=this._size[0],h=this._size[1],p=n,f=0;Ua(this._datatype)&&(p=t.find(n,[this._datatype,this._datatype])||n,f=t.convert(0,this._datatype)),(s>o-1||a>h-1)&&(l(this,Math.max(s+1,o),Math.max(a+1,h),i),o=this._size[0],h=this._size[1]),au(s,o),au(a,h);var d=u(s,this._ptr[a],this._ptr[a+1],this._index);return d<this._ptr[a+1]&&this._index[d]===s?p(r,f)?function(e,t,n,r,i){n.splice(e,1),r.splice(e,1);for(var s=t+1;s<i.length;s++)i[s]--}(d,a,this._values,this._index,this._ptr):this._values[d]=r:c(d,s,a,r,this._values,this._index,this._ptr),this},i.prototype.resize=function(e,t,n){if(!Ha(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map((e=>Array.isArray(e)&&1===e.length?e[0]:e));if(2!==r.length)throw new Error("Only two dimensions matrix are supported");return r.forEach((function(e){if(!La(e)||!Fo(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Jo(r)+")")})),l(n?this.clone():this,r[0],r[1],t)},i.prototype.reshape=function(e,t){if(!qa(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(e.forEach((function(t){if(!La(t)||!Fo(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Jo(e)+")")})),this._size[0]*this._size[1]!=e[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return n;for(var r=[],i=0;i<n._ptr.length;i++)for(var s=0;s<n._ptr[i+1]-n._ptr[i];s++)r.push(i);for(var a=n._values.slice(),o=n._index.slice(),l=0;l<n._index.length;l++){var h=o[l],p=r[l],f=h*n._size[1]+p;r[l]=f%e[1],o[l]=Math.floor(f/e[1])}n._values.length=0,n._index.length=0,n._ptr.length=e[1]+1,n._size=e.slice();for(var d=0;d<n._ptr.length;d++)n._ptr[d]=0;for(var m=0;m<a.length;m++){var g=o[m],v=r[m],y=a[m];c(u(g,n._ptr[v],n._ptr[v+1],n._index),g,v,y,n._values,n._index,n._ptr)}return n},i.prototype.clone=function(){return new i({values:this._values?_o(this._values):void 0,index:_o(this._index),ptr:_o(this._ptr),size:_o(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(e,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var s=this;return function(e,r,s,a,o,u,c){var l=[],h=[],p=[],f=n,d=0;Ua(e._datatype)&&(f=t.find(n,[e._datatype,e._datatype])||n,d=t.convert(0,e._datatype));for(var m=function(e,t,n){e=u(e,t,n),f(e,d)||(l.push(e),h.push(t))},g=0;g<=o;g++){p.push(l.length);var v=e._ptr[g],y=e._ptr[g+1];if(c)for(var w=v;w<y;w++){var b=e._index[w];b>=0&&b<=s&&m(e._values[w],b-0,g-0)}else{for(var x={},_=v;_<y;_++)x[e._index[_]]=e._values[_];for(var M=0;M<=s;M++)m(M in x?x[M]:0,M-0,g-0)}}return p.push(l.length),new i({values:l,index:h,ptr:p,size:[s-0+1,o-0+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(t,n,r){return e(t,[n,r],s)}),r)},i.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){var s=this._ptr[i],a=this._ptr[i+1];if(t)for(var o=s;o<a;o++){var u=this._index[o];e(this._values[o],[u,i],this)}else{for(var c={},l=s;l<a;l++)c[this._index[l]]=this._values[l];for(var h=0;h<n;h++)e(h in c?c[h]:0,[h,i],this)}}},i.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(e){for(var t=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+Jo(t,e)+" x "+Jo(n,e)+"] density: "+Jo(r,e)+"\n",s=0;s<n;s++)for(var a=this._ptr[s],o=this._ptr[s+1],u=a;u<o;u++)i+="\n    ("+Jo(this._index[u],e)+", "+Jo(s,e)+") ==> "+(this._values?Jo(this._values[u],e):"X");return i},i.prototype.toString=function(){return Jo(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(e){if(e){if(Ba(e)&&(e=e.toNumber()),!La(e)||!Fo(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,n=e<0?-e:0,r=this._size[0],s=this._size[1],a=Math.min(r-n,s-t),o=[],u=[],c=[];c[0]=0;for(var l=t;l<s&&o.length<a;l++)for(var h=this._ptr[l],p=this._ptr[l+1],f=h;f<p;f++){var d=this._index[f];if(d===l-t+n){o.push(this._values[f]),u[o.length-1]=d-n;break}}return c.push(o.length),new i({values:o,index:u,ptr:c,size:[a,1]})},i.fromJSON=function(e){return new i(e)},i.diagonal=function(e,r,s,a,o){if(!qa(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(Ba(e)&&(e=e.toNumber()),!La(e)||!Fo(e)||e<1)throw new Error("Size values must be positive integers");return e})),s){if(Ba(s)&&(s=s.toNumber()),!La(s)||!Fo(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var u=n,c=0;Ua(o)&&(u=t.find(n,[o,o])||n,c=t.convert(0,o));var l,h=s>0?s:0,p=s<0?-s:0,f=e[0],d=e[1],m=Math.min(f-p,d-h);if(qa(r)){if(r.length!==m)throw new Error("Invalid value array length");l=function(e){return r[e]}}else if(Va(r)){var g=r.size();if(1!==g.length||g[0]!==m)throw new Error("Invalid matrix length");l=function(e){return r.get([e])}}else l=function(){return r};for(var v=[],y=[],w=[],b=0;b<d;b++){w.push(v.length);var x=b-h;if(x>=0&&x<m){var _=l(x);u(_,c)||(y.push(x+p),v.push(_))}}return w.push(v.length),new i({values:v,index:y,ptr:w,size:[f,d]})},i.prototype.swapRows=function(e,t){if(!(La(e)&&Fo(e)&&La(t)&&Fo(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return au(e,this._size[0]),au(t,this._size[0]),i._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(e,t,n,r,i){for(var s=r[e],a=r[e+1],o=s;o<a;o++)i(n[o],t[o])},i._swapRows=function(e,t,n,r,i,s){for(var a=0;a<n;a++){var o=s[a],c=s[a+1],l=u(e,o,c,i),h=u(t,o,c,i);if(l<c&&h<c&&i[l]===e&&i[h]===t){if(r){var p=r[l];r[l]=r[h],r[h]=p}}else if(l<c&&i[l]===e&&(h>=c||i[h]!==t)){var f=r?r[l]:void 0;i.splice(h,0,t),r&&r.splice(h,0,f),i.splice(h<=l?l+1:l,1),r&&r.splice(h<=l?l+1:l,1)}else if(h<c&&i[h]===t&&(l>=c||i[l]!==e)){var d=r?r[h]:void 0;i.splice(l,0,e),r&&r.splice(l,0,d),i.splice(l<=h?h+1:h,1),r&&r.splice(l<=h?h+1:h,1)}}},i}),{isClass:!0}),Sl=gu("number",["typed"],(e=>{var{typed:t}=e,n=t("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');if(["0b","0o","0x"].includes(e.substring(0,2))){if(t>2**32-1)throw new SyntaxError('String "'.concat(e,'" is out of range'));2147483648&t&&(t=-1*~(t-1))}return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return ll(e,this)}});return n.fromJSON=function(e){return parseFloat(e.value)},n})),Tl=gu("bignumber",["typed","BigNumber"],(e=>{var{typed:t,BigNumber:n}=e;return t("bignumber",{"":function(){return new n(0)},number:function(e){return new n(e+"")},string:function(e){return new n(e)},BigNumber:function(e){return e},Fraction:function(e){return new n(e.n).div(e.d).times(e.s)},null:function(e){return new n(0)},"Array | Matrix":function(e){return ll(e,this)}})})),Ol=gu("fraction",["typed","Fraction"],(e=>{var{typed:t,Fraction:n}=e;return t("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new n(e)},string:function(e){return new n(e)},"number, number":function(e,t){return new n(e,t)},null:function(e){return new n(0)},BigNumber:function(e){return new n(e.toString())},Fraction:function(e){return e},Object:function(e){return new n(e)},"Array | Matrix":function(e){return ll(e,this)}})})),Cl=gu("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(e=>{var{typed:t,Matrix:n,DenseMatrix:r,SparseMatrix:i}=e;return t("matrix",{"":function(){return s([])},string:function(e){return s([],e)},"string, string":function(e,t){return s([],e,t)},Array:function(e){return s(e)},Matrix:function(e){return s(e,e.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(e,t,n){if("dense"===t||"default"===t||void 0===t)return new r(e,n);if("sparse"===t)return new i(e,n);throw new TypeError("Unknown matrix type "+JSON.stringify(t)+".")}})),Al=gu("unaryMinus",["typed"],(e=>{var{typed:t}=e;return t("unaryMinus",{number:gl,Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var t=e.clone();return t.value=this(e.value),t},"Array | Matrix":function(e){return ll(e,this)}})})),Rl=gu("abs",["typed"],(e=>{var{typed:t}=e;return t("abs",{number:fl,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return ll(e,this)},Unit:function(e){return e.abs()}})})),kl=gu("addScalar",["typed"],(e=>{var{typed:t}=e;return t("addScalar",{"number, number":dl,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,t){if(null===e.value||void 0===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value||void 0===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=this(n.value,t.value),n.fixPrefix=!1,n}})})),zl=gu("algorithm11",["typed","equalScalar"],(e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i,s){var a=e._values,o=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,p=c[0],f=c[1],d=n,m=0,g=i;"string"==typeof l&&(h=l,d=t.find(n,[h,h]),m=t.convert(0,h),r=t.convert(r,h),g=t.find(i,[h,h]));for(var v=[],y=[],w=[],b=0;b<f;b++){w[b]=y.length;for(var x=u[b],_=u[b+1],M=x;M<_;M++){var E=o[M],N=s?g(r,a[M]):g(a[M],r);d(N,m)||(y.push(E),v.push(N))}}return w[f]=y.length,e.createSparseMatrix({values:v,index:y,ptr:w,size:[p,f],datatype:h})}})),Dl=gu("algorithm14",["typed"],(e=>{var{typed:t}=e;return function(e,r,i,s){var a,o=e._data,u=e._size,c=e._datatype,l=i;"string"==typeof c&&(a=c,r=t.convert(r,a),l=t.find(i,[a,a]));var h=u.length>0?n(l,0,u,u[0],o,r,s):[];return e.createDenseMatrix({data:h,size:_o(u),datatype:a})};function n(e,t,r,i,s,a,o){var u=[];if(t===r.length-1)for(var c=0;c<i;c++)u[c]=o?e(a,s[c]):e(s[c],a);else for(var l=0;l<i;l++)u[l]=n(e,t+1,r,r[t+1],s[l],a,o);return u}})),Il=gu("ceil",["typed","config","round","matrix","equalScalar"],(e=>{var{typed:t,config:n,round:r,matrix:i,equalScalar:s}=e,a=zl({typed:t,equalScalar:s}),o=Dl({typed:t});return t("ceil",{number:function(e){return Yo(e,r(e),n.epsilon)?r(e):vl(e)},"number, number":function(e,t){if(Yo(e,r(e,t),n.epsilon))return r(e,t);var[i,s]="".concat(e,"e").split("e"),a=Math.ceil(Number("".concat(i,"e").concat(Number(s)+t)));return[i,s]="".concat(a,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-t))},Complex:function(e){return e.ceil()},"Complex, number":function(e,t){return e.ceil(t)},BigNumber:function(e){return _l(e,r(e),n.epsilon)?r(e):e.ceil()},"BigNumber, BigNumber":function(e,t){return _l(e,r(e,t),n.epsilon)?r(e,t):e.toDecimalPlaces(t.toNumber(),Qc.ROUND_CEIL)},Fraction:function(e){return e.ceil()},"Fraction, number":function(e,t){return e.ceil(t)},"Array | Matrix":function(e){return ll(e,this)},"Array | Matrix, number":function(e,t){return ll(e,(e=>this(e,t)))},"SparseMatrix, number | BigNumber":function(e,t){return a(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return o(e,t,this,!1)},"number | Complex | BigNumber, Array":function(e,t){return o(i(t),e,this,!0).valueOf()}})})),Ll=gu("fix",["typed","Complex","matrix","ceil","floor"],(e=>{var{typed:t,Complex:n,matrix:r,ceil:i,floor:s}=e,a=Dl({typed:t});return t("fix",{number:function(e){return e>0?s(e):i(e)},"number, number | BigNumber":function(e,t){return e>0?s(e,t):i(e,t)},Complex:function(e){return new n(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},"Complex, number | BigNumber":function(e,t){return new n(e.re>0?s(e.re,t):i(e.re,t),e.im>0?s(e.im,t):i(e.im,t))},BigNumber:function(e){return e.isNegative()?i(e):s(e)},"BigNumber, number | BigNumber":function(e,t){return e.isNegative()?i(e,t):s(e,t)},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Fraction, number | BigNumber":function(e,t){return e.s<0?e.ceil(t):e.floor(t)},"Array | Matrix":function(e){return ll(e,this)},"Array | Matrix, number | BigNumber":function(e,t){return ll(e,(e=>this(e,t)))},"number | Complex | BigNumber, Array":function(e,t){return a(r(t),e,this,!0).valueOf()}})})),Bl=gu("floor",["typed","config","round","matrix","equalScalar"],(e=>{var{typed:t,config:n,round:r,matrix:i,equalScalar:s}=e,a=zl({typed:t,equalScalar:s}),o=Dl({typed:t});return t("floor",{number:function(e){return Yo(e,r(e),n.epsilon)?r(e):Math.floor(e)},"number, number":function(e,t){if(Yo(e,r(e,t),n.epsilon))return r(e,t);var[i,s]="".concat(e,"e").split("e"),a=Math.floor(Number("".concat(i,"e").concat(Number(s)+t)));return[i,s]="".concat(a,"e").split("e"),Number("".concat(i,"e").concat(Number(s)-t))},Complex:function(e){return e.floor()},"Complex, number":function(e,t){return e.floor(t)},BigNumber:function(e){return _l(e,r(e),n.epsilon)?r(e):e.floor()},"BigNumber, BigNumber":function(e,t){return _l(e,r(e,t),n.epsilon)?r(e,t):e.toDecimalPlaces(t.toNumber(),Qc.ROUND_FLOOR)},Fraction:function(e){return e.floor()},"Fraction, number":function(e,t){return e.floor(t)},"Array | Matrix":function(e){return ll(e,this)},"Array | Matrix, number":function(e,t){return ll(e,(e=>this(e,t)))},"SparseMatrix, number | BigNumber":function(e,t){return a(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return o(e,t,this,!1)},"number | Complex | BigNumber, Array":function(e,t){return o(i(t),e,this,!0).valueOf()}})})),Pl=gu("algorithm01",["typed"],(e=>{var{typed:t}=e;return function(e,n,r,i){var s=e._data,a=e._size,o=e._datatype,u=n._values,c=n._index,l=n._ptr,h=n._size,p=n._datatype;if(a.length!==h.length)throw new tu(a.length,h.length);if(a[0]!==h[0]||a[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,d,m=a[0],g=a[1],v="string"==typeof o&&o===p?o:void 0,y=v?t.find(r,[v,v]):r,w=[];for(f=0;f<m;f++)w[f]=[];var b=[],x=[];for(d=0;d<g;d++){for(var _=d+1,M=l[d],E=l[d+1],N=M;N<E;N++)b[f=c[N]]=i?y(u[N],s[f][d]):y(s[f][d],u[N]),x[f]=_;for(f=0;f<m;f++)x[f]===_?w[f][d]=b[f]:w[f][d]=s[f][d]}return e.createDenseMatrix({data:w,size:[m,g],datatype:v})}})),Fl=gu("algorithm04",["typed","equalScalar"],(e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i){var s=e._values,a=e._index,o=e._ptr,u=e._size,c=e._datatype,l=r._values,h=r._index,p=r._ptr,f=r._size,d=r._datatype;if(u.length!==f.length)throw new tu(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,g=u[0],v=u[1],y=n,w=0,b=i;"string"==typeof c&&c===d&&(m=c,y=t.find(n,[m,m]),w=t.convert(0,m),b=t.find(i,[m,m]));var x,_,M,E,N,S=s&&l?[]:void 0,T=[],O=[],C=s&&l?[]:void 0,A=s&&l?[]:void 0,R=[],k=[];for(_=0;_<v;_++){O[_]=T.length;var z=_+1;for(E=o[_],N=o[_+1],M=E;M<N;M++)x=a[M],T.push(x),R[x]=z,C&&(C[x]=s[M]);for(E=p[_],N=p[_+1],M=E;M<N;M++)if(R[x=h[M]]===z){if(C){var D=b(C[x],l[M]);y(D,w)?R[x]=null:C[x]=D}}else T.push(x),k[x]=z,A&&(A[x]=l[M]);if(C&&A)for(M=O[_];M<T.length;)R[x=T[M]]===z?(S[M]=C[x],M++):k[x]===z?(S[M]=A[x],M++):T.splice(M,1)}return O[v]=T.length,e.createSparseMatrix({values:S,index:T,ptr:O,size:[g,v],datatype:m})}})),jl=gu("algorithm10",["typed","DenseMatrix"],(e=>{var{typed:t,DenseMatrix:n}=e;return function(e,r,i,s){var a=e._values,o=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,p=c[0],f=c[1],d=i;"string"==typeof l&&(h=l,r=t.convert(r,h),d=t.find(i,[h,h]));for(var m=[],g=[],v=[],y=0;y<f;y++){for(var w=y+1,b=u[y],x=u[y+1],_=b;_<x;_++){var M=o[_];g[M]=a[_],v[M]=w}for(var E=0;E<p;E++)0===y&&(m[E]=[]),v[E]===w?m[E][y]=s?d(r,g[E]):d(g[E],r):m[E][y]=r}return new n({data:m,size:[p,f],datatype:h})}})),Ul=gu("algorithm13",["typed"],(e=>{var{typed:t}=e;return function(e,r,i){var s,a=e._data,o=e._size,u=e._datatype,c=r._data,l=r._size,h=r._datatype,p=[];if(o.length!==l.length)throw new tu(o.length,l.length);for(var f=0;f<o.length;f++){if(o[f]!==l[f])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+l+")");p[f]=o[f]}var d=i;"string"==typeof u&&u===h&&(s=u,d=t.find(i,[s,s]));var m=p.length>0?n(d,0,p,p[0],a,c):[];return e.createDenseMatrix({data:m,size:p,datatype:s})};function n(e,t,r,i,s,a){var o=[];if(t===r.length-1)for(var u=0;u<i;u++)o[u]=e(s[u],a[u]);else for(var c=0;c<i;c++)o[c]=n(e,t+1,r,r[t+1],s[c],a[c]);return o}})),ql=gu("algorithm02",["typed","equalScalar"],(e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i,s){var a=e._data,o=e._size,u=e._datatype,c=r._values,l=r._index,h=r._ptr,p=r._size,f=r._datatype;if(o.length!==p.length)throw new tu(o.length,p.length);if(o[0]!==p[0]||o[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,m=o[0],g=o[1],v=n,y=0,w=i;"string"==typeof u&&u===f&&(d=u,v=t.find(n,[d,d]),y=t.convert(0,d),w=t.find(i,[d,d]));for(var b=[],x=[],_=[],M=0;M<g;M++){_[M]=x.length;for(var E=h[M],N=h[M+1],S=E;S<N;S++){var T=l[S],O=s?w(c[S],a[T][M]):w(a[T][M],c[S]);v(O,y)||(x.push(T),b.push(O))}}return _[g]=x.length,r.createSparseMatrix({values:b,index:x,ptr:_,size:[m,g],datatype:d})}})),Vl=gu("algorithm03",["typed"],(e=>{var{typed:t}=e;return function(e,n,r,i){var s=e._data,a=e._size,o=e._datatype,u=n._values,c=n._index,l=n._ptr,h=n._size,p=n._datatype;if(a.length!==h.length)throw new tu(a.length,h.length);if(a[0]!==h[0]||a[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,d=a[0],m=a[1],g=0,v=r;"string"==typeof o&&o===p&&(f=o,g=t.convert(0,f),v=t.find(r,[f,f]));for(var y=[],w=0;w<d;w++)y[w]=[];for(var b=[],x=[],_=0;_<m;_++){for(var M=_+1,E=l[_],N=l[_+1],S=E;S<N;S++){var T=c[S];b[T]=i?v(u[S],s[T][_]):v(s[T][_],u[S]),x[T]=M}for(var O=0;O<d;O++)x[O]===M?y[O][_]=b[O]:y[O][_]=i?v(g,s[O][_]):v(s[O][_],g)}return e.createDenseMatrix({data:y,size:[d,m],datatype:f})}})),Hl=gu("algorithm05",["typed","equalScalar"],(e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i){var s=e._values,a=e._index,o=e._ptr,u=e._size,c=e._datatype,l=r._values,h=r._index,p=r._ptr,f=r._size,d=r._datatype;if(u.length!==f.length)throw new tu(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m,g=u[0],v=u[1],y=n,w=0,b=i;"string"==typeof c&&c===d&&(m=c,y=t.find(n,[m,m]),w=t.convert(0,m),b=t.find(i,[m,m]));var x,_,M,E,N=s&&l?[]:void 0,S=[],T=[],O=N?[]:void 0,C=N?[]:void 0,A=[],R=[];for(_=0;_<v;_++){T[_]=S.length;var k=_+1;for(M=o[_],E=o[_+1];M<E;M++)x=a[M],S.push(x),A[x]=k,O&&(O[x]=s[M]);for(M=p[_],E=p[_+1];M<E;M++)A[x=h[M]]!==k&&S.push(x),R[x]=k,C&&(C[x]=l[M]);if(N)for(M=T[_];M<S.length;){var z=A[x=S[M]],D=R[x];if(z===k||D===k){var I=b(z===k?O[x]:w,D===k?C[x]:w);y(I,w)?S.splice(M,1):(N.push(I),M++)}}}return T[v]=S.length,e.createSparseMatrix({values:N,index:S,ptr:T,size:[g,v],datatype:m})}})),$l=gu("algorithm12",["typed","DenseMatrix"],(e=>{var{typed:t,DenseMatrix:n}=e;return function(e,r,i,s){var a=e._values,o=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,p=c[0],f=c[1],d=i;"string"==typeof l&&(h=l,r=t.convert(r,h),d=t.find(i,[h,h]));for(var m=[],g=[],v=[],y=0;y<f;y++){for(var w=y+1,b=u[y],x=u[y+1],_=b;_<x;_++){var M=o[_];g[M]=a[_],v[M]=w}for(var E=0;E<p;E++)0===y&&(m[E]=[]),v[E]===w?m[E][y]=s?d(r,g[E]):d(g[E],r):m[E][y]=s?d(r,0):d(0,r)}return new n({data:m,size:[p,f],datatype:h})}})),Wl=gu("mod",["typed","matrix","equalScalar","DenseMatrix"],(e=>{var{typed:t,matrix:n,equalScalar:r,DenseMatrix:i}=e,s=ql({typed:t,equalScalar:r}),a=Vl({typed:t}),o=Hl({typed:t,equalScalar:r}),u=zl({typed:t,equalScalar:r}),c=$l({typed:t,DenseMatrix:i}),l=Ul({typed:t}),h=Dl({typed:t});return t("mod",{"number, number":yl,"BigNumber, BigNumber":function(e,t){if(t.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){if(t.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return e.compare(0)>=0?e.mod(t):e.mod(t).add(t).mod(t)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return u(e,t,this,!1)},"DenseMatrix, any":function(e,t){return h(e,t,this,!1)},"any, SparseMatrix":function(e,t){return c(t,e,this,!0)},"any, DenseMatrix":function(e,t){return h(t,e,this,!0)},"Array, any":function(e,t){return h(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return h(n(t),e,this,!0).valueOf()}})})),Gl=gu("multiplyScalar",["typed"],(e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":ml,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,t){var n=t.clone();return n.value=null===n.value?n._normalize(e):this(n.value,e),n},"Unit, number | Fraction | BigNumber | Complex":function(e,t){var n=e.clone();return n.value=null===n.value?n._normalize(t):this(n.value,t),n},"Unit, Unit":function(e,t){return e.multiply(t)}})})),Yl=gu("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(e=>{var{typed:t,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:s,dot:a}=e,o=zl({typed:t,equalScalar:s}),u=Dl({typed:t});function c(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}function l(e,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,n){var s,a=e._data,o=e._size,u=e._datatype,c=n._data,l=n._size,h=n._datatype,p=o[0],f=l[1],d=r,m=i;u&&h&&u===h&&"string"==typeof u&&(s=u,d=t.find(r,[s,s]),m=t.find(i,[s,s]));for(var g=[],v=0;v<f;v++){for(var y=m(a[0],c[0][v]),w=1;w<p;w++)y=d(y,m(a[w],c[w][v]));g[v]=y}return e.createDenseMatrix({data:g,size:[f],datatype:s})}(e,n)}var h=t("_multiplyMatrixVector",{"DenseMatrix, any":function(e,n){var s,a=e._data,o=e._size,u=e._datatype,c=n._data,l=n._datatype,h=o[0],p=o[1],f=r,d=i;u&&l&&u===l&&"string"==typeof u&&(s=u,f=t.find(r,[s,s]),d=t.find(i,[s,s]));for(var m=[],g=0;g<h;g++){for(var v=a[g],y=d(v[0],c[0]),w=1;w<p;w++)y=f(y,d(v[w],c[w]));m[g]=y}return e.createDenseMatrix({data:m,size:[h],datatype:s})},"SparseMatrix, any":function(e,n){var a=e._values,o=e._index,u=e._ptr,c=e._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,h=n._data,p=n._datatype,f=e._size[0],d=n._size[0],m=[],g=[],v=[],y=r,w=i,b=s,x=0;c&&p&&c===p&&"string"==typeof c&&(l=c,y=t.find(r,[l,l]),w=t.find(i,[l,l]),b=t.find(s,[l,l]),x=t.convert(0,l));var _=[],M=[];v[0]=0;for(var E=0;E<d;E++){var N=h[E];if(!b(N,x))for(var S=u[E],T=u[E+1],O=S;O<T;O++){var C=o[O];M[C]?_[C]=y(_[C],w(N,a[O])):(M[C]=!0,g.push(C),_[C]=w(N,a[O]))}}for(var A=g.length,R=0;R<A;R++){var k=g[R];m[R]=_[k]}return v[1]=g.length,e.createSparseMatrix({values:m,index:g,ptr:v,size:[f,1],datatype:l})}}),p=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,n){var s,a=e._data,o=e._size,u=e._datatype,c=n._data,l=n._size,h=n._datatype,p=o[0],f=o[1],d=l[1],m=r,g=i;u&&h&&u===h&&"string"==typeof u&&(s=u,m=t.find(r,[s,s]),g=t.find(i,[s,s]));for(var v=[],y=0;y<p;y++){var w=a[y];v[y]=[];for(var b=0;b<d;b++){for(var x=g(w[0],c[0][b]),_=1;_<f;_++)x=m(x,g(w[_],c[_][b]));v[y][b]=x}}return e.createDenseMatrix({data:v,size:[p,d],datatype:s})},"DenseMatrix, SparseMatrix":function(e,n){var a=e._data,o=e._size,u=e._datatype,c=n._values,l=n._index,h=n._ptr,p=n._size,f=n._datatype;if(!c)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,m=o[0],g=p[1],v=r,y=i,w=s,b=0;u&&f&&u===f&&"string"==typeof u&&(d=u,v=t.find(r,[d,d]),y=t.find(i,[d,d]),w=t.find(s,[d,d]),b=t.convert(0,d));for(var x=[],_=[],M=[],E=n.createSparseMatrix({values:x,index:_,ptr:M,size:[m,g],datatype:d}),N=0;N<g;N++){M[N]=_.length;var S=h[N],T=h[N+1];if(T>S)for(var O=0,C=0;C<m;C++){for(var A=C+1,R=void 0,k=S;k<T;k++){var z=l[k];O!==A?(R=y(a[C][z],c[k]),O=A):R=v(R,y(a[C][z],c[k]))}O!==A||w(R,b)||(_.push(C),x.push(R))}}return M[g]=_.length,E},"SparseMatrix, DenseMatrix":function(e,n){var a=e._values,o=e._index,u=e._ptr,c=e._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,h=n._data,p=n._datatype,f=e._size[0],d=n._size[0],m=n._size[1],g=r,v=i,y=s,w=0;c&&p&&c===p&&"string"==typeof c&&(l=c,g=t.find(r,[l,l]),v=t.find(i,[l,l]),y=t.find(s,[l,l]),w=t.convert(0,l));for(var b=[],x=[],_=[],M=e.createSparseMatrix({values:b,index:x,ptr:_,size:[f,m],datatype:l}),E=[],N=[],S=0;S<m;S++){_[S]=x.length;for(var T=S+1,O=0;O<d;O++){var C=h[O][S];if(!y(C,w))for(var A=u[O],R=u[O+1],k=A;k<R;k++){var z=o[k];N[z]!==T?(N[z]=T,x.push(z),E[z]=v(C,a[k])):E[z]=g(E[z],v(C,a[k]))}}for(var D=_[S],I=x.length,L=D;L<I;L++){var B=x[L];b[L]=E[B]}}return _[m]=x.length,M},"SparseMatrix, SparseMatrix":function(e,n){var s,a=e._values,o=e._index,u=e._ptr,c=e._datatype,l=n._values,h=n._index,p=n._ptr,f=n._datatype,d=e._size[0],m=n._size[1],g=a&&l,v=r,y=i;c&&f&&c===f&&"string"==typeof c&&(s=c,v=t.find(r,[s,s]),y=t.find(i,[s,s]));for(var w,b,x,_,M,E,N,S,T=g?[]:void 0,O=[],C=[],A=e.createSparseMatrix({values:T,index:O,ptr:C,size:[d,m],datatype:s}),R=g?[]:void 0,k=[],z=0;z<m;z++){C[z]=O.length;var D=z+1;for(M=p[z],E=p[z+1],_=M;_<E;_++)if(S=h[_],g)for(b=u[S],x=u[S+1],w=b;w<x;w++)k[N=o[w]]!==D?(k[N]=D,O.push(N),R[N]=y(l[_],a[w])):R[N]=v(R[N],y(l[_],a[w]));else for(b=u[S],x=u[S+1],w=b;w<x;w++)k[N=o[w]]!==D&&(k[N]=D,O.push(N));if(g)for(var I=C[z],L=O.length,B=I;B<L;B++){var P=O[B];T[B]=R[P]}}return C[m]=O.length,A}});return t("multiply",Eo({"Array, Array":function(e,t){c(ru(e),ru(t));var r=this(n(e),n(t));return Va(r)?r.valueOf():r},"Matrix, Matrix":function(e,t){var n=e.size(),r=t.size();return c(n,r),1===n.length?1===r.length?function(e,t,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return a(e,t)}(e,t,n[0]):l(e,t):1===r.length?h(e,t):p(e,t)},"Matrix, Array":function(e,t){return this(e,n(t))},"Array, Matrix":function(e,t){return this(n(e,t.storage()),t)},"SparseMatrix, any":function(e,t){return o(e,t,i,!1)},"DenseMatrix, any":function(e,t){return u(e,t,i,!1)},"any, SparseMatrix":function(e,t){return o(t,e,i,!0)},"any, DenseMatrix":function(e,t){return u(t,e,i,!0)},"Array, any":function(e,t){return u(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(e,t,n){for(var r=this(e,t),i=0;i<n.length;i++)r=this(r,n[i]);return r}},i.signatures))})),Zl=gu("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(e=>{var{typed:t,matrix:n,equalScalar:r,addScalar:i,unaryMinus:s,DenseMatrix:a}=e,o=Pl({typed:t}),u=Vl({typed:t}),c=Hl({typed:t,equalScalar:r}),l=jl({typed:t,DenseMatrix:a}),h=Ul({typed:t}),p=Dl({typed:t});return t("subtract",{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=this(n.value,t.value),n.fixPrefix=!1,n},"SparseMatrix, SparseMatrix":function(e,t){return Xl(e,t),c(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return Xl(e,t),u(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return Xl(e,t),o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return Xl(e,t),h(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return l(e,s(t),i)},"DenseMatrix, any":function(e,t){return p(e,t,this)},"any, SparseMatrix":function(e,t){return l(t,e,this,!0)},"any, DenseMatrix":function(e,t){return p(t,e,this,!0)},"Array, any":function(e,t){return p(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return p(n(t),e,this,!0).valueOf()}})}));function Xl(e,t){var n=e.size(),r=t.size();if(n.length!==r.length)throw new tu(n.length,r.length)}var Jl=gu("algorithm07",["typed","DenseMatrix"],(e=>{var{typed:t,DenseMatrix:n}=e;return function(e,i,s){var a=e._size,o=e._datatype,u=i._size,c=i._datatype;if(a.length!==u.length)throw new tu(a.length,u.length);if(a[0]!==u[0]||a[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");var l,h,p,f=a[0],d=a[1],m=0,g=s;"string"==typeof o&&o===c&&(l=o,m=t.convert(0,l),g=t.find(s,[l,l]));var v=[];for(h=0;h<f;h++)v[h]=[];var y=[],w=[],b=[],x=[];for(p=0;p<d;p++){var _=p+1;for(r(e,p,b,y,_),r(i,p,x,w,_),h=0;h<f;h++){var M=b[h]===_?y[h]:m,E=x[h]===_?w[h]:m;v[h][p]=g(M,E)}}return new n({data:v,size:[f,d],datatype:l})};function r(e,t,n,r,i){for(var s=e._values,a=e._index,o=e._ptr,u=o[t],c=o[t+1];u<c;u++){var l=a[u];n[l]=i,r[l]=s[u]}}})),Ql=gu("conj",["typed"],(e=>{var{typed:t}=e;return t("conj",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return ll(e,this)}})}));function Kl(e){var t=0,n=1,r=Object.create(null),i=Object.create(null),s=0,a=function(e){var a=i[e];if(a&&(delete r[a],delete i[e],--t,n===a)){if(!t)return s=0,void(n=1);for(;!hasOwnProperty.call(r,++n););}};return e=Math.abs(e),{hit:function(o){var u=i[o],c=++s;if(r[c]=o,i[o]=c,!u){if(++t<=e)return;return o=r[n],a(o),o}if(delete r[u],n===u)for(;!hasOwnProperty.call(r,++n););},delete:a,clear:function(){t=s=0,n=1,r=Object.create(null),i=Object.create(null)}}}function eh(e){var{hasher:t,limit:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=null==n?Number.POSITIVE_INFINITY:n,t=null==t?JSON.stringify:t,function r(){"object"!=typeof r.cache&&(r.cache={values:new Map,lru:Kl(n||Number.POSITIVE_INFINITY)});for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=t(i);if(r.cache.values.has(a))return r.cache.lru.hit(a),r.cache.values.get(a);var o=e.apply(e,i);return r.cache.values.set(a,o),r.cache.values.delete(r.cache.lru.hit(a)),o}}var th=gu("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(e=>{var{typed:t,config:n,matrix:r,BigNumber:i,DenseMatrix:s,SparseMatrix:a}=e;return t("identity",{"":function(){return"Matrix"===n.matrix?r([]):[]},string:function(e){return r(e)},"number | BigNumber":function(e){return u(e,e,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return u(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return u(e,t,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,n){return u(e,t,n)},Array:function(e){return o(e)},"Array, string":function(e,t){return o(e,t)},Matrix:function(e){return o(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return o(e.valueOf(),t)}});function o(e,t){switch(e.length){case 0:return t?r(t):[];case 1:return u(e[0],e[0],t);case 2:return u(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function u(e,t,n){var r=Ba(e)||Ba(t)?i:null;if(Ba(e)&&(e=e.toNumber()),Ba(t)&&(t=t.toNumber()),!Fo(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!Fo(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var o=r?new i(1):1,u=r?new r(0):0,c=[e,t];if(n){if("sparse"===n)return a.diagonal(c,o,0,u);if("dense"===n)return s.diagonal(c,o,0,u);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var l=ou([],c,u),h=e<t?e:t,p=0;p<h;p++)l[p][p]=o;return l}}));function nh(){throw new Error('No "bignumber" implementation available')}function rh(){throw new Error('No "fraction" implementation available')}function ih(e,t,n,r){if(!(this instanceof ih))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(null!=r?"-"+r:"")+" expected)",this.stack=(new Error).stack}ih.prototype=new Error,ih.prototype.constructor=Error,ih.prototype.name="ArgumentsError",ih.prototype.isArgumentsError=!0;var sh=gu("size",["typed","config","?matrix"],(e=>{var{typed:t,config:n,matrix:r}=e;return t("size",{Matrix:function(e){return e.create(e.size())},Array:ru,string:function(e){return"Array"===n.matrix?[e.length]:r([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===n.matrix?[]:r?r([]):function(){throw new Error('No "matrix" implementation available')}()}})}));function ah(e,t){if(lh(e)&&uh(e,t))return e[t];if("function"==typeof e[t]&&ch(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function oh(e,t,n){if(lh(e)&&uh(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function uh(e,t){return!(!e||"object"!=typeof e||!Ao(hh,t)&&(t in Object.prototype||t in Function.prototype))}function ch(e,t){return!(null==e||"function"!=typeof e[t]||Ao(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)||!Ao(ph,t)&&(t in Object.prototype||t in Function.prototype))}function lh(e){return"object"==typeof e&&e&&e.constructor===Object}var hh={length:!0,name:!0},ph={toString:!0,valueOf:!0,toLocaleString:!0},fh=gu("subset",["typed","matrix"],(e=>{var{typed:t,matrix:n}=e;return t("subset",{"Array, Index":function(e,t){var r=n(e).subset(t);return t.isScalar()?r:r.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":gh,"string, Index":dh,"Array, Index, any":function(e,t,r){return n(_o(e)).subset(t,r,void 0).valueOf()},"Array, Index, any, any":function(e,t,r,i){return n(_o(e)).subset(t,r,i).valueOf()},"Matrix, Index, any":function(e,t,n){return e.clone().subset(t,n)},"Matrix, Index, any, any":function(e,t,n,r){return e.clone().subset(t,n,r)},"string, Index, string":mh,"string, Index, string, string":mh,"Object, Index, any":vh})}));function dh(e,t){if(!Ya(t))throw new TypeError("Index expected");if(1!==t.size().length)throw new tu(t.size().length,1);var n=e.length;au(t.min()[0],n),au(t.max()[0],n);var r=t.dimension(0),i="";return r.forEach((function(t){i+=e.charAt(t)})),i}function mh(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!==t.size().length)throw new tu(t.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=t.dimension(0);if(i.size()[0]!==n.length)throw new tu(i.size()[0],n.length);var s=e.length;au(t.min()[0]),au(t.max()[0]);for(var a=[],o=0;o<s;o++)a[o]=e.charAt(o);if(i.forEach((function(e,t){a[e]=n.charAt(t[0])})),a.length>s)for(var u=s-1,c=a.length;u<c;u++)a[u]||(a[u]=r);return a.join("")}function gh(e,t){if(1!==t.size().length)throw new tu(t.size(),1);var n=t.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return ah(e,n)}function vh(e,t,n){if(1!==t.size().length)throw new tu(t.size(),1);var r=t.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=_o(e);return oh(i,r,n),i}var yh=gu("zeros",["typed","config","matrix","BigNumber"],(e=>{var{typed:t,config:n,matrix:r,BigNumber:i}=e;return t("zeros",{"":function(){return"Array"===n.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var t=e.pop();return s(e,t)}return"Array"===n.matrix?s(e):s(e,"default")},Array:s,Matrix:function(e){var t=e.storage();return s(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return s(e.valueOf(),t)}});function s(e,t){var n=function(e){var t=!1;return e.forEach((function(e,n,r){Ba(e)&&(t=!0,r[n]=e.toNumber())})),t}(e)?new i(0):0;if(function(e){e.forEach((function(e){if("number"!=typeof e||!Fo(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")}))}(e),t){var s=r(t);return e.length>0?s.resize(e,n):s}var a=[];return e.length>0?ou(a,e,n):a}})),wh=gu("format",["typed"],(e=>{var{typed:t}=e;return t("format",{any:Jo,"any, Object | function | number":Jo})})),bh=gu("numeric",["number","?bignumber","?fraction"],(e=>{var{number:t,bignumber:n,fraction:r}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:e=>t(e),BigNumber:n?e=>n(e):nh,Fraction:r?e=>r(e):rh};return function(e,t){var n=xo(e);if(!(n in i))throw new TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(t in s))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(s).join(", "));return t===n?e:s[t](e)}})),xh=gu("divideScalar",["typed","numeric"],(e=>{var{typed:t,numeric:n}=e;return t("divideScalar",{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,t){var r=e.clone(),i=n(1,xo(t));return r.value=this(null===r.value?r._normalize(i):r.value,t),r},"number | Fraction | BigNumber, Unit":function(e,t){var r=t.clone();r=r.pow(-1);var i=n(1,xo(e));return r.value=this(e,null===t.value?t._normalize(i):t.value),r},"Unit, Unit":function(e,t){return e.divide(t)}})})),_h=gu("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],(e=>{var{typed:t,config:n,identity:r,multiply:i,matrix:s,number:a,fraction:o,Complex:u}=e;return t("pow",{"number, number":c,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,t){return t.isInteger()||e>=0||n.predictable?e.pow(t):new u(e.toNumber(),0).pow(t.toNumber(),0)},"Fraction, Fraction":function(e,t){if(1!==t.d){if(n.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return c(e.valueOf(),t.valueOf())}return e.pow(t)},"Array, number":l,"Array, BigNumber":function(e,t){return l(e,t.toNumber())},"Matrix, number":h,"Matrix, BigNumber":function(e,t){return h(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function c(e,t){if(n.predictable&&!Fo(t)&&e<0)try{var r=o(t),i=a(r);if((t===i||Math.abs((t-i)/t)<1e-14)&&r.d%2==1)return(r.n%2==0?1:-1)*Math.pow(-e,t)}catch(e){}return n.predictable&&(e<-1&&t===1/0||e>-1&&e<0&&t===-1/0)?NaN:Fo(t)||e>=0||n.predictable?wl(e,t):e*e<1&&t===1/0||e*e>1&&t===-1/0?0:new u(e,0).pow(t,0)}function l(e,t){if(!Fo(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var n=ru(e);if(2!==n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!==n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");for(var s=r(n[0]).valueOf(),a=e;t>=1;)1==(1&t)&&(s=i(a,s)),t>>=1,a=i(a,a);return s}function h(e,t){return s(l(e.valueOf(),t))}}));function Mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mh(Object(n),!0).forEach((function(t){Nh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sh="Number of decimals in function round must be an integer",Th=gu("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],(e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,BigNumber:s,DenseMatrix:a}=e,o=zl({typed:t,equalScalar:r}),u=$l({typed:t,DenseMatrix:a}),c=Dl({typed:t});return t("round",Eh(Eh({},Oh),{},{Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(Sh);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(Sh);var n=t.toNumber();return e.round(n)},"number, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(Sh);return new s(e).toDecimalPlaces(t.toNumber())},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(Sh);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(Sh);return e.round(t)},"Array | Matrix":function(e){return ll(e,this)},"SparseMatrix, number | BigNumber":function(e,t){return o(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,this,!1)},"number | Complex | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):u(t,e,this,!0)},"number | Complex | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):c(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return c(n(e),t,this,!1).valueOf()},"number | Complex | BigNumber, Array":function(e,t){return c(n(t),e,this,!0).valueOf()}}))})),Oh={number:bl,"number, number":function(e,t){if(!Fo(t))throw new TypeError(Sh);if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return bl(e,t)}},Ch=gu("equal",["typed","matrix","equalScalar","DenseMatrix"],(e=>{var{typed:t,matrix:n,equalScalar:r,DenseMatrix:i}=e,s=Vl({typed:t}),a=Jl({typed:t,DenseMatrix:i}),o=$l({typed:t,DenseMatrix:i}),u=Ul({typed:t}),c=Dl({typed:t});return t("equal",{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:r(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,r)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,r,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,r,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,r)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return o(e,t,r,!1)},"DenseMatrix, any":function(e,t){return c(e,t,r,!1)},"any, SparseMatrix":function(e,t){return o(t,e,r,!0)},"any, DenseMatrix":function(e,t){return c(t,e,r,!0)},"Array, any":function(e,t){return c(n(e),t,r,!1).valueOf()},"any, Array":function(e,t){return c(n(t),e,r,!0).valueOf()}})}));gu("equal",["typed","equalScalar"],(e=>{var{typed:t,equalScalar:n}=e;return t("equal",{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:n(e,t)}})}));var Ah=gu("smaller",["typed","config","matrix","DenseMatrix"],(e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i}=e,s=Vl({typed:t}),a=Jl({typed:t,DenseMatrix:i}),o=$l({typed:t,DenseMatrix:i}),u=Ul({typed:t}),c=Dl({typed:t});return t("smaller",{"boolean, boolean":function(e,t){return e<t},"number, number":function(e,t){return e<t&&!Yo(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lt(t)&&!_l(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return o(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return o(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,this,!0).valueOf()}})})),Rh=gu("larger",["typed","config","matrix","DenseMatrix"],(e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i}=e,s=Vl({typed:t}),a=Jl({typed:t,DenseMatrix:i}),o=$l({typed:t,DenseMatrix:i}),u=Ul({typed:t}),c=Dl({typed:t});return t("larger",{"boolean, boolean":function(e,t){return e>t},"number, number":function(e,t){return e>t&&!Yo(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gt(t)&&!_l(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return o(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return o(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,this,!0).valueOf()}})})),kh=gu("FibonacciHeap",["smaller","larger"],(e=>{var{smaller:t,larger:n}=e,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function s(e,t,n){t.left.right=t.right,t.right.left=t.left,n.degree--,n.child===t&&(n.child=t.right),0===n.degree&&(n.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1}function a(e,t){var n=t.parent;n&&(t.mark?(s(e,t,n),a(n)):t.mark=!0)}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(e,n){var r={key:e,value:n,degree:0};if(this._minimum){var i=this._minimum;r.left=i,r.right=i.right,i.right=r,r.right.left=r,t(e,i.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var i=this._minimum,s=e.degree,a=e.child;s>0;){var u=a.right;a.left.right=a.right,a.right.left=a.left,a.left=i,a.right=i.right,i.right=a,a.right.left=a,a.parent=null,a=u,s--}return e.left.right=e.right,e.right.left=e.left,i=e===e.right?null:function(e,i){var s,a=Math.floor(Math.log(i)*r)+1,u=new Array(a),c=0,l=e;if(l)for(c++,l=l.right;l!==e;)c++,l=l.right;for(;c>0;){for(var h=l.degree,p=l.right;s=u[h];){if(n(l.key,s.key)){var f=s;s=l,l=f}o(s,l),u[h]=null,h++}u[h]=l,l=p,c--}e=null;for(var d=0;d<a;d++)(s=u[d])&&(e?(s.left.right=s.right,s.right.left=s.left,s.left=e,s.right=e.right,e.right=s,s.right.left=s,t(s.key,e.key)&&(e=s)):e=s);return e}(i=e.right,this._size),this._size--,this._minimum=i,e},i.prototype.remove=function(e){this._minimum=function(e,n,r){n.key=-1;var i=n.parent;return i&&t(n.key,i.key)&&(s(e,n,i),a(e,i)),t(n.key,e.key)&&(e=n),e}(this._minimum,e),this.extractMinimum()};var o=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1};return i}),{isClass:!0}),zh=gu("Spa",["addScalar","equalScalar","FibonacciHeap"],(e=>{var{addScalar:t,equalScalar:n,FibonacciHeap:r}=e;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var n=this._heap.insert(e,t);this._values[e]=n}},i.prototype.get=function(e){var t=this._values[e];return t?t.value:0},i.prototype.accumulate=function(e,n){var r=this._values[e];r?r.value=t(r.value,n):(r=this._heap.insert(e,n),this._values[e]=r)},i.prototype.forEach=function(e,t,r){var i=this._heap,s=this._values,a=[],o=i.extractMinimum();for(o&&a.push(o);o&&o.key<=t;)o.key>=e&&(n(o.value,0)||r(o.key,o.value,this)),(o=i.extractMinimum())&&a.push(o);for(var u=0;u<a.length;u++){var c=a[u];s[(o=i.insert(c.key,c.value)).key]=o}},i.prototype.swap=function(e,t){var n=this._values[e],r=this._values[t];if(!n&&r)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(n&&!r)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},i}),{isClass:!0});eh((function(e){return new e(1).exp()}),{hasher:Ih}),eh((function(e){return new e(1).plus(new e(5).sqrt()).div(2)}),{hasher:Ih});var Dh=eh((function(e){return e.acos(-1)}),{hasher:Ih});function Ih(e){return e[0].precision}function Lh(){return(Lh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bh(Object(n),!0).forEach((function(t){Fh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}eh((function(e){return Dh(e).times(2)}),{hasher:Ih});var jh=gu("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],(e=>{var t,n,r,{on:i,config:s,addScalar:a,subtract:o,multiplyScalar:u,divideScalar:c,pow:l,abs:h,fix:p,round:f,equal:d,isNumeric:m,format:g,number:v,Complex:y,BigNumber:w,Fraction:b}=e,x=v;function _(e,t){if(!(this instanceof _))throw new Error("Constructor must be called with the new operator");if(null!=e&&!m(e)&&!Pa(e))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==t&&("string"!=typeof t||""===t))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==t){var n=_.parse(t);this.units=n.units,this.dimensions=n.dimensions}else{this.units=[{unit:L,prefix:k.NONE,power:0}],this.dimensions=[];for(var r=0;r<z.length;r++)this.dimensions[r]=0}this.value=null!=e?this._normalize(e):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function M(){for(;" "===r||"\t"===r;)N()}function E(e){return e>="0"&&e<="9"}function N(){n++,r=t.charAt(n)}function S(e){n=e,r=t.charAt(n)}function T(){var e,t="",i=n;if("+"===r?N():"-"===r&&(t+=r,N()),!((e=r)>="0"&&e<="9"||"."===e))return S(i),null;if("."===r){if(t+=r,N(),!E(r))return S(i),null}else{for(;E(r);)t+=r,N();"."===r&&(t+=r,N())}for(;E(r);)t+=r,N();if("E"===r||"e"===r){var s="",a=n;if(s+=r,N(),"+"!==r&&"-"!==r||(s+=r,N()),!E(r))return S(a),t;for(t+=s;E(r);)t+=r,N()}return t}function O(){for(var e="";E(r)||_.isValidAlpha(r);)e+=r,N();var t=e.charAt(0);return _.isValidAlpha(t)?e:null}function C(e){return r===e?(N(),e):null}_.prototype.type="Unit",_.prototype.isUnit=!0,_.parse=function(e,i){if(i=i||{},n=-1,r="","string"!=typeof(t=e))throw new TypeError("Invalid argument in Unit.parse, string expected");var a=new _;a.units=[];var o=1,u=!1;N(),M();var c=T(),l=null;if(c){if("BigNumber"===s.number)l=new w(c);else if("Fraction"===s.number)try{l=new b(c)}catch(e){l=parseFloat(c)}else l=parseFloat(c);M(),C("*")?(o=1,u=!0):C("/")&&(o=-1,u=!0)}for(var h=[],p=1;;){for(M();"("===r;)h.push(o),p*=o,o=1,N(),M();var f;if(!r)break;var d=r;if(null===(f=O()))throw new SyntaxError('Unexpected "'+d+'" in "'+t+'" at index '+n.toString());var m=A(f);if(null===m)throw new SyntaxError('Unit "'+f+'" not found.');var g=o*p;if(M(),C("^")){M();var v=T();if(null===v)throw new SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');g*=v}a.units.push({unit:m.unit,prefix:m.prefix,power:g});for(var y=0;y<z.length;y++)a.dimensions[y]+=(m.unit.dimensions[y]||0)*g;for(M();")"===r;){if(0===h.length)throw new SyntaxError('Unmatched ")" in "'+t+'" at index '+n.toString());p/=h.pop(),N(),M()}if(u=!1,C("*")?(o=1,u=!0):C("/")?(o=-1,u=!0):o=1,m.unit.base){var x=m.unit.base.key;j.auto[x]={unit:m.unit,prefix:m.prefix}}}if(M(),r)throw new SyntaxError('Could not parse: "'+e+'"');if(u)throw new SyntaxError('Trailing characters: "'+e+'"');if(0!==h.length)throw new SyntaxError('Unmatched "(" in "'+t+'"');if(0===a.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+e+'" contains no units');return a.value=void 0!==l?a._normalize(l):null,a},_.prototype.clone=function(){var e=new _;e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=_o(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var n in e.units[t]={},this.units[t])Ao(this.units[t],n)&&(e.units[t][n]=this.units[t][n]);return e},_.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},_.prototype._normalize=function(e){var t,n,r,i,s;if(null==e||0===this.units.length)return e;if(this._isDerived()){var o=e;s=_._getNumberConverter(xo(e));for(var c=0;c<this.units.length;c++)t=s(this.units[c].unit.value),i=s(this.units[c].prefix.value),r=s(this.units[c].power),o=u(o,l(u(t,i),r));return o}return t=(s=_._getNumberConverter(xo(e)))(this.units[0].unit.value),n=s(this.units[0].unit.offset),i=s(this.units[0].prefix.value),u(a(e,n),u(t,i))},_.prototype._denormalize=function(e,t){var n,r,i,s,a;if(null==e||0===this.units.length)return e;if(this._isDerived()){var h=e;a=_._getNumberConverter(xo(e));for(var p=0;p<this.units.length;p++)n=a(this.units[p].unit.value),s=a(this.units[p].prefix.value),i=a(this.units[p].power),h=c(h,l(u(n,s),i));return h}return n=(a=_._getNumberConverter(xo(e)))(this.units[0].unit.value),s=a(this.units[0].prefix.value),r=a(this.units[0].unit.offset),o(c(c(e,n),null==t?s:t),r)};var A=eh((e=>{if(Ao(B,e)){var t=B[e];return{unit:t,prefix:t.prefixes[""]}}for(var n in B)if(Ao(B,n)&&Xo(e,n)){var r=B[n],i=e.length-n.length,s=e.substring(0,i),a=Ao(r.prefixes,s)?r.prefixes[s]:void 0;if(void 0!==a)return{unit:r,prefix:a}}return null}),{hasher:e=>e[0],limit:100});function R(e){return e.equalBase(D.NONE)&&null!==e.value&&!s.predictable?e.value:e}_.isValuelessUnit=function(e){return null!==A(e)},_.prototype.hasBase=function(e){if("string"==typeof e&&(e=D[e]),!e)return!1;for(var t=0;t<z.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},_.prototype.equalBase=function(e){for(var t=0;t<z.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},_.prototype.equals=function(e){return this.equalBase(e)&&d(this.value,e.value)},_.prototype.multiply=function(e){for(var t=this.clone(),n=0;n<z.length;n++)t.dimensions[n]=(this.dimensions[n]||0)+(e.dimensions[n]||0);for(var r=0;r<e.units.length;r++){var i=Ph({},e.units[r]);t.units.push(i)}if(null!==this.value||null!==e.value){var s=null===this.value?this._normalize(1):this.value,a=null===e.value?e._normalize(1):e.value;t.value=u(s,a)}else t.value=null;return t.skipAutomaticSimplification=!1,R(t)},_.prototype.divide=function(e){for(var t=this.clone(),n=0;n<z.length;n++)t.dimensions[n]=(this.dimensions[n]||0)-(e.dimensions[n]||0);for(var r=0;r<e.units.length;r++){var i=Ph(Ph({},e.units[r]),{},{power:-e.units[r].power});t.units.push(i)}if(null!==this.value||null!==e.value){var s=null===this.value?this._normalize(1):this.value,a=null===e.value?e._normalize(1):e.value;t.value=c(s,a)}else t.value=null;return t.skipAutomaticSimplification=!1,R(t)},_.prototype.pow=function(e){for(var t=this.clone(),n=0;n<z.length;n++)t.dimensions[n]=(this.dimensions[n]||0)*e;for(var r=0;r<t.units.length;r++)t.units[r].power*=e;return null!==t.value?t.value=l(t.value,e):t.value=null,t.skipAutomaticSimplification=!1,R(t)},_.prototype.abs=function(){var e=this.clone();for(var t in e.value=null!==e.value?h(e.value):null,e.units)"VA"!==e.units[t].unit.name&&"VAR"!==e.units[t].unit.name||(e.units[t].unit=B.W);return e},_.prototype.to=function(e){var t,n=null===this.value?this._normalize(1):this.value;if("string"==typeof e){if(t=_.parse(e),!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return t.value=_o(n),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t}if(ja(e)){if(!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return(t=e.clone()).value=_o(n),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t}throw new Error("String or Unit expected as parameter")},_.prototype.toNumber=function(e){return x(this.toNumeric(e))},_.prototype.toNumeric=function(e){var t;return(t=e?this.to(e):this.clone())._isDerived()||0===t.units.length?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},_.prototype.toString=function(){return this.format()},_.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},_.fromJSON=function(e){var t=new _(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},_.prototype.valueOf=_.prototype.toString,_.prototype.simplify=function(){var e,t,n=this.clone(),r=[];for(var i in U)if(Ao(U,i)&&n.hasBase(D[i])){e=i;break}if("NONE"===e)n.units=[];else if(e&&Ao(U,e)&&(t=U[e]),t)n.units=[{unit:t.unit,prefix:t.prefix,power:1}];else{for(var s=!1,a=0;a<z.length;a++){var o=z[a];Math.abs(n.dimensions[a]||0)>1e-12&&(Ao(U,o)?r.push({unit:U[o].unit,prefix:U[o].prefix,power:n.dimensions[a]||0}):s=!0)}r.length<n.units.length&&!s&&(n.units=r)}return n},_.prototype.toSI=function(){for(var e=this.clone(),t=[],n=0;n<z.length;n++){var r=z[n];if(Math.abs(e.dimensions[n]||0)>1e-12){if(!Ao(j.si,r))throw new Error("Cannot express custom unit "+r+" in SI units");t.push({unit:j.si[r].unit,prefix:j.si[r].prefix,power:e.dimensions[n]||0})}}return e.units=t,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e},_.prototype.formatUnits=function(){for(var e="",t="",n=0,r=0,i=0;i<this.units.length;i++)this.units[i].power>0?(n++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(e+="^"+this.units[i].power)):this.units[i].power<0&&r++;if(r>0)for(var s=0;s<this.units.length;s++)this.units[s].power<0&&(n>0?(t+=" "+this.units[s].prefix.name+this.units[s].unit.name,Math.abs(this.units[s].power+1)>1e-15&&(t+="^"+-this.units[s].power)):(t+=" "+this.units[s].prefix.name+this.units[s].unit.name,t+="^"+this.units[s].power));e=e.substr(1),t=t.substr(1),n>1&&r>0&&(e="("+e+")"),r>1&&n>0&&(t="("+t+")");var a=e;return n>0&&r>0&&(a+=" / "),a+t},_.prototype.format=function(e){var t=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),n=!1;for(var r in void 0!==t.value&&null!==t.value&&Pa(t.value)&&(n=Math.abs(t.value.re)<1e-14),t.units)Ao(t.units,r)&&t.units[r].unit&&("VA"===t.units[r].unit.name&&n?t.units[r].unit=B.VAR:"VAR"!==t.units[r].unit.name||n||(t.units[r].unit=B.VA));1!==t.units.length||t.fixPrefix||Math.abs(t.units[0].power-Math.round(t.units[0].power))<1e-14&&(t.units[0].prefix=t._bestPrefix());var i=t._denormalize(t.value),s=null!==t.value?g(i,e||{}):"",a=t.formatUnits();return t.value&&Pa(t.value)&&(s="("+s+")"),a.length>0&&s.length>0&&(s+=" "),s+a},_.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?h(this.value):0,t=h(this.units[0].unit.value),n=this.units[0].prefix;if(0===e)return n;var r=this.units[0].power,i=Math.log(e/Math.pow(n.value*t,r))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return n;i=Math.abs(i);var s=this.units[0].unit.prefixes;for(var a in s)if(Ao(s,a)){var o=s[a];if(o.scientific){var u=Math.abs(Math.log(e/Math.pow(o.value*t,r))/Math.LN10-1.2);(u<i||u===i&&o.name.length<n.name.length)&&(n=o,i=u)}}return n},_.prototype.splitUnit=function(e){for(var t=this.clone(),n=[],r=0;r<e.length&&(t=t.to(e[r]),r!==e.length-1);r++){var i=t.toNumeric(),s=f(i),u=new _(d(s,i)?s:p(t.toNumeric()),e[r].toString());n.push(u),t=o(t,u)}for(var c=0,l=0;l<n.length;l++)c=a(c,n[l].value);return d(c,this.value)&&(t.value=0),n.push(t),n};var k={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};k.SHORTLONG=Lh({},k.SHORT,k.LONG),k.BINARY_SHORT=Lh({},k.BINARY_SHORT_SI,k.BINARY_SHORT_IEC),k.BINARY_LONG=Lh({},k.BINARY_LONG_SI,k.BINARY_LONG_IEC);var z=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],D={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var I in D)Ao(D,I)&&(D[I].key=I);var L={name:"",base:{},value:1,offset:0,dimensions:z.map((e=>0))},B={meter:{name:"meter",base:D.LENGTH,prefixes:k.LONG,value:1,offset:0},inch:{name:"inch",base:D.LENGTH,prefixes:k.NONE,value:.0254,offset:0},foot:{name:"foot",base:D.LENGTH,prefixes:k.NONE,value:.3048,offset:0},yard:{name:"yard",base:D.LENGTH,prefixes:k.NONE,value:.9144,offset:0},mile:{name:"mile",base:D.LENGTH,prefixes:k.NONE,value:1609.344,offset:0},link:{name:"link",base:D.LENGTH,prefixes:k.NONE,value:.201168,offset:0},rod:{name:"rod",base:D.LENGTH,prefixes:k.NONE,value:5.0292,offset:0},chain:{name:"chain",base:D.LENGTH,prefixes:k.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:D.LENGTH,prefixes:k.NONE,value:1e-10,offset:0},m:{name:"m",base:D.LENGTH,prefixes:k.SHORT,value:1,offset:0},in:{name:"in",base:D.LENGTH,prefixes:k.NONE,value:.0254,offset:0},ft:{name:"ft",base:D.LENGTH,prefixes:k.NONE,value:.3048,offset:0},yd:{name:"yd",base:D.LENGTH,prefixes:k.NONE,value:.9144,offset:0},mi:{name:"mi",base:D.LENGTH,prefixes:k.NONE,value:1609.344,offset:0},li:{name:"li",base:D.LENGTH,prefixes:k.NONE,value:.201168,offset:0},rd:{name:"rd",base:D.LENGTH,prefixes:k.NONE,value:5.02921,offset:0},ch:{name:"ch",base:D.LENGTH,prefixes:k.NONE,value:20.1168,offset:0},mil:{name:"mil",base:D.LENGTH,prefixes:k.NONE,value:254e-7,offset:0},m2:{name:"m2",base:D.SURFACE,prefixes:k.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:D.SURFACE,prefixes:k.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:D.SURFACE,prefixes:k.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:D.SURFACE,prefixes:k.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:D.SURFACE,prefixes:k.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:D.SURFACE,prefixes:k.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:D.SURFACE,prefixes:k.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:D.SURFACE,prefixes:k.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:D.SURFACE,prefixes:k.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:D.SURFACE,prefixes:k.NONE,value:1e4,offset:0},m3:{name:"m3",base:D.VOLUME,prefixes:k.CUBIC,value:1,offset:0},L:{name:"L",base:D.VOLUME,prefixes:k.SHORT,value:.001,offset:0},l:{name:"l",base:D.VOLUME,prefixes:k.SHORT,value:.001,offset:0},litre:{name:"litre",base:D.VOLUME,prefixes:k.LONG,value:.001,offset:0},cuin:{name:"cuin",base:D.VOLUME,prefixes:k.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:D.VOLUME,prefixes:k.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:D.VOLUME,prefixes:k.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:D.VOLUME,prefixes:k.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:D.VOLUME,prefixes:k.NONE,value:15e-6,offset:0},drop:{name:"drop",base:D.VOLUME,prefixes:k.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:D.VOLUME,prefixes:k.NONE,value:5e-8,offset:0},minim:{name:"minim",base:D.VOLUME,prefixes:k.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:D.VOLUME,prefixes:k.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:D.VOLUME,prefixes:k.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:D.VOLUME,prefixes:k.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:D.VOLUME,prefixes:k.NONE,value:1e-6,offset:0},cup:{name:"cup",base:D.VOLUME,prefixes:k.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:D.VOLUME,prefixes:k.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:D.VOLUME,prefixes:k.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:D.VOLUME,prefixes:k.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:D.VOLUME,prefixes:k.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:D.VOLUME,prefixes:k.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:D.VOLUME,prefixes:k.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:D.VOLUME,prefixes:k.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:D.VOLUME,prefixes:k.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:D.VOLUME,prefixes:k.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:D.VOLUME,prefixes:k.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:D.VOLUME,prefixes:k.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:D.VOLUME,prefixes:k.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:D.VOLUME,prefixes:k.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:D.VOLUME,prefixes:k.NONE,value:.1173478,offset:0},obl:{name:"obl",base:D.VOLUME,prefixes:k.NONE,value:.1589873,offset:0},g:{name:"g",base:D.MASS,prefixes:k.SHORT,value:.001,offset:0},gram:{name:"gram",base:D.MASS,prefixes:k.LONG,value:.001,offset:0},ton:{name:"ton",base:D.MASS,prefixes:k.SHORT,value:907.18474,offset:0},t:{name:"t",base:D.MASS,prefixes:k.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:D.MASS,prefixes:k.LONG,value:1e3,offset:0},grain:{name:"grain",base:D.MASS,prefixes:k.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:D.MASS,prefixes:k.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:D.MASS,prefixes:k.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:D.MASS,prefixes:k.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:D.MASS,prefixes:k.NONE,value:45.359237,offset:0},stick:{name:"stick",base:D.MASS,prefixes:k.NONE,value:.115,offset:0},stone:{name:"stone",base:D.MASS,prefixes:k.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:D.MASS,prefixes:k.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:D.MASS,prefixes:k.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:D.MASS,prefixes:k.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:D.MASS,prefixes:k.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:D.MASS,prefixes:k.NONE,value:45.359237,offset:0},s:{name:"s",base:D.TIME,prefixes:k.SHORT,value:1,offset:0},min:{name:"min",base:D.TIME,prefixes:k.NONE,value:60,offset:0},h:{name:"h",base:D.TIME,prefixes:k.NONE,value:3600,offset:0},second:{name:"second",base:D.TIME,prefixes:k.LONG,value:1,offset:0},sec:{name:"sec",base:D.TIME,prefixes:k.LONG,value:1,offset:0},minute:{name:"minute",base:D.TIME,prefixes:k.NONE,value:60,offset:0},hour:{name:"hour",base:D.TIME,prefixes:k.NONE,value:3600,offset:0},day:{name:"day",base:D.TIME,prefixes:k.NONE,value:86400,offset:0},week:{name:"week",base:D.TIME,prefixes:k.NONE,value:604800,offset:0},month:{name:"month",base:D.TIME,prefixes:k.NONE,value:2629800,offset:0},year:{name:"year",base:D.TIME,prefixes:k.NONE,value:31557600,offset:0},decade:{name:"decade",base:D.TIME,prefixes:k.NONE,value:315576e3,offset:0},century:{name:"century",base:D.TIME,prefixes:k.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:D.TIME,prefixes:k.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:D.FREQUENCY,prefixes:k.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:D.FREQUENCY,prefixes:k.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:D.ANGLE,prefixes:k.SHORT,value:1,offset:0},radian:{name:"radian",base:D.ANGLE,prefixes:k.LONG,value:1,offset:0},deg:{name:"deg",base:D.ANGLE,prefixes:k.SHORT,value:null,offset:0},degree:{name:"degree",base:D.ANGLE,prefixes:k.LONG,value:null,offset:0},grad:{name:"grad",base:D.ANGLE,prefixes:k.SHORT,value:null,offset:0},gradian:{name:"gradian",base:D.ANGLE,prefixes:k.LONG,value:null,offset:0},cycle:{name:"cycle",base:D.ANGLE,prefixes:k.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:D.ANGLE,prefixes:k.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:D.ANGLE,prefixes:k.NONE,value:null,offset:0},A:{name:"A",base:D.CURRENT,prefixes:k.SHORT,value:1,offset:0},ampere:{name:"ampere",base:D.CURRENT,prefixes:k.LONG,value:1,offset:0},K:{name:"K",base:D.TEMPERATURE,prefixes:k.NONE,value:1,offset:0},degC:{name:"degC",base:D.TEMPERATURE,prefixes:k.NONE,value:1,offset:273.15},degF:{name:"degF",base:D.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:D.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:D.TEMPERATURE,prefixes:k.NONE,value:1,offset:0},celsius:{name:"celsius",base:D.TEMPERATURE,prefixes:k.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:D.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:D.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:D.AMOUNT_OF_SUBSTANCE,prefixes:k.SHORT,value:1,offset:0},mole:{name:"mole",base:D.AMOUNT_OF_SUBSTANCE,prefixes:k.LONG,value:1,offset:0},cd:{name:"cd",base:D.LUMINOUS_INTENSITY,prefixes:k.SHORT,value:1,offset:0},candela:{name:"candela",base:D.LUMINOUS_INTENSITY,prefixes:k.LONG,value:1,offset:0},N:{name:"N",base:D.FORCE,prefixes:k.SHORT,value:1,offset:0},newton:{name:"newton",base:D.FORCE,prefixes:k.LONG,value:1,offset:0},dyn:{name:"dyn",base:D.FORCE,prefixes:k.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:D.FORCE,prefixes:k.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:D.FORCE,prefixes:k.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:D.FORCE,prefixes:k.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:D.FORCE,prefixes:k.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:D.FORCE,prefixes:k.NONE,value:9.80665,offset:0},J:{name:"J",base:D.ENERGY,prefixes:k.SHORT,value:1,offset:0},joule:{name:"joule",base:D.ENERGY,prefixes:k.SHORT,value:1,offset:0},erg:{name:"erg",base:D.ENERGY,prefixes:k.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:D.ENERGY,prefixes:k.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:D.ENERGY,prefixes:k.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:D.ENERGY,prefixes:k.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:D.ENERGY,prefixes:k.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:D.POWER,prefixes:k.SHORT,value:1,offset:0},watt:{name:"watt",base:D.POWER,prefixes:k.LONG,value:1,offset:0},hp:{name:"hp",base:D.POWER,prefixes:k.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:D.POWER,prefixes:k.SHORT,value:y.I,offset:0},VA:{name:"VA",base:D.POWER,prefixes:k.SHORT,value:1,offset:0},Pa:{name:"Pa",base:D.PRESSURE,prefixes:k.SHORT,value:1,offset:0},psi:{name:"psi",base:D.PRESSURE,prefixes:k.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:D.PRESSURE,prefixes:k.NONE,value:101325,offset:0},bar:{name:"bar",base:D.PRESSURE,prefixes:k.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:D.PRESSURE,prefixes:k.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:D.PRESSURE,prefixes:k.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:D.PRESSURE,prefixes:k.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:D.PRESSURE,prefixes:k.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:D.ELECTRIC_CHARGE,prefixes:k.LONG,value:1,offset:0},C:{name:"C",base:D.ELECTRIC_CHARGE,prefixes:k.SHORT,value:1,offset:0},farad:{name:"farad",base:D.ELECTRIC_CAPACITANCE,prefixes:k.LONG,value:1,offset:0},F:{name:"F",base:D.ELECTRIC_CAPACITANCE,prefixes:k.SHORT,value:1,offset:0},volt:{name:"volt",base:D.ELECTRIC_POTENTIAL,prefixes:k.LONG,value:1,offset:0},V:{name:"V",base:D.ELECTRIC_POTENTIAL,prefixes:k.SHORT,value:1,offset:0},ohm:{name:"ohm",base:D.ELECTRIC_RESISTANCE,prefixes:k.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:D.ELECTRIC_INDUCTANCE,prefixes:k.LONG,value:1,offset:0},H:{name:"H",base:D.ELECTRIC_INDUCTANCE,prefixes:k.SHORT,value:1,offset:0},siemens:{name:"siemens",base:D.ELECTRIC_CONDUCTANCE,prefixes:k.LONG,value:1,offset:0},S:{name:"S",base:D.ELECTRIC_CONDUCTANCE,prefixes:k.SHORT,value:1,offset:0},weber:{name:"weber",base:D.MAGNETIC_FLUX,prefixes:k.LONG,value:1,offset:0},Wb:{name:"Wb",base:D.MAGNETIC_FLUX,prefixes:k.SHORT,value:1,offset:0},tesla:{name:"tesla",base:D.MAGNETIC_FLUX_DENSITY,prefixes:k.LONG,value:1,offset:0},T:{name:"T",base:D.MAGNETIC_FLUX_DENSITY,prefixes:k.SHORT,value:1,offset:0},b:{name:"b",base:D.BIT,prefixes:k.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:D.BIT,prefixes:k.BINARY_LONG,value:1,offset:0},B:{name:"B",base:D.BIT,prefixes:k.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:D.BIT,prefixes:k.BINARY_LONG,value:8,offset:0}},P={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function F(e){if("BigNumber"===e.number){var t=Dh(w);B.rad.value=new w(1),B.deg.value=t.div(180),B.grad.value=t.div(200),B.cycle.value=t.times(2),B.arcsec.value=t.div(648e3),B.arcmin.value=t.div(10800)}else B.rad.value=1,B.deg.value=Math.PI/180,B.grad.value=Math.PI/200,B.cycle.value=2*Math.PI,B.arcsec.value=Math.PI/648e3,B.arcmin.value=Math.PI/10800;B.radian.value=B.rad.value,B.degree.value=B.deg.value,B.gradian.value=B.grad.value}F(s),i&&i("config",(function(e,t){e.number!==t.number&&F(e)}));var j={si:{NONE:{unit:L,prefix:k.NONE[""]},LENGTH:{unit:B.m,prefix:k.SHORT[""]},MASS:{unit:B.g,prefix:k.SHORT.k},TIME:{unit:B.s,prefix:k.SHORT[""]},CURRENT:{unit:B.A,prefix:k.SHORT[""]},TEMPERATURE:{unit:B.K,prefix:k.SHORT[""]},LUMINOUS_INTENSITY:{unit:B.cd,prefix:k.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:B.mol,prefix:k.SHORT[""]},ANGLE:{unit:B.rad,prefix:k.SHORT[""]},BIT:{unit:B.bits,prefix:k.SHORT[""]},FORCE:{unit:B.N,prefix:k.SHORT[""]},ENERGY:{unit:B.J,prefix:k.SHORT[""]},POWER:{unit:B.W,prefix:k.SHORT[""]},PRESSURE:{unit:B.Pa,prefix:k.SHORT[""]},ELECTRIC_CHARGE:{unit:B.C,prefix:k.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:B.F,prefix:k.SHORT[""]},ELECTRIC_POTENTIAL:{unit:B.V,prefix:k.SHORT[""]},ELECTRIC_RESISTANCE:{unit:B.ohm,prefix:k.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:B.H,prefix:k.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:B.S,prefix:k.SHORT[""]},MAGNETIC_FLUX:{unit:B.Wb,prefix:k.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:B.T,prefix:k.SHORT[""]},FREQUENCY:{unit:B.Hz,prefix:k.SHORT[""]}}};j.cgs=JSON.parse(JSON.stringify(j.si)),j.cgs.LENGTH={unit:B.m,prefix:k.SHORT.c},j.cgs.MASS={unit:B.g,prefix:k.SHORT[""]},j.cgs.FORCE={unit:B.dyn,prefix:k.SHORT[""]},j.cgs.ENERGY={unit:B.erg,prefix:k.NONE[""]},j.us=JSON.parse(JSON.stringify(j.si)),j.us.LENGTH={unit:B.ft,prefix:k.NONE[""]},j.us.MASS={unit:B.lbm,prefix:k.NONE[""]},j.us.TEMPERATURE={unit:B.degF,prefix:k.NONE[""]},j.us.FORCE={unit:B.lbf,prefix:k.NONE[""]},j.us.ENERGY={unit:B.BTU,prefix:k.BTU[""]},j.us.POWER={unit:B.hp,prefix:k.NONE[""]},j.us.PRESSURE={unit:B.psi,prefix:k.NONE[""]},j.auto=JSON.parse(JSON.stringify(j.si));var U=j.auto;for(var q in _.setUnitSystem=function(e){if(!Ao(j,e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(j).join(", "));U=j[e]},_.getUnitSystem=function(){for(var e in j)if(Ao(j,e)&&j[e]===U)return e},_.typeConverters={BigNumber:function(e){return new w(e+"")},Fraction:function(e){return new b(e)},Complex:function(e){return e},number:function(e){return e}},_._getNumberConverter=function(e){if(!_.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return _.typeConverters[e]},B)if(Ao(B,q)){var V=B[q];V.dimensions=V.base.dimensions}for(var H in P)if(Ao(P,H)){var $=B[P[H]],W={};for(var G in $)Ao($,G)&&(W[G]=$[G]);W.name=H,B[H]=W}return _.isValidAlpha=function(e){return/^[a-zA-Z]$/.test(e)},_.createUnit=function(e,t){if("object"!=typeof e)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var n in e)if(Ao(e,n)&&_.deleteUnit(n),e[n].aliases)for(var r=0;r<e[n].aliases.length;r++)_.deleteUnit(e[n].aliases[r]);var i;for(var s in e)Ao(e,s)&&(i=_.createUnitSingle(s,e[s]));return i},_.createUnitSingle=function(e,t,n){if(null==t&&(t={}),"string"!=typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Ao(B,e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(e){for(var t=0;t<e.length;t++){if(r=e.charAt(t),0===t&&!_.isValidAlpha(r))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(t>0&&!_.isValidAlpha(r)&&!E(r))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}}(e);var i,s,a,o=null,u=[],c=0;if(t&&"Unit"===t.type)o=t.clone();else if("string"==typeof t)""!==t&&(i=t);else{if("object"!=typeof t)throw new TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');i=t.definition,s=t.prefixes,c=t.offset,a=t.baseName,t.aliases&&(u=t.aliases.valueOf())}if(u)for(var l=0;l<u.length;l++)if(Ao(B,u[l]))throw new Error('Cannot create alias "'+u[l]+'": a unit with that name already exists');if(i&&"string"==typeof i&&!o)try{o=_.parse(i,{allowNoUnits:!0})}catch(t){throw t.message='Could not create unit "'+e+'" from "'+i+'": '+t.message,t}else i&&"Unit"===i.type&&(o=i.clone());u=u||[],c=c||0,s=s&&s.toUpperCase&&k[s.toUpperCase()]||k.NONE;var h={};if(o){h={name:e,value:o.value,dimensions:o.dimensions.slice(0),prefixes:s,offset:c};var p=!1;for(var f in D)if(Ao(D,f)){for(var d=!0,m=0;m<z.length;m++)if(Math.abs((h.dimensions[m]||0)-(D[f].dimensions[m]||0))>1e-12){d=!1;break}if(d){p=!0,h.base=D[f];break}}if(!p){a=a||e+"_STUFF";var g={dimensions:o.dimensions.slice(0)};g.key=a,D[a]=g,U[a]={unit:h,prefix:k.NONE[""]},h.base=D[a]}}else{if(a=a||e+"_STUFF",z.indexOf(a)>=0)throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var v in z.push(a),D)Ao(D,v)&&(D[v].dimensions[z.length-1]=0);for(var y={dimensions:[]},w=0;w<z.length;w++)y.dimensions[w]=0;y.dimensions[z.length-1]=1,y.key=a,D[a]=y,h={name:e,value:1,dimensions:D[a].dimensions.slice(0),prefixes:s,offset:c,base:D[a]},U[a]={unit:h,prefix:k.NONE[""]}}_.UNITS[e]=h;for(var b=0;b<u.length;b++){var x=u[b],M={};for(var N in h)Ao(h,N)&&(M[N]=h[N]);M.name=x,_.UNITS[x]=M}return delete A.cache,new _(null,e)},_.deleteUnit=function(e){delete _.UNITS[e]},_.PREFIXES=k,_.BASE_DIMENSIONS=z,_.BASE_UNITS=D,_.UNIT_SYSTEMS=j,_.UNITS=B,_}),{isClass:!0}),Uh=gu("unit",["typed","Unit"],(e=>{var{typed:t,Unit:n}=e;return t("unit",{Unit:function(e){return e.clone()},string:function(e){return n.isValuelessUnit(e)?new n(null,e):n.parse(e,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(e,t){return new n(e,t)},"Array | Matrix":function(e){return ll(e,this)}})})),qh=gu("createUnit",["typed","Unit"],(e=>{var{typed:t,Unit:n}=e;return t("createUnit",{"Object, Object":function(e,t){return n.createUnit(e,t)},Object:function(e){return n.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,t,r){var i={};return i[e]=t,n.createUnit(i,r)},"string, Unit | string | Object":function(e,t){var r={};return r[e]=t,n.createUnit(r,{})},string:function(e){var t={};return t[e]={},n.createUnit(t,{})}})})),Vh=gu("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(e=>{var{typed:t,matrix:n,addScalar:r,equalScalar:i,DenseMatrix:s,SparseMatrix:a}=e,o=Pl({typed:t}),u=Fl({typed:t,equalScalar:i}),c=jl({typed:t,DenseMatrix:s}),l=Ul({typed:t}),h=Dl({typed:t});return t("add",Eo({"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,r)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,r,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,r,!0)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,r)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"DenseMatrix, any":function(e,t){return h(e,t,r,!1)},"SparseMatrix, any":function(e,t){return c(e,t,r,!1)},"any, DenseMatrix":function(e,t){return h(t,e,r,!0)},"any, SparseMatrix":function(e,t){return c(t,e,r,!0)},"Array, any":function(e,t){return h(n(e),t,r,!1).valueOf()},"any, Array":function(e,t){return h(n(t),e,r,!0).valueOf()},"any, any":r,"any, any, ...any":function(e,t,n){for(var r=this(e,t),i=0;i<n.length;i++)r=this(r,n[i]);return r}},r.signatures))})),Hh=gu("dot",["typed","addScalar","multiplyScalar","conj","size"],(e=>{var{typed:t,addScalar:n,multiplyScalar:r,conj:i,size:s}=e;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(e,s){var u=a(e,s),c=Va(e)?e._data:e,l=Va(e)?e._datatype:void 0,h=Va(s)?s._data:s,p=Va(s)?s._datatype:void 0,f=2===o(e).length,d=2===o(s).length,m=n,g=r;if(l&&p&&l===p&&"string"==typeof l){var v=l;m=t.find(n,[v,v]),g=t.find(r,[v,v])}if(!f&&!d){for(var y=g(i(c[0]),h[0]),w=1;w<u;w++)y=m(y,g(i(c[w]),h[w]));return y}if(!f&&d){for(var b=g(i(c[0]),h[0][0]),x=1;x<u;x++)b=m(b,g(i(c[x]),h[x][0]));return b}if(f&&!d){for(var _=g(i(c[0][0]),h[0]),M=1;M<u;M++)_=m(_,g(i(c[M][0]),h[M]));return _}if(f&&d){for(var E=g(i(c[0][0]),h[0][0]),N=1;N<u;N++)E=m(E,g(i(c[N][0]),h[N][0]));return E}},"SparseMatrix, SparseMatrix":function(e,t){a(e,t);for(var i=e._index,s=e._values,o=t._index,u=t._values,c=0,l=n,h=r,p=0,f=0;p<i.length&&f<o.length;){var d=i[p],m=o[f];d<m?p++:d>m?f++:d===m&&(c=l(c,h(s[p],u[f])),p++,f++)}return c}});function a(e,t){var n,r,i=o(e),s=o(t);if(1===i.length)n=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");n=i[0]}if(1===s.length)r=s[0];else{if(2!==s.length||1!==s[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+s.join(", ")+")");r=s[0]}if(n!==r)throw new RangeError("Vectors must have equal length ("+n+" != "+r+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}function o(e){return Va(e)?e.size():s(e)}})),$h={end:!0},Wh=gu("Node",["mathWithTransform"],(e=>{var{mathWithTransform:t}=e;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.evaluate=function(e){return this.compile().evaluate(e)},n.prototype.type="Node",n.prototype.isNode=!0,n.prototype.comment="",n.prototype.compile=function(){var e=this._compile(t,{}),n={};return{evaluate:function(t){var r=t||{};return function(e){for(var t in e)if(Ao(e,t)&&t in $h)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}(r),e(r,n,null)}}},n.prototype._compile=function(e,t){throw new Error("Method _compile should be implemented by type "+this.type)},n.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},n.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},n.prototype._ifNode=function(e){if(!fo(e))throw new TypeError("Callback function must return a Node");return e},n.prototype.traverse=function(e){e(this,null,null),function e(t,n){t.forEach((function(t,r,i){n(t,r,i),e(t,n)}))}(this,e)},n.prototype.transform=function(e){return function t(n,r,i){var s=e(n,r,i);return s!==n?s:n.map(t)}(this,null,null)},n.prototype.filter=function(e){var t=[];return this.traverse((function(n,r,i){e(n,r,i)&&t.push(n)})),t},n.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},n.prototype.cloneDeep=function(){return this.map((function(e){return e.cloneDeep()}))},n.prototype.equals=function(e){return!!e&&So(this,e)},n.prototype.toString=function(e){var t;if(e&&"object"==typeof e)switch(typeof e.handler){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toString(e)},n.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},n.prototype.toHTML=function(e){var t;if(e&&"object"==typeof e)switch(typeof e.handler){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this.toHTML(e)},n.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},n.prototype.toTex=function(e){var t;if(e&&"object"==typeof e)switch(typeof e.handler){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toTex(e)},n.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},n.prototype.getIdentifier=function(){return this.type},n.prototype.getContent=function(){return this},n}),{isClass:!0,isNode:!0});function Gh(e){return e&&e.isIndexError?new nu(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}function Yh(e){var{subset:t}=e;return function(e,n){try{if(Array.isArray(e))return t(e,n);if(e&&"function"==typeof e.subset)return e.subset(n);if("string"==typeof e)return t(e,n);if("object"==typeof e){if(!n.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return ah(e,n.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(e){throw Gh(e)}}}var Zh=gu("AccessorNode",["subset","Node"],(e=>{var{subset:t,Node:n}=e,r=Yh({subset:t});function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!fo(e))throw new TypeError('Node expected for parameter "object"');if(!po(t))throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=t,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function s(e){return!(io(e)||so(e)||co(e)||ho(e)||mo(e)||vo(e)||wo(e))}return i.prototype=new n,i.prototype.type="AccessorNode",i.prototype.isAccessorNode=!0,i.prototype._compile=function(e,t){var n=this.object._compile(e,t),i=this.index._compile(e,t);if(this.index.isObjectProperty()){var s=this.index.getObjectProperty();return function(e,t,r){return ah(n(e,t,r),s)}}return function(e,t,s){var a=n(e,t,s),o=i(e,t,a);return r(a,o)}},i.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},i.prototype.map=function(e){return new i(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},i.prototype.clone=function(){return new i(this.object,this.index)},i.prototype._toString=function(e){var t=this.object.toString(e);return s(this.object)&&(t="("+t+")"),t+this.index.toString(e)},i.prototype.toHTML=function(e){var t=this.object.toHTML(e);return s(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)},i.prototype._toTex=function(e){var t=this.object.toTex(e);return s(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e)},i.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},i.fromJSON=function(e){return new i(e.object,e.index)},i}),{isClass:!0,isNode:!0}),Xh=gu("ArrayNode",["Node"],(e=>{var{Node:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(fo))throw new TypeError("Array containing Nodes expected")}return n.prototype=new t,n.prototype.type="ArrayNode",n.prototype.isArrayNode=!0,n.prototype._compile=function(e,t){var n=hu(this.items,(function(n){return n._compile(e,t)}));if("Array"!==e.config.matrix){var r=e.matrix;return function(e,t,i){return r(hu(n,(function(n){return n(e,t,i)})))}}return function(e,t,r){return hu(n,(function(n){return n(e,t,r)}))}},n.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++)e(this.items[t],"items["+t+"]",this)},n.prototype.map=function(e){for(var t=[],r=0;r<this.items.length;r++)t[r]=this._ifNode(e(this.items[r],"items["+r+"]",this));return new n(t)},n.prototype.clone=function(){return new n(this.items.slice(0))},n.prototype._toString=function(e){return"["+this.items.map((function(t){return t.toString(e)})).join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},n.fromJSON=function(e){return new n(e.items)},n.prototype.toHTML=function(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(t){return t.toHTML(e)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},n.prototype._toTex=function(e){var t="\\begin{bmatrix}";return this.items.forEach((function(n){n.items?t+=n.items.map((function(t){return t.toTex(e)})).join("&"):t+=n.toTex(e),t+="\\\\"})),t+="\\end{bmatrix}"},n}),{isClass:!0,isNode:!0}),Jh=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function Qh(e,t){var n=e;"keep"!==t&&(n=e.getContent());for(var r=n.getIdentifier(),i=0;i<Jh.length;i++)if(r in Jh[i])return i;return null}function Kh(e,t){var n=e;"keep"!==t&&(n=e.getContent());var r=n.getIdentifier(),i=Qh(n,t);if(null===i)return null;var s=Jh[i][r];if(Ao(s,"associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+s.associativity+"'.")}return null}function ep(e,t,n){var r="keep"!==n?e.getContent():e,i="keep"!==n?e.getContent():t,s=r.getIdentifier(),a=i.getIdentifier(),o=Qh(r,n);if(null===o)return null;var u=Jh[o][s];if(Ao(u,"associativeWith")&&u.associativeWith instanceof Array){for(var c=0;c<u.associativeWith.length;c++)if(u.associativeWith[c]===a)return!0;return!1}return null}var tp=gu("AssignmentNode",["subset","?matrix","Node"],(e=>{var{subset:t,matrix:n,Node:r}=e,i=Yh({subset:t}),s=function(e){var{subset:t,matrix:n}=e;return function(e,r,i){try{if(Array.isArray(e))return n(e).subset(r,i).valueOf();if(e&&"function"==typeof e.subset)return e.subset(r,i);if("string"==typeof e)return t(e,r,i);if("object"==typeof e){if(!r.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return oh(e,r.getObjectProperty(),i),e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(e){throw Gh(e)}}}({subset:t,matrix:n});function a(e,t,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=n?t:null,this.value=n||t,!wo(e)&&!io(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(wo(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!po(this.index))throw new TypeError('IndexNode expected as "index"');if(!fo(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function o(e,t){t||(t="keep");var n=Qh(e,t),r=Qh(e.value,t);return"all"===t||null!==r&&r<=n}return a.prototype=new r,a.prototype.type="AssignmentNode",a.prototype.isAssignmentNode=!0,a.prototype._compile=function(e,t){var n=this.object._compile(e,t),r=this.index?this.index._compile(e,t):null,a=this.value._compile(e,t),o=this.object.name;if(this.index){if(this.index.isObjectProperty()){var u=this.index.getObjectProperty();return function(e,t,r){var i=n(e,t,r),s=a(e,t,r);return oh(i,u,s)}}if(wo(this.object))return function(e,t,i){var u=n(e,t,i),c=a(e,t,i),l=r(e,t,u);return oh(e,o,s(u,l,c)),c};var c=this.object.object._compile(e,t);if(this.object.index.isObjectProperty()){var l=this.object.index.getObjectProperty();return function(e,t,n){var i=c(e,t,n),o=ah(i,l),u=r(e,t,o),h=a(e,t,n);return oh(i,l,s(o,u,h)),h}}var h=this.object.index._compile(e,t);return function(e,t,n){var o=c(e,t,n),u=h(e,t,o),l=i(o,u),p=r(e,t,l),f=a(e,t,n);return s(o,u,s(l,p,f)),f}}if(!wo(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,n){return oh(e,o,a(e,t,n))}},a.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},a.prototype.map=function(e){return new a(this._ifNode(e(this.object,"object",this)),this.index?this._ifNode(e(this.index,"index",this)):null,this._ifNode(e(this.value,"value",this)))},a.prototype.clone=function(){return new a(this.object,this.index,this.value)},a.prototype._toString=function(e){var t=this.object.toString(e),n=this.index?this.index.toString(e):"",r=this.value.toString(e);return o(this,e&&e.parenthesis)&&(r="("+r+")"),t+n+" = "+r},a.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},a.fromJSON=function(e){return new a(e.object,e.index,e.value)},a.prototype.toHTML=function(e){var t=this.object.toHTML(e),n=this.index?this.index.toHTML(e):"",r=this.value.toHTML(e);return o(this,e&&e.parenthesis)&&(r='<span class="math-paranthesis math-round-parenthesis">(</span>'+r+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+n+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+r},a.prototype._toTex=function(e){var t=this.object.toTex(e),n=this.index?this.index.toTex(e):"",r=this.value.toTex(e);return o(this,e&&e.parenthesis)&&(r="\\left(".concat(r,"\\right)")),t+n+":="+r},a}),{isClass:!0,isNode:!0}),np=gu("BlockNode",["ResultSet","Node"],(e=>{var{ResultSet:t,Node:n}=e;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map((function(e){var t=e&&e.node,n=!e||void 0===e.visible||e.visible;if(!fo(t))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:n}}))}return r.prototype=new n,r.prototype.type="BlockNode",r.prototype.isBlockNode=!0,r.prototype._compile=function(e,n){var r=hu(this.blocks,(function(t){return{evaluate:t.node._compile(e,n),visible:t.visible}}));return function(e,n,i){var s=[];return pu(r,(function(t){var r=t.evaluate(e,n,i);t.visible&&s.push(r)})),new t(s)}},r.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},r.prototype.map=function(e){for(var t=[],n=0;n<this.blocks.length;n++){var i=this.blocks[n],s=this._ifNode(e(i.node,"blocks["+n+"].node",this));t[n]={node:s,visible:i.visible}}return new r(t)},r.prototype.clone=function(){return new r(this.blocks.map((function(e){return{node:e.node,visible:e.visible}})))},r.prototype._toString=function(e){return this.blocks.map((function(t){return t.node.toString(e)+(t.visible?"":";")})).join("\n")},r.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},r.fromJSON=function(e){return new r(e.blocks)},r.prototype.toHTML=function(e){return this.blocks.map((function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},r.prototype._toTex=function(e){return this.blocks.map((function(t){return t.node.toTex(e)+(t.visible?"":";")})).join("\\;\\;\n")},r}),{isClass:!0,isNode:!0}),rp=gu("ConditionalNode",["Node"],(e=>{var{Node:t}=e;function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!fo(e))throw new TypeError("Parameter condition must be a Node");if(!fo(t))throw new TypeError("Parameter trueExpr must be a Node");if(!fo(r))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=r}return n.prototype=new t,n.prototype.type="ConditionalNode",n.prototype.isConditionalNode=!0,n.prototype._compile=function(e,t){var n=this.condition._compile(e,t),r=this.trueExpr._compile(e,t),i=this.falseExpr._compile(e,t);return function(e,t,s){return function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(Ba(e))return!e.isZero();if(Pa(e))return!(!e.re&&!e.im);if(ja(e))return!!e.value}if(null==e)return!1;throw new TypeError('Unsupported type of condition "'+xo(e)+'"')}(n(e,t,s))?r(e,t,s):i(e,t,s)}},n.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},n.prototype.map=function(e){return new n(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},n.prototype.clone=function(){return new n(this.condition,this.trueExpr,this.falseExpr)},n.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=Qh(this,t),r=this.condition.toString(e),i=Qh(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r="("+r+")");var s=this.trueExpr.toString(e),a=Qh(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==a&&a<=n)&&(s="("+s+")");var o=this.falseExpr.toString(e),u=Qh(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=n)&&(o="("+o+")"),r+" ? "+s+" : "+o},n.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},n.fromJSON=function(e){return new n(e.condition,e.trueExpr,e.falseExpr)},n.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=Qh(this,t),r=this.condition.toHTML(e),i=Qh(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.trueExpr.toHTML(e),a=Qh(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==a&&a<=n)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.falseExpr.toHTML(e),u=Qh(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=n)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+'<span class="math-operator math-conditional-operator">?</span>'+s+'<span class="math-operator math-conditional-operator">:</span>'+o},n.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},n}),{isClass:!0,isNode:!0}),ip=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sp={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},ap={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},op=function(e,t){return ip({},e,t)},up={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},cp={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},lp={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(cp.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(cp.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(cp.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(cp.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(cp.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(cp.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(cp.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(cp.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(cp.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(cp.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(cp.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(cp.bitAnd,"${args[1]}\\right)")},bitNot:{1:cp.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(cp.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(cp.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(cp.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(cp.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(cp.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(cp.and,"${args[1]}\\right)")},not:{1:cp.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(cp.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(cp.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(cp.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(cp.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(cp.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(cp.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(cp.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(cp.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(cp.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(cp.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(cp.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(cp.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(cp.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(up.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},hp={deg:"^\\circ"};function pp(e){return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preserveFormatting,r=void 0!==n&&n,i=t.escapeMapFn,s=void 0===i?op:i,a=String(e),o="",u=s(ip({},sp),r?ip({},ap):{}),c=Object.keys(u),l=function(){var e=!1;c.forEach((function(t,n){e||a.length>=t.length&&a.slice(0,t.length)===t&&(o+=u[c[n]],a=a.slice(t.length,a.length),e=!0)})),e||(o+=a.slice(0,1),a=a.slice(1,a.length))};a;)l();return o}(e,{preserveFormatting:!0})}function fp(e,t){return(t=void 0!==t&&t)?Ao(hp,e)?hp[e]:"\\mathrm{"+pp(e)+"}":Ao(up,e)?up[e]:pp(e)}var dp=gu("ConstantNode",["Node"],(e=>{var{Node:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.value=e}return n.prototype=new t,n.prototype.type="ConstantNode",n.prototype.isConstantNode=!0,n.prototype._compile=function(e,t){var n=this.value;return function(){return n}},n.prototype.forEach=function(e){},n.prototype.map=function(e){return this.clone()},n.prototype.clone=function(){return new n(this.value)},n.prototype._toString=function(e){return Jo(this.value,e)},n.prototype.toHTML=function(e){var t=this._toString(e);switch(xo(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}},n.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},n.fromJSON=function(e){return new n(e.value)},n.prototype._toTex=function(e){var t=this._toString(e);switch(xo(this.value)){case"string":return"\\mathtt{"+pp(t)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var n=t.toLowerCase().indexOf("e");return-1!==n?t.substring(0,n)+"\\cdot10^{"+t.substring(n+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t}},n}),{isClass:!0,isNode:!0}),mp=gu("FunctionAssignmentNode",["typed","Node"],(e=>{var{typed:t,Node:n}=e;function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!fo(n))throw new TypeError('Node expected for parameter "expr"');if(e in $h)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t.map((function(e){return e&&e.name||e})),this.types=t.map((function(e){return e&&e.type||"any"})),this.expr=n}function i(e,t){var n=Qh(e,t),r=Qh(e.expr,t);return"all"===t||null!==r&&r<=n}return r.prototype=new n,r.prototype.type="FunctionAssignmentNode",r.prototype.isFunctionAssignmentNode=!0,r.prototype._compile=function(e,n){var r=Object.create(n);pu(this.params,(function(e){r[e]=!0}));var i=this.expr._compile(e,r),s=this.name,a=this.params,o=fu(this.types,","),u=s+"("+fu(this.params,", ")+")";return function(e,n,r){var c={};c[o]=function(){for(var t=Object.create(n),s=0;s<a.length;s++)t[a[s]]=arguments[s];return i(e,t,r)};var l=t(s,c);return l.syntax=u,oh(e,s,l),l}},r.prototype.forEach=function(e){e(this.expr,"expr",this)},r.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new r(this.name,this.params.slice(0),t)},r.prototype.clone=function(){return new r(this.name,this.params.slice(0),this.expr)},r.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toString(e);return i(this,t)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n},r.prototype.toJSON=function(){var e=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(t,n){return{name:t,type:e[n]}})),expr:this.expr}},r.fromJSON=function(e){return new r(e.name,e.params,e.expr)},r.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=[],r=0;r<this.params.length;r++)n.push('<span class="math-symbol math-parameter">'+Ko(this.params[r])+"</span>");var s=this.expr.toHTML(e);return i(this,t)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Ko(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+s},r.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toTex(e);return i(this,t)&&(n="\\left(".concat(n,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(fp).join(",")+"\\right):="+n},r}),{isClass:!0,isNode:!0}),gp=gu("IndexNode",["Range","Node","size"],(e=>{var{Range:t,Node:n,size:r}=e;function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=t||!1,!Array.isArray(e)||!e.every(fo))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}function s(e,n,r){return new t(Ba(e)?e.toNumber():e,Ba(n)?n.toNumber():n,Ba(r)?r.toNumber():r)}return i.prototype=new n,i.prototype.type="IndexNode",i.prototype.isIndexNode=!0,i.prototype._compile=function(e,t){var n=hu(this.dimensions,(function(n,i){if(yo(n)){if(n.needsEnd()){var a=Object.create(t);a.end=!0;var o=n.start._compile(e,a),u=n.end._compile(e,a),c=n.step?n.step._compile(e,a):function(){return 1};return function(e,t,n){var a=r(n).valueOf(),l=Object.create(t);return l.end=a[i],s(o(e,l,n),u(e,l,n),c(e,l,n))}}var l=n.start._compile(e,t),h=n.end._compile(e,t),p=n.step?n.step._compile(e,t):function(){return 1};return function(e,t,n){return s(l(e,t,n),h(e,t,n),p(e,t,n))}}if(wo(n)&&"end"===n.name){var f=Object.create(t);f.end=!0;var d=n._compile(e,f);return function(e,t,n){var s=r(n).valueOf(),a=Object.create(t);return a.end=s[i],d(e,a,n)}}var m=n._compile(e,t);return function(e,t,n){return m(e,t,n)}})),i=ah(e,"index");return function(e,t,r){var s=hu(n,(function(n){return n(e,t,r)}));return i(...s)}},i.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},i.prototype.map=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this._ifNode(e(this.dimensions[n],"dimensions["+n+"]",this));return new i(t,this.dotNotation)},i.prototype.clone=function(){return new i(this.dimensions.slice(0),this.dotNotation)},i.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&co(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},i.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},i.fromJSON=function(e){return new i(e.dimensions,e.dotNotation)},i.prototype.toHTML=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this.dimensions[n].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Ko(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},i.prototype._toTex=function(e){var t=this.dimensions.map((function(t){return t.toTex(e)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},i}),{isClass:!0,isNode:!0}),vp=gu("ObjectNode",["Node"],(e=>{var{Node:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=e||{},e&&("object"!=typeof e||!Object.keys(e).every((function(t){return fo(e[t])}))))throw new TypeError("Object containing Nodes expected")}return n.prototype=new t,n.prototype.type="ObjectNode",n.prototype.isObjectNode=!0,n.prototype._compile=function(e,t){var n={};for(var r in this.properties)if(Ao(this.properties,r)){var i=Qo(r),s=JSON.parse(i);if(!uh(this.properties,s))throw new Error('No access to property "'+s+'"');n[s]=this.properties[r]._compile(e,t)}return function(e,t,r){var i={};for(var s in n)Ao(n,s)&&(i[s]=n[s](e,t,r));return i}},n.prototype.forEach=function(e){for(var t in this.properties)Ao(this.properties,t)&&e(this.properties[t],"properties["+Qo(t)+"]",this)},n.prototype.map=function(e){var t={};for(var r in this.properties)Ao(this.properties,r)&&(t[r]=this._ifNode(e(this.properties[r],"properties["+Qo(r)+"]",this)));return new n(t)},n.prototype.clone=function(){var e={};for(var t in this.properties)Ao(this.properties,t)&&(e[t]=this.properties[t]);return new n(e)},n.prototype._toString=function(e){var t=[];for(var n in this.properties)Ao(this.properties,n)&&t.push(Qo(n)+": "+this.properties[n].toString(e));return"{"+t.join(", ")+"}"},n.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},n.fromJSON=function(e){return new n(e.properties)},n.prototype.toHTML=function(e){var t=[];for(var n in this.properties)Ao(this.properties,n)&&t.push('<span class="math-symbol math-property">'+Ko(n)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[n].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},n.prototype._toTex=function(e){var t=[];for(var n in this.properties)Ao(this.properties,n)&&t.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(t.join("\n"),"\\end{array}\\right\\}")},n}),{isClass:!0,isNode:!0}),yp=gu("OperatorNode",["Node"],(e=>{var{Node:t}=e;function n(e,t,r,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof t)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(fo))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=e,this.fn=t,this.args=r||[]}function r(e,t,n,r,i){var s,a=Qh(e,t),o=Kh(e,t);if("all"===t||r.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return r.map((function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}}));switch(r.length){case 0:s=[];break;case 1:var u=Qh(r[0],t);if(i&&null!==u){var c,l;if("keep"===t?(c=r[0].getIdentifier(),l=e.getIdentifier()):(c=r[0].getContent().getIdentifier(),l=e.getContent().getIdentifier()),!1===Jh[a][l].latexLeftParens){s=[!1];break}if(!1===Jh[u][c].latexParens){s=[!1];break}}if(null===u){s=[!1];break}if(u<=a){s=[!0];break}s=[!1];break;case 2:var h,p,f=Qh(r[0],t),d=ep(e,r[0],t);h=null!==f&&(f===a&&"right"===o&&!d||f<a);var m,g,v,y=Qh(r[1],t),w=ep(e,r[1],t);p=null!==y&&(y===a&&"left"===o&&!w||y<a),i&&("keep"===t?(m=e.getIdentifier(),g=e.args[0].getIdentifier(),v=e.args[1].getIdentifier()):(m=e.getContent().getIdentifier(),g=e.args[0].getContent().getIdentifier(),v=e.args[1].getContent().getIdentifier()),null!==f&&(!1===Jh[a][m].latexLeftParens&&(h=!1),!1===Jh[f][g].latexParens&&(h=!1)),null!==y&&(!1===Jh[a][m].latexRightParens&&(p=!1),!1===Jh[y][v].latexParens&&(p=!1))),s=[h,p];break;default:"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()||(s=r.map((function(n){var r=Qh(n,t),i=ep(e,n,t),s=Kh(n,t);return null!==r&&(a===r&&o===s&&!i||r<a)})))}return r.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"auto"===t&&"hide"===n&&(s=r.map((function(e,t){var n="ParenthesisNode"===e.getIdentifier();return!(!s[t]&&!n)}))),s}return n.prototype=new t,n.prototype.type="OperatorNode",n.prototype.isOperatorNode=!0,n.prototype._compile=function(e,t){if("string"!=typeof this.fn||!ch(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var n=ah(e,this.fn),r=hu(this.args,(function(n){return n._compile(e,t)}));if(1===r.length){var i=r[0];return function(e,t,r){return n(i(e,t,r))}}if(2===r.length){var s=r[0],a=r[1];return function(e,t,r){return n(s(e,t,r),a(e,t,r))}}return function(e,t,i){return n.apply(null,hu(r,(function(n){return n(e,t,i)})))}},n.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},n.prototype.map=function(e){for(var t=[],r=0;r<this.args.length;r++)t[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new n(this.op,this.fn,t,this.implicit)},n.prototype.clone=function(){return new n(this.op,this.fn,this.args.slice(0),this.implicit)},n.prototype.isUnary=function(){return 1===this.args.length},n.prototype.isBinary=function(){return 2===this.args.length},n.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",i=this.args,s=r(this,t,n,i,!1);if(1===i.length){var a=Kh(this,t),o=i[0].toString(e);s[0]&&(o="("+o+")");var u=/[a-zA-Z]+/.test(this.op);return"right"===a?this.op+(u?" ":"")+o:"left"===a?o+(u?" ":"")+this.op:o+this.op}if(2===i.length){var c=i[0].toString(e),l=i[1].toString(e);return s[0]&&(c="("+c+")"),s[1]&&(l="("+l+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?c+" "+l:c+" "+this.op+" "+l}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var h=i.map((function(t,n){return t=t.toString(e),s[n]&&(t="("+t+")"),t}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?h.join(" "):h.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},n.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},n.fromJSON=function(e){return new n(e.op,e.fn,e.args,e.implicit)},n.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",i=this.args,s=r(this,t,n,i,!1);if(1===i.length){var a=Kh(this,t),o=i[0].toHTML(e);return s[0]&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Ko(this.op)+"</span>"+o:o+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Ko(this.op)+"</span>"}if(2===i.length){var u=i[0].toHTML(e),c=i[1].toHTML(e);return s[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),s[1]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+c:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ko(this.op)+"</span>"+c}var l=i.map((function(t,n){return t=t.toHTML(e),s[n]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t}));return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?l.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):l.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ko(this.op)+"</span>"):'<span class="math-function">'+Ko(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},n.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",i=this.args,s=r(this,t,n,i,!0),a=cp[this.fn];if(a=void 0===a?this.op:a,1===i.length){var o=Kh(this,t),u=i[0].toTex(e);return s[0]&&(u="\\left(".concat(u,"\\right)")),"right"===o?a+u:u+a}if(2===i.length){var c=i[0],l=c.toTex(e);s[0]&&(l="\\left(".concat(l,"\\right)"));var h,p=i[1].toTex(e);switch(s[1]&&(p="\\left(".concat(p,"\\right)")),h="keep"===t?c.getIdentifier():c.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+l+"}{"+p+"}";case"OperatorNode:pow":switch(l="{"+l+"}",p="{"+p+"}",h){case"ConditionalNode":case"OperatorNode:divide":l="\\left(".concat(l,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return l+"~"+p}return l+a+p}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=i.map((function(t,n){return t=t.toTex(e),s[n]&&(t="\\left(".concat(t,"\\right)")),t}));return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?f.join("~"):f.join(a)}return"\\mathrm{"+this.fn+"}\\left("+i.map((function(t){return t.toTex(e)})).join(",")+"\\right)"},n.prototype.getIdentifier=function(){return this.type+":"+this.fn},n}),{isClass:!0,isNode:!0}),wp=gu("ParenthesisNode",["Node"],(e=>{var{Node:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!fo(e))throw new TypeError('Node expected for parameter "content"');this.content=e}return n.prototype=new t,n.prototype.type="ParenthesisNode",n.prototype.isParenthesisNode=!0,n.prototype._compile=function(e,t){return this.content._compile(e,t)},n.prototype.getContent=function(){return this.content.getContent()},n.prototype.forEach=function(e){e(this.content,"content",this)},n.prototype.map=function(e){return new n(e(this.content,"content",this))},n.prototype.clone=function(){return new n(this.content)},n.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},n.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},n.fromJSON=function(e){return new n(e.content)},n.prototype.toHTML=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)},n.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e)},n}),{isClass:!0,isNode:!0}),bp=gu("RangeNode",["Node"],(e=>{var{Node:t}=e;function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!fo(e))throw new TypeError("Node expected");if(!fo(t))throw new TypeError("Node expected");if(r&&!fo(r))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=r||null}function r(e,t){var n=Qh(e,t),r={},i=Qh(e.start,t);if(r.start=null!==i&&i<=n||"all"===t,e.step){var s=Qh(e.step,t);r.step=null!==s&&s<=n||"all"===t}var a=Qh(e.end,t);return r.end=null!==a&&a<=n||"all"===t,r}return n.prototype=new t,n.prototype.type="RangeNode",n.prototype.isRangeNode=!0,n.prototype.needsEnd=function(){return this.filter((function(e){return wo(e)&&"end"===e.name})).length>0},n.prototype._compile=function(e,t){var n=e.range,r=this.start._compile(e,t),i=this.end._compile(e,t);if(this.step){var s=this.step._compile(e,t);return function(e,t,a){return n(r(e,t,a),i(e,t,a),s(e,t,a))}}return function(e,t,s){return n(r(e,t,s),i(e,t,s))}},n.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},n.prototype.map=function(e){return new n(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},n.prototype.clone=function(){return new n(this.start,this.end,this.step&&this.step)},n.prototype._toString=function(e){var t,n=r(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toString(e);if(n.start&&(i="("+i+")"),t=i,this.step){var s=this.step.toString(e);n.step&&(s="("+s+")"),t+=":"+s}var a=this.end.toString(e);return n.end&&(a="("+a+")"),t+":"+a},n.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(e){return new n(e.start,e.end,e.step)},n.prototype.toHTML=function(e){var t,n=r(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toHTML(e);if(n.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=i,this.step){var s=this.step.toHTML(e);n.step&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+s}var a=this.end.toHTML(e);return n.end&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+'<span class="math-operator math-range-operator">:</span>'+a},n.prototype._toTex=function(e){var t=r(this,e&&e.parenthesis?e.parenthesis:"keep"),n=this.start.toTex(e);if(t.start&&(n="\\left(".concat(n,"\\right)")),this.step){var i=this.step.toTex(e);t.step&&(i="\\left(".concat(i,"\\right)")),n+=":"+i}var s=this.end.toTex(e);return t.end&&(s="\\left(".concat(s,"\\right)")),n+":"+s},n}),{isClass:!0,isNode:!0}),xp=gu("RelationalNode",["Node"],(e=>{var{Node:t}=e;function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(t))throw new TypeError("Parameter params must be an array");if(e.length!==t.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=t}return n.prototype=new t,n.prototype.type="RelationalNode",n.prototype.isRelationalNode=!0,n.prototype._compile=function(e,t){var n=this,r=this.params.map((n=>n._compile(e,t)));return function(t,i,s){for(var a,o=r[0](t,i,s),u=0;u<n.conditionals.length;u++)if(a=o,o=r[u+1](t,i,s),!ah(e,n.conditionals[u])(a,o))return!1;return!0}},n.prototype.forEach=function(e){this.params.forEach(((t,n)=>e(t,"params["+n+"]",this)),this)},n.prototype.map=function(e){return new n(this.conditionals.slice(),this.params.map(((t,n)=>this._ifNode(e(t,"params["+n+"]",this))),this))},n.prototype.clone=function(){return new n(this.conditionals,this.params)},n.prototype._toString=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=Qh(this,t),r=this.params.map((function(r,i){var s=Qh(r,t);return"all"===t||null!==s&&s<=n?"("+r.toString(e)+")":r.toString(e)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=r[0],a=0;a<this.conditionals.length;a++)s+=" "+i[this.conditionals[a]]+" "+r[a+1];return s},n.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},n.fromJSON=function(e){return new n(e.conditionals,e.params)},n.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=Qh(this,t),r=this.params.map((function(r,i){var s=Qh(r,t);return"all"===t||null!==s&&s<=n?'<span class="math-parenthesis math-round-parenthesis">(</span>'+r.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':r.toHTML(e)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=r[0],a=0;a<this.conditionals.length;a++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ko(i[this.conditionals[a]])+"</span>"+r[a+1];return s},n.prototype._toTex=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=Qh(this,t),r=this.params.map((function(r,i){var s=Qh(r,t);return"all"===t||null!==s&&s<=n?"\\left("+r.toTex(e)+"\right)":r.toTex(e)})),i=r[0],s=0;s<this.conditionals.length;s++)i+=cp[this.conditionals[s]]+r[s+1];return i},n}),{isClass:!0,isNode:!0});function _p(){return(_p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mp(){return(Mp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ep={createBigNumberClass:el},Np={createComplexClass:rl},Sp={createMatrixClass:ul},Tp={MatrixDependencies:Sp,createDenseMatrixClass:cl},Op={createFractionClass:al},Cp={BigNumberDependencies:Ep,ComplexDependencies:Np,DenseMatrixDependencies:Tp,FractionDependencies:Op,createTyped:bu},Ap={typedDependencies:Cp,createEqualScalar:El},Rp={MatrixDependencies:Sp,equalScalarDependencies:Ap,typedDependencies:Cp,createSparseMatrixClass:Nl},kp={typedDependencies:Cp,createNumber:Sl},zp={FractionDependencies:Op,typedDependencies:Cp,createFraction:Ol},Dp={DenseMatrixDependencies:Tp,MatrixDependencies:Sp,SparseMatrixDependencies:Rp,typedDependencies:Cp,createMatrix:Cl},Ip={typedDependencies:Cp,createUnaryMinus:Al},Lp={typedDependencies:Cp,createAbs:Rl},Bp={typedDependencies:Cp,createAddScalar:kl},Pp={BigNumberDependencies:Ep,DenseMatrixDependencies:Tp,equalScalarDependencies:Ap,matrixDependencies:Dp,typedDependencies:Cp,zerosDependencies:{BigNumberDependencies:Ep,matrixDependencies:Dp,typedDependencies:Cp,createZeros:yh},createRound:Th},Fp={DenseMatrixDependencies:Tp,equalScalarDependencies:Ap,matrixDependencies:Dp,typedDependencies:Cp,createMod:Wl},jp={typedDependencies:Cp,createMultiplyScalar:Gl},Up={matrixDependencies:Dp,typedDependencies:Cp,createSize:sh},qp={addScalarDependencies:Bp,dotDependencies:{addScalarDependencies:Bp,conjDependencies:{typedDependencies:Cp,createConj:Ql},multiplyScalarDependencies:jp,sizeDependencies:Up,typedDependencies:Cp,createDot:Hh},equalScalarDependencies:Ap,matrixDependencies:Dp,multiplyScalarDependencies:jp,typedDependencies:Cp,createMultiply:Yl},Vp={DenseMatrixDependencies:Tp,addScalarDependencies:Bp,equalScalarDependencies:Ap,matrixDependencies:Dp,typedDependencies:Cp,unaryMinusDependencies:Ip,createSubtract:Zl},Hp={DenseMatrixDependencies:Tp,matrixDependencies:Dp,typedDependencies:Cp,createLarger:Rh},$p={BigNumberDependencies:Ep,DenseMatrixDependencies:Tp,SparseMatrixDependencies:Rp,matrixDependencies:Dp,typedDependencies:Cp,createIdentity:th},Wp={DenseMatrixDependencies:Tp,SparseMatrixDependencies:Rp,addScalarDependencies:Bp,equalScalarDependencies:Ap,matrixDependencies:Dp,typedDependencies:Cp,createAdd:Vh},Gp={bignumberDependencies:{BigNumberDependencies:Ep,typedDependencies:Cp,createBignumber:Tl},fractionDependencies:zp,numberDependencies:kp,createNumeric:bh},Yp={numericDependencies:Gp,typedDependencies:Cp,createDivideScalar:xh},Zp={matrixDependencies:Dp,typedDependencies:Cp,createSubset:fh},Xp={BigNumberDependencies:Ep,ComplexDependencies:Np,FractionDependencies:Op,absDependencies:Lp,addScalarDependencies:Bp,divideScalarDependencies:Yp,equalDependencies:{DenseMatrixDependencies:Tp,equalScalarDependencies:Ap,matrixDependencies:Dp,typedDependencies:Cp,createEqual:Ch},fixDependencies:{ComplexDependencies:Np,ceilDependencies:{equalScalarDependencies:Ap,matrixDependencies:Dp,roundDependencies:Pp,typedDependencies:Cp,createCeil:Il},floorDependencies:{equalScalarDependencies:Ap,matrixDependencies:Dp,roundDependencies:Pp,typedDependencies:Cp,createFloor:Bl},matrixDependencies:Dp,typedDependencies:Cp,createFix:Ll},formatDependencies:{typedDependencies:Cp,createFormat:wh},isNumericDependencies:{typedDependencies:Cp,createIsNumeric:xl},multiplyScalarDependencies:jp,numberDependencies:kp,powDependencies:{ComplexDependencies:Np,fractionDependencies:zp,identityDependencies:$p,matrixDependencies:Dp,multiplyDependencies:qp,numberDependencies:kp,typedDependencies:Cp,createPow:_h},roundDependencies:Pp,subtractDependencies:Vp,createUnitClass:jh},Jp={UnitDependencies:Xp,typedDependencies:Cp,createUnitFunction:Uh},Qp={UnitDependencies:Xp,typedDependencies:Cp,createCreateUnit:qh},Kp={createNode:Wh},ef={UnitDependencies:Xp,NodeDependencies:Kp,createSymbolNode:gu("SymbolNode",["math","?Unit","Node"],(e=>{var{math:t,Unit:n,Node:r}=e;function i(e){return!!n&&n.isValuelessUnit(e)}function s(e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}return s.prototype=new r,s.prototype.type="SymbolNode",s.prototype.isSymbolNode=!0,s.prototype._compile=function(e,t){var r=this.name;if(!0===t[r])return function(e,t,n){return t[r]};if(r in e)return function(t,n,i){return ah(r in t?t:e,r)};var s=i(r);return function(e,t,i){return r in e?ah(e,r):s?new n(null,r):function(e){throw new Error("Undefined symbol "+e)}(r)}},s.prototype.forEach=function(e){},s.prototype.map=function(e){return this.clone()},s.prototype.clone=function(){return new s(this.name)},s.prototype._toString=function(e){return this.name},s.prototype.toHTML=function(e){var t=Ko(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"},s.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},s.fromJSON=function(e){return new s(e.name)},s.prototype._toTex=function(e){var n=!1;void 0===t[this.name]&&i(this.name)&&(n=!0);var r=fp(this.name,n);return"\\"===r[0]?r:" "+r},s}),{isClass:!0,isNode:!0})},tf={parseDependencies:{AccessorNodeDependencies:{NodeDependencies:Kp,subsetDependencies:Zp,createAccessorNode:Zh},ArrayNodeDependencies:{NodeDependencies:Kp,createArrayNode:Xh},AssignmentNodeDependencies:{matrixDependencies:Dp,NodeDependencies:Kp,subsetDependencies:Zp,createAssignmentNode:tp},BlockNodeDependencies:{NodeDependencies:Kp,ResultSetDependencies:{createResultSet:Su},createBlockNode:np},ConditionalNodeDependencies:{NodeDependencies:Kp,createConditionalNode:rp},ConstantNodeDependencies:{NodeDependencies:Kp,createConstantNode:dp},FunctionAssignmentNodeDependencies:{NodeDependencies:Kp,typedDependencies:Cp,createFunctionAssignmentNode:mp},FunctionNodeDependencies:{NodeDependencies:Kp,SymbolNodeDependencies:ef,createFunctionNode:gu("FunctionNode",["math","Node","SymbolNode"],(e=>{var{math:t,Node:n,SymbolNode:r}=e;function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof e&&(e=new r(e)),!fo(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(fo))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}i.prototype=new n,i.prototype.type="FunctionNode",i.prototype.isFunctionNode=!0,i.prototype._compile=function(e,t){if(!(this instanceof i))throw new TypeError("No valid FunctionNode");var n=hu(this.args,(function(n){return n._compile(e,t)}));if(wo(this.fn)){var r=this.fn.name,s=r in e?ah(e,r):void 0;if("function"==typeof s&&!0===s.rawArgs){var a=this.args;return function(t,n,i){return(r in t?ah(t,r):s)(a,e,_p({},t,n))}}if(1===n.length){var o=n[0];return function(e,t,n){return(r in e?ah(e,r):s)(o(e,t,n))}}if(2===n.length){var u=n[0],c=n[1];return function(e,t,n){return(r in e?ah(e,r):s)(u(e,t,n),c(e,t,n))}}return function(e,t,i){return(r in e?ah(e,r):s).apply(null,hu(n,(function(n){return n(e,t,i)})))}}if(io(this.fn)&&po(this.fn.index)&&this.fn.index.isObjectProperty()){var l=this.fn.object._compile(e,t),h=this.fn.index.getObjectProperty(),p=this.args;return function(t,r,i){var s=l(t,r,i);return function(e,t){if(!ch(e,t))throw new Error('No access to method "'+t+'"')}(s,h),s[h]&&s[h].rawArgs?s[h](p,e,_p({},t,r)):s[h].apply(s,hu(n,(function(e){return e(t,r,i)})))}}var f=this.fn._compile(e,t),d=this.args;return function(t,r,i){var s=f(t,r,i);return s&&s.rawArgs?s(d,e,_p({},t,r)):s.apply(s,hu(n,(function(e){return e(t,r,i)})))}},i.prototype.forEach=function(e){e(this.fn,"fn",this);for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},i.prototype.map=function(e){for(var t=this._ifNode(e(this.fn,"fn",this)),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new i(t,n)},i.prototype.clone=function(){return new i(this.fn,this.args.slice(0))};var s=i.prototype.toString;function a(e,t,n){for(var r,i="",s=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,a=0;null!==(r=s.exec(e));)if(i+=e.substring(a,r.index),a=r.index,"$$"===r[0])i+="$",a++;else{a+=r[0].length;var o=t[r[1]];if(!o)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(typeof o){case"string":i+=o;break;case"object":if(fo(o))i+=o.toTex(n);else{if(!Array.isArray(o))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");i+=o.map((function(e,t){if(fo(e))return e.toTex(n);throw new TypeError("Template: "+r[1]+"["+t+"] is not a Node.")})).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!fo(o[r[2]]&&o[r[2]]))throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");i+=o[r[2]].toTex(n)}}return i+e.slice(a)}i.prototype.toString=function(e){var t,n=this.fn.toString(e);return e&&"object"==typeof e.handler&&Ao(e.handler,n)&&(t=e.handler[n](this,e)),void 0!==t?t:s.call(this,e)},i.prototype._toString=function(e){var t=this.args.map((function(t){return t.toString(e)}));return(lo(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+t.join(", ")+")"},i.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},i.fromJSON=function(e){return new i(e.fn,e.args)},i.prototype.toHTML=function(e){var t=this.args.map((function(t){return t.toHTML(e)}));return'<span class="math-function">'+Ko(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var o=i.prototype.toTex;return i.prototype.toTex=function(e){var t;return e&&"object"==typeof e.handler&&Ao(e.handler,this.name)&&(t=e.handler[this.name](this,e)),void 0!==t?t:o.call(this,e)},i.prototype._toTex=function(e){var n,r,i=this.args.map((function(t){return t.toTex(e)}));switch(lp[this.name]&&(n=lp[this.name]),!t[this.name]||"function"!=typeof t[this.name].toTex&&"object"!=typeof t[this.name].toTex&&"string"!=typeof t[this.name].toTex||(n=t[this.name].toTex),typeof n){case"function":r=n(this,e);break;case"string":r=a(n,this,e);break;case"object":switch(typeof n[i.length]){case"function":r=n[i.length](this,e);break;case"string":r=a(n[i.length],this,e)}}return void 0!==r?r:a("\\mathrm{${name}}\\left(${args}\\right)",this,e)},i.prototype.getIdentifier=function(){return this.type+":"+this.name},i}),{isClass:!0,isNode:!0})},IndexNodeDependencies:{NodeDependencies:Kp,RangeDependencies:{createRangeClass:ol},sizeDependencies:Up,createIndexNode:gp},ObjectNodeDependencies:{NodeDependencies:Kp,createObjectNode:vp},OperatorNodeDependencies:{NodeDependencies:Kp,createOperatorNode:yp},ParenthesisNodeDependencies:{NodeDependencies:Kp,createParenthesisNode:wp},RangeNodeDependencies:{NodeDependencies:Kp,createRangeNode:bp},RelationalNodeDependencies:{NodeDependencies:Kp,createRelationalNode:xp},SymbolNodeDependencies:ef,numericDependencies:Gp,typedDependencies:Cp,createParse:gu("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],(e=>{var{typed:t,numeric:n,config:r,AccessorNode:i,ArrayNode:s,AssignmentNode:a,BlockNode:o,ConditionalNode:u,ConstantNode:c,FunctionAssignmentNode:l,FunctionNode:h,IndexNode:p,ObjectNode:f,OperatorNode:d,ParenthesisNode:m,RangeNode:g,RelationalNode:v,SymbolNode:y}=e,w=t("parse",{string:function(e){return D(e,{})},"Array | Matrix":function(e){return b(e,{})},"string, Object":function(e,t){return D(e,void 0!==t.nodes?t.nodes:{})},"Array | Matrix, Object":b});function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0!==t.nodes?t.nodes:{};return ll(e,(function(e){if("string"!=typeof e)throw new TypeError("String expected");return D(e,n)}))}var x={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},_={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},M={true:!0,false:!1,null:null,undefined:void 0},E=["NaN","Infinity"];function N(e,t){return e.expression.substr(e.index,t)}function S(e){return N(e,1)}function T(e){e.index++}function O(e){return e.expression.charAt(e.index-1)}function C(e){return e.expression.charAt(e.index+1)}function A(e){for(e.tokenType=0,e.token="",e.comment="";w.isWhitespace(S(e),e.nestingLevel);)T(e);if("#"===S(e))for(;"\n"!==S(e)&&""!==S(e);)e.comment+=S(e),T(e);if(""!==S(e)){if("\n"===S(e)&&!e.nestingLevel)return e.tokenType=1,e.token=S(e),void T(e);var t=S(e),n=N(e,2),r=N(e,3);if(3===r.length&&x[r])return e.tokenType=1,e.token=r,T(e),T(e),void T(e);if(2===n.length&&x[n])return e.tokenType=1,e.token=n,T(e),void T(e);if(x[t])return e.tokenType=1,e.token=t,void T(e);if(w.isDigitDot(t)){e.tokenType=2;var i=N(e,2);if("0b"===i||"0o"===i||"0x"===i){for(e.token+=S(e),T(e),e.token+=S(e),T(e);w.isHexDigit(S(e));)e.token+=S(e),T(e);return}if("."===S(e))e.token+=S(e),T(e),w.isDigit(S(e))||(e.tokenType=1);else{for(;w.isDigit(S(e));)e.token+=S(e),T(e);w.isDecimalMark(S(e),C(e))&&(e.token+=S(e),T(e))}for(;w.isDigit(S(e));)e.token+=S(e),T(e);if("E"===S(e)||"e"===S(e))if(w.isDigit(C(e))||"-"===C(e)||"+"===C(e)){if(e.token+=S(e),T(e),"+"!==S(e)&&"-"!==S(e)||(e.token+=S(e),T(e)),!w.isDigit(S(e)))throw te(e,'Digit expected, got "'+S(e)+'"');for(;w.isDigit(S(e));)e.token+=S(e),T(e);if(w.isDecimalMark(S(e),C(e)))throw te(e,'Digit expected, got "'+S(e)+'"')}else if("."===C(e))throw T(e),te(e,'Digit expected, got "'+S(e)+'"')}else{if(!w.isAlpha(S(e),O(e),C(e))){for(e.tokenType=4;""!==S(e);)e.token+=S(e),T(e);throw te(e,'Syntax error in part "'+e.token+'"')}for(;w.isAlpha(S(e),O(e),C(e))||w.isDigit(S(e));)e.token+=S(e),T(e);Ao(_,e.token)?e.tokenType=1:e.tokenType=3}}else e.tokenType=1}function R(e){do{A(e)}while("\n"===e.token)}function k(e){e.nestingLevel++}function z(e){e.nestingLevel--}function D(e,t){var n={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:0,nestingLevel:0,conditionalLevel:null};Mp(n,{expression:e,extraNodes:t}),A(n);var r=function(e){var t,n,r=[];for(""!==e.token&&"\n"!==e.token&&";"!==e.token&&((t=I(e)).comment=e.comment);"\n"===e.token||";"===e.token;)0===r.length&&t&&(n=";"!==e.token,r.push({node:t,visible:n})),A(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&((t=I(e)).comment=e.comment,n=";"!==e.token,r.push({node:t,visible:n}));return r.length>0?new o(r):(t||((t=new c(void 0)).comment=e.comment),t)}(n);if(""!==n.token)throw 1===n.tokenType?ne(n,"Unexpected operator "+n.token):te(n,'Unexpected part "'+n.token+'"');return r}function I(e){var t,n,r,i,s=function(e){for(var t=function(e){for(var t=L(e);"or"===e.token;)R(e),t=new d("or","or",[t,L(e)]);return t}(e);"?"===e.token;){var n=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,R(e);var r=t,i=I(e);if(":"!==e.token)throw te(e,"False part of conditional expression expected");e.conditionalLevel=null,R(e);var s=I(e);t=new u(r,i,s),e.conditionalLevel=n}return t}(e);if("="===e.token){if(wo(s))return t=s.name,R(e),r=I(e),new a(new y(t),r);if(io(s))return R(e),r=I(e),new a(s.object,s.index,r);if(ho(s)&&wo(s.fn)&&(i=!0,n=[],t=s.name,s.args.forEach((function(e,t){wo(e)?n[t]=e.name:i=!1})),i))return R(e),r=I(e),new l(t,n,r);throw te(e,"Invalid left hand side of assignment operator =")}return s}function L(e){for(var t=B(e);"xor"===e.token;)R(e),t=new d("xor","xor",[t,B(e)]);return t}function B(e){for(var t=P(e);"and"===e.token;)R(e),t=new d("and","and",[t,P(e)]);return t}function P(e){for(var t=F(e);"|"===e.token;)R(e),t=new d("|","bitOr",[t,F(e)]);return t}function F(e){for(var t=j(e);"^|"===e.token;)R(e),t=new d("^|","bitXor",[t,j(e)]);return t}function j(e){for(var t=U(e);"&"===e.token;)R(e),t=new d("&","bitAnd",[t,U(e)]);return t}function U(e){for(var t=[q(e)],n=[],r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Ao(r,e.token);){var i={name:e.token,fn:r[e.token]};n.push(i),R(e),t.push(q(e))}return 1===t.length?t[0]:2===t.length?new d(n[0].name,n[0].fn,t):new v(n.map((e=>e.fn)),t)}function q(e){var t,n,r,i;t=V(e);for(var s={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Ao(s,e.token);)r=s[n=e.token],R(e),i=[t,V(e)],t=new d(n,r,i);return t}function V(e){var t,n,r,i;t=H(e);for(var s={to:"to",in:"to"};Ao(s,e.token);)r=s[n=e.token],R(e),"in"===n&&""===e.token?t=new d("*","multiply",[t,new y("in")],!0):(i=[t,H(e)],t=new d(n,r,i));return t}function H(e){var t,n=[];if(t=":"===e.token?new c(1):$(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(n.push(t);":"===e.token&&n.length<3;)R(e),")"===e.token||"]"===e.token||","===e.token||""===e.token?n.push(new y("end")):n.push($(e));t=3===n.length?new g(n[0],n[2],n[1]):new g(n[0],n[1])}return t}function $(e){var t,n,r,i;t=W(e);for(var s={"+":"add","-":"subtract"};Ao(s,e.token);)r=s[n=e.token],R(e),i=[t,W(e)],t=new d(n,r,i);return t}function W(e){var t,n,r,i;n=t=G(e);for(var s={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Ao(s,e.token);)i=s[r=e.token],R(e),n=G(e),t=new d(r,i,[t,n]);return t}function G(e){var t,n;for(n=t=Y(e);3===e.tokenType||"in"===e.token&&co(t)||!(2!==e.tokenType||co(n)||go(n)&&"!"!==n.op)||"("===e.token;)n=Y(e),t=new d("*","multiply",[t,n],!0);return t}function Y(e){for(var t=Z(e),n=t,r=[];"/"===e.token&&co(n);){if(r.push(Mp({},e)),R(e),2!==e.tokenType){Mp(e,r.pop());break}if(r.push(Mp({},e)),R(e),3!==e.tokenType&&"("!==e.token){r.pop(),Mp(e,r.pop());break}Mp(e,r.pop()),r.pop(),n=Z(e),t=new d("/","divide",[t,n])}return t}function Z(e){var t,i,a,o={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Ao(o,e.token)?(a=o[e.token],t=e.token,R(e),i=[Z(e)],new d(t,a,i)):function(e){var t,i,a,o;return t=function(e){var t,i,a;t=function(e){var t=[];if(3===e.tokenType&&Ao(e.extraNodes,e.token)){var i=e.extraNodes[e.token];if(A(e),"("===e.token){if(t=[],k(e),A(e),")"!==e.token)for(t.push(I(e));","===e.token;)A(e),t.push(I(e));if(")"!==e.token)throw te(e,"Parenthesis ) expected");z(e),A(e)}return new i(t)}return function(e){var t;return 3===e.tokenType||1===e.tokenType&&e.token in _?(t=e.token,A(e),X(e,Ao(M,t)?new c(M[t]):-1!==E.indexOf(t)?new c(n(t,"number")):new y(t))):function(e){var t;return'"'===e.token?(t=J(e),X(e,new c(t))):function(e){var t;return"'"===e.token?(t=Q(e),X(e,new c(t))):function(e){var t,i,a,o;if("["===e.token){if(k(e),A(e),"]"!==e.token){var u=K(e);if(";"===e.token){for(a=1,i=[u];";"===e.token;)A(e),i[a]=K(e),a++;if("]"!==e.token)throw te(e,"End of matrix ] expected");z(e),A(e),o=i[0].items.length;for(var l=1;l<a;l++)if(i[l].items.length!==o)throw ne(e,"Column dimensions mismatch ("+i[l].items.length+" !== "+o+")");t=new s(i)}else{if("]"!==e.token)throw te(e,"End of matrix ] expected");z(e),A(e),t=u}}else z(e),A(e),t=new s([]);return X(e,t)}return function(e){if("{"===e.token){var t;k(e);var i={};do{if(A(e),"}"!==e.token){if('"'===e.token)t=J(e);else if("'"===e.token)t=Q(e);else{if(!(3===e.tokenType||1===e.tokenType&&e.token in _))throw te(e,"Symbol or string expected as object key");t=e.token,A(e)}if(":"!==e.token)throw te(e,"Colon : expected after object key");A(e),i[t]=I(e)}}while(","===e.token);if("}"!==e.token)throw te(e,"Comma , or bracket } expected after object value");z(e),A(e);var s=new f(i);return X(e,s)}return function(e){var t;return 2===e.tokenType?(t=e.token,A(e),new c(n(t,r.number))):function(e){var t;if("("===e.token){if(k(e),A(e),t=I(e),")"!==e.token)throw te(e,"Parenthesis ) expected");return z(e),A(e),X(e,t=new m(t))}return function(e){throw""===e.token?te(e,"Unexpected end of expression"):te(e,"Value expected")}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e);for(var o={"!":"factorial","'":"ctranspose"};Ao(o,e.token);)a=o[i=e.token],A(e),t=X(e,t=new d(i,a,[t]));return t}(e),("^"===e.token||".^"===e.token)&&(a="^"===(i=e.token)?"pow":"dotPow",R(e),o=[t,Z(e)],t=new d(i,a,o)),t}(e)}function X(e,t,n){for(var r;!("("!==e.token&&"["!==e.token&&"."!==e.token||n&&-1===n.indexOf(e.token));)if(r=[],"("===e.token){if(!wo(t)&&!io(t))return t;if(k(e),A(e),")"!==e.token)for(r.push(I(e));","===e.token;)A(e),r.push(I(e));if(")"!==e.token)throw te(e,"Parenthesis ) expected");z(e),A(e),t=new h(t,r)}else if("["===e.token){if(k(e),A(e),"]"!==e.token)for(r.push(I(e));","===e.token;)A(e),r.push(I(e));if("]"!==e.token)throw te(e,"Parenthesis ] expected");z(e),A(e),t=new i(t,new p(r))}else{if(A(e),3!==e.tokenType)throw te(e,"Property name expected after dot");r.push(new c(e.token)),A(e),t=new i(t,new p(r,!0))}return t}function J(e){for(var t="";""!==S(e)&&'"'!==S(e);)"\\"===S(e)&&(t+=S(e),T(e)),t+=S(e),T(e);if(A(e),'"'!==e.token)throw te(e,'End of string " expected');return A(e),JSON.parse('"'+t+'"')}function Q(e){for(var t="";""!==S(e)&&"'"!==S(e);)"\\"===S(e)&&(t+=S(e),T(e)),t+=S(e),T(e);if(A(e),"'"!==e.token)throw te(e,"End of string ' expected");return A(e),JSON.parse('"'+t+'"')}function K(e){for(var t=[I(e)],n=1;","===e.token;)A(e),t[n]=I(e),n++;return new s(t)}function ee(e){return e.index-e.token.length+1}function te(e,t){var n=ee(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}function ne(e,t){var n=ee(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}return w.isAlpha=function(e,t,n){return w.isValidLatinOrGreek(e)||w.isValidMathSymbol(e,n)||w.isValidMathSymbol(t,e)},w.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},w.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},w.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&t>0},w.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t},w.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e},w.isDigit=function(e){return e>="0"&&e<="9"},w.isHexDigit=function(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"},w}))},typedDependencies:Cp,createEvaluate:gu("evaluate",["typed","parse"],(e=>{var{typed:t,parse:n}=e;return t("evaluate",{string:function(e){return n(e).compile().evaluate({})},"string, Object":function(e,t){return n(e).compile().evaluate(t)},"Array | Matrix":function(e){var t={};return ll(e,(function(e){return n(e).compile().evaluate(t)}))},"Array | Matrix, Object":function(e,t){return ll(e,(function(e){return n(e).compile().evaluate(t)}))}})}))},nf={divideScalarDependencies:Yp,equalScalarDependencies:Ap,invDependencies:{absDependencies:Lp,addScalarDependencies:Bp,detDependencies:{lupDependencies:{DenseMatrixDependencies:Tp,SpaDependencies:{FibonacciHeapDependencies:{largerDependencies:Hp,smallerDependencies:{DenseMatrixDependencies:Tp,matrixDependencies:Dp,typedDependencies:Cp,createSmaller:Ah},createFibonacciHeapClass:kh},addScalarDependencies:Bp,equalScalarDependencies:Ap,createSpaClass:zh},SparseMatrixDependencies:Rp,absDependencies:Lp,addScalarDependencies:Bp,divideScalarDependencies:Yp,equalScalarDependencies:Ap,largerDependencies:Hp,matrixDependencies:Dp,multiplyScalarDependencies:jp,subtractDependencies:Vp,typedDependencies:Cp,unaryMinusDependencies:Ip,createLup:gu("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(e=>{var{typed:t,matrix:n,abs:r,addScalar:i,divideScalar:s,multiplyScalar:a,subtract:o,larger:u,equalScalar:c,unaryMinus:l,DenseMatrix:h,SparseMatrix:p,Spa:f}=e;return t("lup",{DenseMatrix:function(e){return d(e)},SparseMatrix:function(e){return function(e){var t,n,i,o=e._size[0],h=e._size[1],d=Math.min(o,h),m=e._values,g=e._index,v=e._ptr,y=[],w=[],b=[],x=[o,d],_=[],M=[],E=[],N=[d,h],S=[],T=[];for(t=0;t<o;t++)S[t]=t,T[t]=t;var O=function(e,t){var n=T[e],r=T[t];S[n]=t,S[r]=e,T[e]=r,T[t]=n},C=function(){var e=new f;n<o&&(b.push(y.length),y.push(1),w.push(n)),E.push(_.length);var h=v[n],d=v[n+1];for(i=h;i<d;i++)t=g[i],e.set(S[t],m[i]);n>0&&e.forEach(0,n-1,(function(t,n){p._forEachRow(t,y,w,b,(function(r,i){r>t&&e.accumulate(r,l(a(i,n)))}))}));var T=n,C=e.get(n),A=r(C);e.forEach(n+1,o-1,(function(e,t){var n=r(t);u(n,A)&&(T=e,A=n,C=t)})),n!==T&&(p._swapRows(n,T,x[1],y,w,b),p._swapRows(n,T,N[1],_,M,E),e.swap(n,T),O(n,T)),e.forEach(0,o-1,(function(e,t){e<=n?(_.push(t),M.push(e)):(t=s(t,C),c(t,0)||(y.push(t),w.push(e)))}))};for(n=0;n<h;n++)C();return E.push(_.length),b.push(y.length),{L:new p({values:y,index:w,ptr:b,size:x}),U:new p({values:_,index:M,ptr:E,size:N}),p:S,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(e)},Array:function(e){var t=d(n(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}});function d(e){var t,n,l,p=e._size[0],f=e._size[1],d=Math.min(p,f),m=_o(e._data),g=[],v=[p,d],y=[],w=[d,f],b=[];for(t=0;t<p;t++)b[t]=t;for(n=0;n<f;n++){if(n>0)for(t=0;t<p;t++){var x=Math.min(t,n),_=0;for(l=0;l<x;l++)_=i(_,a(m[t][l],m[l][n]));m[t][n]=o(m[t][n],_)}var M=n,E=0,N=0;for(t=n;t<p;t++){var S=m[t][n],T=r(S);u(T,E)&&(M=t,E=T,N=S)}if(n!==M&&(b[n]=[b[M],b[M]=b[n]][0],h._swapRows(n,M,m)),n<p)for(t=n+1;t<p;t++){var O=m[t][n];c(O,0)||(m[t][n]=s(m[t][n],N))}}for(n=0;n<f;n++)for(t=0;t<p;t++)0===n&&(t<f&&(y[t]=[]),g[t]=[]),t<n?(t<f&&(y[t][n]=m[t][n]),n<p&&(g[t][n]=0)):t!==n?(t<f&&(y[t][n]=0),n<p&&(g[t][n]=m[t][n])):(t<f&&(y[t][n]=m[t][n]),n<p&&(g[t][n]=1));var C=new h({data:g,size:v}),A=new h({data:y,size:w}),R=[];for(t=0,d=b.length;t<d;t++)R[b[t]]=t;return{L:C,U:A,p:R,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}))},matrixDependencies:Dp,multiplyDependencies:qp,subtractDependencies:Vp,typedDependencies:Cp,unaryMinusDependencies:Ip,createDet:gu("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],(e=>{var{typed:t,matrix:n,subtract:r,multiply:i,unaryMinus:s,lup:a}=e;return t("det",{any:function(e){return _o(e)},"Array | Matrix":function(e){var t;switch((t=Va(e)?e.size():Array.isArray(e)?(e=n(e)).size():[]).length){case 0:return _o(e);case 1:if(1===t[0])return _o(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+Jo(t)+")");case 2:var o=t[0];if(o===t[1])return function(e,t,n){if(1===t)return _o(e[0][0]);if(2===t)return r(i(e[0][0],e[1][1]),i(e[1][0],e[0][1]));for(var o=a(e),u=o.U[0][0],c=1;c<t;c++)u=i(u,o.U[c][c]);for(var l=0,h=0,p=[];;){for(;p[h];)h++;if(h>=t)break;for(var f=h,d=0;!p[o.p[f]];)p[o.p[f]]=!0,f=o.p[f],d++;d%2==0&&l++}return l%2==0?u:s(u)}(e.clone().valueOf(),o);throw new RangeError("Matrix must be square (size: "+Jo(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Jo(t)+")")}}})}))},divideScalarDependencies:Yp,identityDependencies:$p,matrixDependencies:Dp,multiplyDependencies:qp,typedDependencies:Cp,unaryMinusDependencies:Ip,createInv:gu("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(e=>{var{typed:t,matrix:n,divideScalar:r,addScalar:i,multiply:s,unaryMinus:a,det:o,identity:u,abs:c}=e;return t("inv",{"Array | Matrix":function(e){var t=Va(e)?e.size():ru(e);switch(t.length){case 1:if(1===t[0])return Va(e)?n([r(1,e.valueOf()[0])]):[r(1,e[0])];throw new RangeError("Matrix must be square (size: "+Jo(t)+")");case 2:var i=t[0],s=t[1];if(i===s)return Va(e)?n(l(e.valueOf(),i,s),e.storage()):l(e,i,s);throw new RangeError("Matrix must be square (size: "+Jo(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Jo(t)+")")}},any:function(e){return r(1,e)}});function l(e,t,n){var l,h,p,f,d;if(1===t){if(0===(f=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,f)]]}if(2===t){var m=o(e);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[r(e[1][1],m),r(a(e[0][1]),m)],[r(a(e[1][0]),m),r(e[0][0],m)]]}var g=e.concat();for(l=0;l<t;l++)g[l]=g[l].concat();for(var v=u(t).valueOf(),y=0;y<n;y++){var w=c(g[y][y]),b=y;for(l=y+1;l<t;)c(g[l][y])>w&&(w=c(g[l][y]),b=l),l++;if(0===w)throw Error("Cannot calculate inverse, determinant is zero");(l=b)!==y&&(d=g[y],g[y]=g[l],g[l]=d,d=v[y],v[y]=v[l],v[l]=d);var x=g[y],_=v[y];for(l=0;l<t;l++){var M=g[l],E=v[l];if(l!==y){if(0!==M[y]){for(p=r(a(M[y]),x[y]),h=y;h<n;h++)M[h]=i(M[h],s(p,x[h]));for(h=0;h<n;h++)E[h]=i(E[h],s(p,_[h]))}}else{for(p=x[y],h=y;h<n;h++)M[h]=r(M[h],p);for(h=0;h<n;h++)E[h]=r(E[h],p)}}}return v}}))},matrixDependencies:Dp,multiplyDependencies:qp,typedDependencies:Cp,createDivide:gu("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],(e=>{var{typed:t,matrix:n,multiply:r,equalScalar:i,divideScalar:s,inv:a}=e,o=zl({typed:t,equalScalar:i}),u=Dl({typed:t});return t("divide",Eo({"Array | Matrix, Array | Matrix":function(e,t){return r(e,a(t))},"DenseMatrix, any":function(e,t){return u(e,t,s,!1)},"SparseMatrix, any":function(e,t){return o(e,t,s,!1)},"Array, any":function(e,t){return u(n(e),t,s,!1).valueOf()},"any, Array | Matrix":function(e,t){return r(e,a(t))}},s.signatures))}))},rf={exports:{}};function sf(){}sf.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var s=0,a=r.length;s<a;s++)r[s].fn!==t&&r[s].fn._!==t&&i.push(r[s]);return i.length?n[e]=i:delete n[e],this}},rf.exports=sf,rf.exports.TinyEmitter=sf;var af=rf.exports;function of(){return(of=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function uf(e,t){var n=of({},Ia,t);if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var r,i,s=(r={isNumber:La,isComplex:Pa,isBigNumber:Ba,isFraction:Fa,isUnit:ja,isString:Ua,isArray:qa,isMatrix:Va,isCollection:Ha,isDenseMatrix:$a,isSparseMatrix:Wa,isRange:Ga,isIndex:Ya,isBoolean:Za,isResultSet:Xa,isHelp:Ja,isFunction:Qa,isDate:Ka,isRegExp:eo,isObject:to,isNull:no,isUndefined:ro,isAccessorNode:io,isArrayNode:so,isAssignmentNode:ao,isBlockNode:oo,isConditionalNode:uo,isConstantNode:co,isFunctionAssignmentNode:lo,isFunctionNode:ho,isIndexNode:po,isNode:fo,isObjectNode:mo,isOperatorNode:go,isParenthesisNode:vo,isRangeNode:yo,isSymbolNode:wo,isChain:bo},i=new af,r.on=i.on.bind(i),r.off=i.off.bind(i),r.once=i.once.bind(i),r.emit=i.emit.bind(i),r);s.config=Do(n,s.emit),s.expression={transform:{},mathWithTransform:{config:s.config}};var a={},o=function(e,t,n,r){function i(t,i,a){var o;if(a.wrap&&"function"==typeof i&&(i=function(e){var t=function(){for(var t=[],r=0,i=arguments.length;r<i;r++){var s=arguments[r];t[r]=s&&s.valueOf()}return e.apply(n,t)};return e.transform&&(t.transform=e.transform),t}(i)),"function"==typeof(o=i)&&"string"==typeof o.signature&&(i=e(t,{[i.signature]:i})),c(n[t])&&c(i))return i=a.override?e(t,i.signatures):e(n[t],i),n[t]=i,delete r[t],s(t,i),void n.emit("import",t,(function(){return i}));if(void 0===n[t]||a.override)return n[t]=i,delete r[t],s(t,i),void n.emit("import",t,(function(){return i}));if(!a.silent)throw new Error('Cannot import "'+t+'": already exists')}function s(e,t){t&&"function"==typeof t.transform?(n.expression.transform[e]=t.transform,l(e)&&(n.expression.mathWithTransform[e]=t.transform)):(delete n.expression.transform[e],l(e)&&(n.expression.mathWithTransform[e]=t))}function a(e){delete n.expression.transform[e],l(e)?n.expression.mathWithTransform[e]=n[e]:delete n.expression.mathWithTransform[e]}function o(t,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.fn;if(mu(s,"."))throw new Error("Factory name should not contain a nested path. Name: "+JSON.stringify(s));var o=p(t)?n.expression.transform:n,u=s in n.expression.transform,l=Ao(o,s)?o[s]:void 0,f=function(){var r={};t.dependencies.map(yu).forEach((e=>{if(mu(e,"."))throw new Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(e));"math"===e?r.math=n:"mathWithTransform"===e?r.mathWithTransform=n.expression.mathWithTransform:"classes"===e?r.classes=n:r[e]=n[e]}));var a=t(r);if(a&&"function"==typeof a.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(void 0===l||i.override)return a;if(c(l)&&c(a))return e(l,a);if(i.silent)return l;throw new Error('Cannot import "'+s+'": already exists')};t.meta&&!1===t.meta.lazy?(o[s]=f(),l&&u?a(s):(p(t)||h(t))&&Co(n.expression.mathWithTransform,s,(()=>o[s]))):(Co(o,s,f),l&&u?a(s):(p(t)||h(t))&&Co(n.expression.mathWithTransform,s,(()=>o[s]))),r[s]=t,n.emit("import",s,f)}function u(e){return"function"==typeof e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e||null===e||ja(e)||Pa(e)||Ba(e)||Fa(e)||Va(e)||Array.isArray(e)}function c(e){return"function"==typeof e&&"object"==typeof e.signatures}function l(e){return!Ao(f,e)}function h(e){return!(-1!==e.fn.indexOf(".")||Ao(f,e.fn)||e.meta&&e.meta.isClass)}function p(e){return void 0!==e&&void 0!==e.meta&&!0===e.meta.isTransformFunction||!1}var f={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function(e,t){var n=arguments.length;if(1!==n&&2!==n)throw new ih("import",n,1,2);function r(e,n,i){if(Array.isArray(n))n.forEach((t=>r(e,t)));else if("object"==typeof n)for(var s in n)Ao(n,s)&&r(e,n[s],s);else if(vu(n)||void 0!==i){var a=vu(n)?p(n)?n.fn+".transform":n.fn:i;if(Ao(e,a)&&e[a]!==n&&!t.silent)throw new Error('Cannot import "'+a+'" twice');e[a]=n}else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}t||(t={});var s={};for(var a in r(s,e),s)if(Ao(s,a)){var c=s[a];if(vu(c))o(c,t);else if(u(c))i(a,c,t);else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}}}((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.typed.apply(s.typed,t)}),0,s,a);return s.import=o,s.on("config",(()=>{Ro(a).forEach((e=>{e&&e.meta&&e.meta.recreateOnConfigChange&&o(e,{override:!0})}))})),s.create=uf.bind(null,e),s.factory=gu,s.import(Ro(To(e))),s.ArgumentsError=ih,s.DimensionError=tu,s.IndexError=nu,s}class cf{constructor(e,t){this.viewNode=e,this.bindings=t,this.math=uf({evaluateDependencies:tf,addDependencies:Wp,subtractDependencies:Vp,multiplyDependencies:qp,divideDependencies:nf,modDependencies:Fp,numberDependencies:kp,createUnitDependencies:Qp,unitDependencies:Jp},{predictable:!0}),this.mathCompiledExpressions=new Map,this.mathScope={ratio:void 0,degree:this.math.unit("degree"),meter:this.math.unit("meter"),pixel:this.math.createUnit("pixel",{aliases:["pixels","px"]}),percent:void 0,vdeg:void 0,vw:void 0,vh:void 0},this.epsillonMeters=1e-10,this.epsillonRadians=1e-10,this.epsillonRatio=1e-10,this.transition=new Na({multiplier:1,duration:0,easing:Ma.easeInOut,threshold:0,delay:0,debounce:0,maxWait:10,blend:!0}),this.optimize=new Ps({minFeasibleTime:.02,maxInfeasibleTime:5,relativeTolerance:.001,maxIterationsPerFrame:10,swarmSize:10,pulseFrequencyMin:0,pulseFrequencyMax:1,pulseRate:.4,stepSizeMin:1e-4,stepSizeMax:4,stepSizeStart:1.5}),this.optimizer=new Fs(this),this.viewFrustum=new Da,this.viewResolution=new Mi(1e3,1e3),this.deltaTime=1/60,this.time=0,this.maxDeltaTime=1/60,this.nodeMetrics=new Map,this.nodeAdapters=new Map,this.transitionables=[],this.getMetrics=e=>{if(!e)throw new Error("node must be defined");let t=this.nodeMetrics.get(e);return t||(t=new Bs(this,e),this.nodeMetrics.set(e,t)),t},this.getState=e=>{if(!e)throw new Error("node must be defined");return this.getMetrics(e).target},this.getAdapter=e=>{let t=this.nodeAdapters.get(e);return t||(t=new za(this,e),this.nodeAdapters.set(e,t)),t},this.createTransitionable=(e,t)=>{const n=new ka(this,e,t,this.transition);return this.transitionables.push(n),n},this._prevResolution=new Mi,this._prevSize=new Mi,this.measureNumberCache={}}get viewMetrics(){if(!this.viewNode)throw new Error("EtherealSystem.viewNode must be defined");return this.getMetrics(this.viewNode)}update(e,t){this.deltaTime=Math.max(e,this.maxDeltaTime),this.time=t,this._prevResolution.equals(this.viewResolution)&&this._prevSize.equals(this.viewFrustum.sizeDegrees)||(this.mathScope.vdeg=this.math.unit(this.viewResolution.y/this.viewFrustum.sizeDegrees.y,"px"),this.mathScope.vw=this.math.unit(this.viewResolution.x/100,"px"),this.mathScope.vh=this.math.unit(this.viewResolution.y/100,"px"),this.measureNumberCache={}),this._prevResolution.copy(this.viewResolution),this._prevSize.copy(this.viewFrustum.sizeDegrees);for(const e of this.nodeMetrics.values()){e.needsUpdate=!0;const t=this.nodeAdapters.get(e.node);t&&(t.opacity.needsUpdate=!0,t.orientation.needsUpdate=!0,t.bounds.needsUpdate=!0,t.outerOrigin.needsUpdate=!0,t.outerOrientation.needsUpdate=!0,t.outerBounds.needsUpdate=!0,t.outerVisualBounds.needsUpdate=!0)}for(const e of this.transitionables)e.needsUpdate=!0;for(const e of this.transitionables)e.update();this.viewMetrics.update();for(const e of this.nodeAdapters.values())e.metrics.update()}measureNumber(e,t){if("number"==typeof e)return e;if(e in this.measureNumberCache)return this.measureNumberCache[e];if(!this.mathCompiledExpressions.has(e)){const t=this.math.parse(e).compile();this.mathCompiledExpressions.set(e,t)}const n=this.mathCompiledExpressions.get(e),r=n.evaluate(this.mathScope),i="number"==typeof r?r:this.math.number(n.evaluate(this.mathScope),t);return this.measureNumberCache[e]=i,i}}function lf(e,t,n,r=0){var i;r++;for(let s=(e=e.shadowRoot||e).firstElementChild;s;s=s.nextElementSibling){if(s.assignedSlot)continue;const e=null==(i=s.assignedElements)?void 0:i.call(s,{flatten:!0});if(e)for(const i of e)t.call(n,i,r)&&lf(s,t,n,r);t.call(n,s,r)&&lf(s,t,n,r)}}new ki,function(e){function t(){}function n(e,t){if(e=void 0===e?"utf-8":e,t=void 0===t?{fatal:!1}:t,-1===i.indexOf(e.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function r(e){for(var t=0,n=Math.min(65536,e.length+1),r=new Uint16Array(n),i=[],s=0;;){var a=t<e.length;if(!a||s>=n-1){if(i.push(String.fromCharCode.apply(null,r.subarray(0,s))),!a)return i.join("");e=e.subarray(t),s=t=0}if(0==(128&(a=e[t++])))r[s++]=a;else if(192==(224&a)){var o=63&e[t++];r[s++]=(31&a)<<6|o}else if(224==(240&a)){o=63&e[t++];var u=63&e[t++];r[s++]=(31&a)<<12|o<<6|u}else 240==(248&a)&&(65535<(a=(7&a)<<18|(o=63&e[t++])<<12|(u=63&e[t++])<<6|63&e[t++])&&(a-=65536,r[s++]=a>>>10&1023|55296,a=56320|1023&a),r[s++]=a)}}if(e.TextEncoder&&e.TextDecoder)return!1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var n=e.length,r=0,i=Math.max(32,n+(n>>>1)+7),s=new Uint8Array(i>>>3<<3);t<n;){var a=e.charCodeAt(t++);if(55296<=a&&56319>=a){if(t<n){var o=e.charCodeAt(t);56320==(64512&o)&&(++t,a=((1023&a)<<10)+(1023&o)+65536)}if(55296<=a&&56319>=a)continue}if(r+4>s.length&&(i+=8,i=(i*=1+t/e.length*2)>>>3<<3,(o=new Uint8Array(i)).set(s),s=o),0==(4294967168&a))s[r++]=a;else{if(0==(4294965248&a))s[r++]=a>>>6&31|192;else if(0==(4294901760&a))s[r++]=a>>>12&15|224,s[r++]=a>>>6&63|128;else{if(0!=(4292870144&a))continue;s[r++]=a>>>18&7|240,s[r++]=a>>>12&63|128,s[r++]=a>>>6&63|128}s[r++]=63&a|128}}return s.slice?s.slice(0,r):s.subarray(0,r)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var s=r;"function"==typeof Buffer&&Buffer.from?s=function(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(s=function(e){var t=URL.createObjectURL(new Blob([e],{type:"text/plain;charset=UTF-8"}));try{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(),n.responseText}catch(t){return r(e)}finally{URL.revokeObjectURL(t)}}),n.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return e=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),s(e)},e.TextEncoder=t,e.TextDecoder=n}("undefined"!=typeof window?window:Lo);class hf{constructor(){this.left=0,this.top=0,this.width=0,this.height=0}copy(e){return this.top=e.top,this.left=e.left,this.width=e.width,this.height=e.height,this}}class pf{constructor(){this.left=0,this.top=0,this.right=0,this.bottom=0}copy(e){return this.top=e.top,this.left=e.left,this.right=e.right,this.bottom=e.bottom,this}}function ff(e,t=new hf,n){const r=e.ownerDocument,i=r.documentElement,s=r.body;if(e===i)return function(e,t){const n=e.documentElement,r=e.body,i=getComputedStyle(n),s=getComputedStyle(r);return t.top=r.offsetTop+parseFloat(i.marginTop)||0+parseFloat(s.marginTop)||0,t.left=r.offsetLeft+parseFloat(i.marginLeft)||0+parseFloat(s.marginLeft)||0,t.width=Math.max(Math.max(r.scrollWidth,n.scrollWidth),Math.max(r.offsetWidth,n.offsetWidth),Math.max(r.clientWidth,n.clientWidth)),t.height=Math.max(Math.max(r.scrollHeight,n.scrollHeight),Math.max(r.offsetHeight,n.offsetHeight),Math.max(r.clientHeight,n.clientHeight)),t}(r,t);if(n===e)return t.left=0,t.top=0,t.width=e.offsetWidth,void(t.height=e.offsetHeight);const a=e.ownerDocument.defaultView;let o,u=e,c=u.offsetParent,l=a.getComputedStyle(u,null),h=u.offsetTop,p=u.offsetLeft;for(c&&n&&c.contains(n)&&c!==n&&(ff(n,t,c),p-=t.left,h-=t.top);(u=u.parentElement)&&u!==s&&u!==i&&u!==n&&"fixed"!==l.position;)o=a.getComputedStyle(u,null),h-=u.scrollTop,p-=u.scrollLeft,u===c&&(h+=u.offsetTop,p+=u.offsetLeft,h+=parseFloat(o.borderTopWidth)||0,p+=parseFloat(o.borderLeftWidth)||0,c=u.offsetParent),l=o;return"fixed"===l.position&&(h+=Math.max(i.scrollTop,s.scrollTop),p+=Math.max(i.scrollLeft,s.scrollLeft)),t.left=p,t.top=h,t.width=e.offsetWidth,t.height=e.offsetHeight,t}function df(e,t){if(null===e.offsetParent)return void(t.left=t.right=t.top=t.bottom=0);let n=getComputedStyle(e);t.left=parseFloat(n.marginLeft)||0,t.right=parseFloat(n.marginRight)||0,t.top=parseFloat(n.marginTop)||0,t.bottom=parseFloat(n.marginBottom)||0}const mf=document.createElement("div");mf.id="VIEWPORT",mf.style.position="fixed",mf.style.width="100vw",mf.style.height="100vh",mf.style.visibility="hidden",mf.style.pointerEvents="none";var gf={};!function(e){const t=Symbol("newer"),n=Symbol("older");function r(e,t){"number"!=typeof e&&(t=e,e=0),this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap=new Map,t&&(this.assign(t),e<1&&(this.limit=this.size))}function i(e,r){this.key=e,this.value=r,this[t]=void 0,this[n]=void 0}function s(e){this.entry=e}function a(e){this.entry=e}function o(e){this.entry=e}e.LRUMap=r,r.prototype._markEntryAsUsed=function(e){e!==this.newest&&(e[t]&&(e===this.oldest&&(this.oldest=e[t]),e[t][n]=e[n]),e[n]&&(e[n][t]=e[t]),e[t]=void 0,e[n]=this.newest,this.newest&&(this.newest[t]=e),this.newest=e)},r.prototype.assign=function(e){let r,s=this.limit||Number.MAX_VALUE;this._keymap.clear();let a=e[Symbol.iterator]();for(let e=a.next();!e.done;e=a.next()){let a=new i(e.value[0],e.value[1]);if(this._keymap.set(a.key,a),r?(r[t]=a,a[n]=r):this.oldest=a,r=a,0==s--)throw new Error("overflow")}this.newest=r,this.size=this._keymap.size},r.prototype.get=function(e){var t=this._keymap.get(e);if(t)return this._markEntryAsUsed(t),t.value},r.prototype.set=function(e,r){var s=this._keymap.get(e);return s?(s.value=r,this._markEntryAsUsed(s),this):(this._keymap.set(e,s=new i(e,r)),this.newest?(this.newest[t]=s,s[n]=this.newest):this.oldest=s,this.newest=s,++this.size,this.size>this.limit&&this.shift(),this)},r.prototype.shift=function(){var e=this.oldest;if(e)return this.oldest[t]?(this.oldest=this.oldest[t],this.oldest[n]=void 0):(this.oldest=void 0,this.newest=void 0),e[t]=e[n]=void 0,this._keymap.delete(e.key),--this.size,[e.key,e.value]},r.prototype.find=function(e){let t=this._keymap.get(e);return t?t.value:void 0},r.prototype.has=function(e){return this._keymap.has(e)},r.prototype.delete=function(e){var r=this._keymap.get(e);if(r)return this._keymap.delete(r.key),r[t]&&r[n]?(r[n][t]=r[t],r[t][n]=r[n]):r[t]?(r[t][n]=void 0,this.oldest=r[t]):r[n]?(r[n][t]=void 0,this.newest=r[n]):this.oldest=this.newest=void 0,this.size--,r.value},r.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:[e.key,e.value]}):{done:!0,value:void 0}},a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.key}):{done:!0,value:void 0}},o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.value}):{done:!0,value:void 0}},r.prototype.keys=function(){return new a(this.oldest)},r.prototype.values=function(){return new o(this.oldest)},r.prototype.entries=function(){return this},r.prototype[Symbol.iterator]=function(){return new s(this.oldest)},r.prototype.forEach=function(e,n){"object"!=typeof n&&(n=this);let r=this.oldest;for(;r;)e.call(n,r.value,r.key,this),r=r[t]},r.prototype.toJSON=function(){for(var e=new Array(this.size),n=0,r=this.oldest;r;)e[n++]={key:r.key,value:r.value},r=r[t];return e},r.prototype.toString=function(){for(var e="",n=this.oldest;n;)e+=String(n.key)+":"+n.value,(n=n[t])&&(e+=" < ");return e}}(gf);var vf={exports:{}};function yf(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function wf(e,t){return" "+e+'="'+yf(t)+'"'}async function bf(e,t){let n=[];for(const r of e.childNodes)n.push(xf(r,t));return Promise.all(n).then((e=>e.join("")))}async function xf(e,t){var n;const r=null==(n=t.replacer)?void 0:n.call(t,e);if("string"==typeof r)return r;if("#document"===e.nodeName||"#document-fragment"===e.nodeName)return bf(e,t);if(e.tagName)return async function(e,t){const n=e.tagName.toLowerCase();let r="<"+n;r+=function(e,t){return e.hasAttribute("xmlns")||!t&&e.namespaceURI===e.parentElement.namespaceURI?"":' xmlns="'+e.namespaceURI+'"'}(e,0===t.depth);const i=bf(e,t);for(const t of e.attributes)"src"===t.name?r+=wf(t.name,await dd.getDataURL(t.value)):r+=wf(t.name,t.value);return e.childNodes.length>0?(t.depth++,r+=">",r+=await i,r+="</"+n+">",t.depth--):r+="/>",r}(e,t);if("#text"===e.nodeName)return function(e){return(e.nodeValue||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(e);if("#comment"===e.nodeName);else if("#cdata-section"===e.nodeName)return function(e){return"<![CDATA["+e.nodeValue+"]]>"}(e);return""}!function(e){!function(t,n){var r={};!function(e){e.__esModule=!0,e.digestLength=32,e.blockSize=64;var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function n(e,n,r,i,s){for(var a,o,u,c,l,h,p,f,d,m,g,v,y;s>=64;){for(a=n[0],o=n[1],u=n[2],c=n[3],l=n[4],h=n[5],p=n[6],f=n[7],m=0;m<16;m++)g=i+4*m,e[m]=(255&r[g])<<24|(255&r[g+1])<<16|(255&r[g+2])<<8|255&r[g+3];for(m=16;m<64;m++)v=((d=e[m-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,y=((d=e[m-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,e[m]=(v+e[m-7]|0)+(y+e[m-16]|0);for(m=0;m<64;m++)v=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&h^~l&p)|0)+(f+(t[m]+e[m]|0)|0)|0,y=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&o^a&u^o&u)|0,f=p,p=h,h=l,l=c+v|0,c=u,u=o,o=a,a=v+y|0;n[0]+=a,n[1]+=o,n[2]+=u,n[3]+=c,n[4]+=l,n[5]+=h,n[6]+=p,n[7]+=f,i+=64,s-=64}return i}var r=function(){function t(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return t.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},t.prototype.clean=function(){for(var e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()},t.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[r++],t--;64===this.bufferLength&&(n(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(r=n(this.temp,this.state,e,r,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[r++],t--;return this},t.prototype.finish=function(e){if(!this.finished){var t=this.bytesHashed,r=this.bufferLength,i=t/536870912|0,s=t<<3,a=t%64<56?64:128;this.buffer[r]=128;for(var o=r+1;o<a-8;o++)this.buffer[o]=0;this.buffer[a-8]=i>>>24&255,this.buffer[a-7]=i>>>16&255,this.buffer[a-6]=i>>>8&255,this.buffer[a-5]=i>>>0&255,this.buffer[a-4]=s>>>24&255,this.buffer[a-3]=s>>>16&255,this.buffer[a-2]=s>>>8&255,this.buffer[a-1]=s>>>0&255,n(this.temp,this.state,this.buffer,0,a),this.finished=!0}for(o=0;o<8;o++)e[4*o+0]=this.state[o]>>>24&255,e[4*o+1]=this.state[o]>>>16&255,e[4*o+2]=this.state[o]>>>8&255,e[4*o+3]=this.state[o]>>>0&255;return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype._saveState=function(e){for(var t=0;t<this.state.length;t++)e[t]=this.state[t]},t.prototype._restoreState=function(e,t){for(var n=0;n<this.state.length;n++)this.state[n]=e[n];this.bytesHashed=t,this.finished=!1,this.bufferLength=0},t}();e.Hash=r;var i=function(){function e(e){this.inner=new r,this.outer=new r,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var t=new Uint8Array(this.blockSize);if(e.length>this.blockSize)(new r).update(e).finish(t).clean();else for(var n=0;n<e.length;n++)t[n]=e[n];for(n=0;n<t.length;n++)t[n]^=54;for(this.inner.update(t),n=0;n<t.length;n++)t[n]^=106;for(this.outer.update(t),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),n=0;n<t.length;n++)t[n]=0}return e.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},e.prototype.clean=function(){for(var e=0;e<this.istate.length;e++)this.ostate[e]=this.istate[e]=0;this.inner.clean(),this.outer.clean()},e.prototype.update=function(e){return this.inner.update(e),this},e.prototype.finish=function(e){return this.outer.finished?this.outer.finish(e):(this.inner.finish(e),this.outer.update(e,this.digestLength).finish(e)),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e}();function s(e){var t=(new r).update(e),n=t.digest();return t.clean(),n}function a(e,t){var n=new i(e).update(t),r=n.digest();return n.clean(),r}function o(e,t,n,r){var i=r[0];if(0===i)throw new Error("hkdf: cannot expand more");t.reset(),i>1&&t.update(e),n&&t.update(n),t.update(r),t.finish(e),r[0]++}e.HMAC=i,e.hash=s,e.default=s,e.hmac=a;var u=new Uint8Array(e.digestLength);e.hkdf=function(e,t,n,r){void 0===t&&(t=u),void 0===r&&(r=32);for(var s=new Uint8Array([1]),c=a(t,e),l=new i(c),h=new Uint8Array(l.digestLength),p=h.length,f=new Uint8Array(r),d=0;d<r;d++)p===h.length&&(o(h,l,n,s),p=0),f[d]=h[p++];return l.clean(),h.fill(0),s.fill(0),f},e.pbkdf2=function(e,t,n,r){for(var s=new i(e),a=s.digestLength,o=new Uint8Array(4),u=new Uint8Array(a),c=new Uint8Array(a),l=new Uint8Array(r),h=0;h*a<r;h++){var p=h+1;o[0]=p>>>24&255,o[1]=p>>>16&255,o[2]=p>>>8&255,o[3]=p>>>0&255,s.reset(),s.update(t),s.update(o),s.finish(c);for(var f=0;f<a;f++)u[f]=c[f];for(f=2;f<=n;f++){s.reset(),s.update(c).finish(c);for(var d=0;d<a;d++)u[d]^=c[d]}for(f=0;f<a&&h*a+f<r;f++)l[h*a+f]=u[f]}for(h=0;h<a;h++)u[h]=c[h]=0;for(h=0;h<4;h++)o[h]=0;return s.clean(),l}}(r);var i=r.default;for(var s in r)i[s]=r[s];e.exports=i}()}(vf);const _f=new TextEncoder,Mf=class{constructor(e,t){this.element=e,this.eventCallback=t,this.needsRefresh=!0,this.needsRemoval=!1,this.pseudoStates={hover:!1,active:!1,focus:!1,target:!1},this.svgImage=new Image,this.bounds=new hf,this.padding=new pf,this.margin=new pf,this.border=new pf,this.childLayers=[],this.rasterizationCount=new Map,this.cachedBounds=new Map,this.cachedMargin=new Map,this._dynamicAttributes="",this._svgHash="",this._svgDocument="",this._svgHashRasterizing="",this._svgSrc="",this._hashingCanvas=document.createElement("canvas"),this.serializationReplacer=e=>{var t;if(this.element===e)return;const n=e,r=null==(t=n.tagName)?void 0:t.toLowerCase();if("style"===r||"link"===r)return"";const i=dd.layers.get(n);if(i){const e=i.bounds;let t="";const r=`box-sizing:border-box;max-width:${e.width+1}px;max-height:${e.height+1}px;min-width:${e.width}px;min-height:${e.height}px;visibility:hidden`;let s=!1;for(const e of i.element.attributes)"src"!==e.name&&("style"==e.name?(t+=wf(e.name,e.value+";"+r),s=!0):t+=wf(e.name,e.value));s||(t+=wf("style",r));const a=n.tagName.toLowerCase();return`<${a} ${t}></${a}>`}},dd.layers.set(e,this),this.id=e.getAttribute(dd.ELEMENT_UID_ATTRIBUTE)||dd.generateElementUID(),e.setAttribute(dd.ELEMENT_UID_ATTRIBUTE,this.id),e.setAttribute(dd.LAYER_ATTRIBUTE,""),this.parentLayer=dd.getClosestLayer(this.element,!1),this.eventCallback("layercreated",{target:e}),Mf.cachedCanvases.limit=dd.layers.size*Mf.DEFAULT_CACHE_SIZE,this._hashingCanvas.width=20,this._hashingCanvas.height=20}trySetFromSVGHash(e){const t=this.cachedBounds.get(e),n=this.cachedMargin.get(e);if(e==this._currentSVGHash)return t&&n&&(this._currentBounds=t,this._currentMargin=n),!0;{const r=Mf.svgCanvasHash.get(this._currentSVGHash),i=Mf.svgCanvasHash.get(e),s=Mf.cachedCanvases.get(i);if(s&&t&&n)return this._currentSVGHash=e,this._currentCanvas=s,this._currentBounds=t,this._currentMargin=n,r!==i&&this.eventCallback&&this.eventCallback("layerpainted",{target:this.element}),!0}return!1}get currentCanvas(){return this._currentCanvas}get currentBounds(){return this._currentBounds}get currentMargin(){return this._currentMargin}get depth(){let e=0,t=this;for(;t.parentLayer;)t=t.parentLayer,e++;return e}get rootLayer(){let e=this;for(;e.parentLayer;)e=e.parentLayer;return e}traverseParentLayers(e){const t=this.parentLayer;t&&(t.traverseParentLayers(e),e(t))}traverseLayers(e){e(this),this.traverseChildLayers(e)}traverseChildLayers(e){for(const t of this.childLayers)t.traverseLayers(e)}refresh(){this._currentSVGHash||(ff(this.element,this.bounds,this.parentLayer&&this.parentLayer.element),df(this.element,this.margin),this._currentBounds=this.bounds,this._currentMargin=this.margin),this.needsRefresh=!1,this._updateParentAndChildLayers(),dd.addToSerializeQueue(this)}_updateParentAndChildLayers(){const e=this.element,t=this.childLayers,n=t.slice(),r=this.parentLayer;this.parentLayer=dd.getClosestLayer(this.element,!1),r!==this.parentLayer&&(this.parentLayer&&this.parentLayer.childLayers.push(this),this.eventCallback("layermoved",{target:e})),t.length=0,lf(e,this._tryConvertElementToWebLayer,this);for(const e of n)dd.getClosestLayer(e.element,!1)||(e.needsRemoval=!0,t.push(e))}_tryConvertElementToWebLayer(e){if(this.needsRemoval)return!1;const t=e,n=getComputedStyle(t);if(t.getAttribute(dd.ELEMENT_UID_ATTRIBUTE)||t.setAttribute(dd.ELEMENT_UID_ATTRIBUTE,dd.generateElementUID()),t.hasAttribute(dd.LAYER_ATTRIBUTE)||"VIDEO"===t.nodeName||"none"!==n.transform){let e=dd.layers.get(t);return e||(e=new Mf(t,this.eventCallback)),this.childLayers.push(e),!1}return!0}async serialize(){var e;const t=this.element;if("VIDEO"===t.nodeName)return;ff(t,this.bounds,null==(e=this.parentLayer)?void 0:e.element),df(t,this.margin);let{width:n,height:r}=this.bounds;if(n+=Math.max(this.margin.left,0)+Math.max(this.margin.right,0),r+=Math.max(this.margin.top,0)+Math.max(this.margin.bottom,0),n*r>0){!function(e,t){let n=getComputedStyle(e);t.left=parseFloat(n.paddingLeft)||0,t.right=parseFloat(n.paddingRight)||0,t.top=parseFloat(n.paddingTop)||0,t.bottom=parseFloat(n.paddingBottom)||0}(t,this.padding),function(e,t){let n=getComputedStyle(e);t.left=parseFloat(n.borderLeftWidth)||0,t.right=parseFloat(n.borderRightWidth)||0,t.top=parseFloat(n.borderTopWidth)||0,t.bottom=parseFloat(n.borderBottomWidth)||0}(t,this.border);const e=dd.attributeHTML(dd.ELEMENT_UID_ATTRIBUTE,""+this.id),i="inline"===getComputedStyle(t).display;dd.updateInputAttributes(t);const s=this._getParentsHTML(t);s[0]=s[0].replace("html","html "+dd.RENDERING_DOCUMENT_ATTRIBUTE+'="" ');const a=await dd.getAllEmbeddedStyles(t);let o=await async function(e,t){return(await xf(e,{depth:0,replacer:t})).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")}(t,this.serializationReplacer);o=o.replace(e,`${e} ${dd.RENDERING_ATTRIBUTE}="" ${i?`${dd.RENDERING_INLINE_ATTRIBUTE}="" `:" "} `+dd.getPsuedoAttributes(this.pseudoStates));const u='<svg width="'+n+'" height="'+r+'" xmlns="http://www.w3.org/2000/svg"><defs><style type="text/css"><![CDATA[\n'+a.join("\n")+']]></style></defs><foreignObject x="0" y="0" width="'+(n+1)+'" height="'+(r+1)+'">'+s[0]+o+s[1]+"</foreignObject></svg>",c=this._svgDocument=u,l=this._svgHash=dd.arrayBufferToBase64(vf.exports.hash(_f.encode(c)))+"?w="+n+";h="+r;if(this.cachedBounds.set(l,(new hf).copy(this.bounds)),this.cachedMargin.set(l,(new pf).copy(this.margin)),this.trySetFromSVGHash(l))return;dd.addToRasterizeQueue(this)}else this._currentBounds.copy(this.bounds),this._currentMargin.copy(this.margin)}async rasterize(){return new Promise(((e,t)=>{const n=()=>{dd.addToRenderQueue(this),this.svgImage.onload=null,e()};this.svgImage.onload=()=>{setTimeout(n,10)},this.svgImage.onerror=e=>{t(e)},this._svgHashRasterizing=this._svgHash,this.svgImage.src=this._svgSrc="data:image/svg+xml;utf8,"+encodeURIComponent(this._svgDocument)}))}render(){if(!this.svgImage.complete||this.svgImage.currentSrc!==this.svgImage.src)return void setTimeout((()=>dd.addToRenderQueue(this)),100);const e=this._svgHashRasterizing;if(!this.cachedBounds.has(e)||!this.cachedMargin.has(e))return void(this.needsRefresh=!0);let{width:t,height:n}=this.cachedBounds.get(e),{left:r,top:i,right:s,bottom:a}=this.cachedMargin.get(e);const o=t+r+s,u=n+i+a,c=this._hashingCanvas;let l=c.width,h=c.height;const p=c.getContext("2d");p.clearRect(0,0,l,h),p.imageSmoothingEnabled=!1,p.drawImage(this.svgImage,0,0,o,u,0,0,l,h);const f=p.getImageData(0,0,l,h).data,d=dd.arrayBufferToBase64(vf.exports.hash(new Uint8Array(f))),m=Mf.svgCanvasHash.get(e);Mf.svgCanvasHash.set(e,d),m!==d&&Mf.svgRetryCount.set(e,0);const g=Mf.svgRetryCount.get(e)||0;if(Mf.svgRetryCount.set(e,g+1),g>3&&Mf.cachedCanvases.has(d))return void(this._svgHash===this._svgHashRasterizing&&this.trySetFromSVGHash(this._svgHash));if(setTimeout((()=>dd.addToRenderQueue(this)),2*(500+1e3*Math.random())^g),m===d&&Mf.cachedCanvases.has(m))return;const v=this.pixelRatio||parseFloat(this.element.getAttribute(dd.PIXEL_RATIO_ATTRIBUTE))||window.devicePixelRatio,y=Mf.cachedCanvases.size===Mf.cachedCanvases.limit?Mf.cachedCanvases.shift()[1]:document.createElement("canvas");let w=y.width=o*v,b=y.height=u*v;const x=y.getContext("2d");x.imageSmoothingEnabled=!1,x.clearRect(0,0,w,b),x.drawImage(this.svgImage,0,0,o,u,0,0,w,b),Mf.cachedCanvases.set(d,y),this._svgHash===this._svgHashRasterizing&&this.trySetFromSVGHash(e)}_getParentsHTML(e){const t=[],n=[];let r=e.parentElement;r||(r=document.documentElement);do{let e=r.tagName.toLowerCase(),i=" ",s="";for(const e of r.attributes){const t=yf(e.value);"style"!==e.name?i+=`${e.name}="${t}" `:s=t}const a="<"+e+("html"===e?` xmlns="http://www.w3.org/1999/xhtml" style="--x-width:${this.bounds.width}px;--x-height:${this.bounds.height}px;--x-inline-top:${this.border.top+this.margin.top+this.padding.top}px; ${s}" `:` style="${s}" ${dd.RENDERING_PARENT_ATTRIBUTE}="" `)+i+" >";t.unshift(a);const o="</"+e+">";if(n.push(o),"html"==e)break}while(r=r!==document.documentElement?r.parentElement||document.documentElement:null);return[t.join(""),n.join("")]}};let Ef=Mf;Ef.DEFAULT_CACHE_SIZE=4,Ef.svgRetryCount=new Map,Ef.svgCanvasHash=new gf.LRUMap(1e3),Ef.cachedCanvases=new gf.LRUMap(Mf.DEFAULT_CACHE_SIZE);var Nf,Sf,Tf=[],Of="ResizeObserver loop completed with undelivered notifications.";(Sf=Nf||(Nf={})).BORDER_BOX="border-box",Sf.CONTENT_BOX="content-box",Sf.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var Cf,Af=function(e){return Object.freeze(e)},Rf=function(e,t){this.inlineSize=e,this.blockSize=t,Af(this)},kf=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Af(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),zf=function(e){return e instanceof SVGElement&&"getBBox"in e},Df=function(e){if(zf(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,s=i.offsetWidth,a=i.offsetHeight;return!(s||a||e.getClientRects().length)},If=function(e){var t,n;if(e instanceof Element)return!0;var r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},Lf="undefined"!=typeof window?window:{},Bf=new WeakMap,Pf=/auto|scroll/,Ff=/^tb|vertical/,jf=/msie|trident/i.test(Lf.navigator&&Lf.navigator.userAgent),Uf=function(e){return parseFloat(e||"0")},qf=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new Rf((n?t:e)||0,(n?e:t)||0)},Vf=Af({devicePixelContentBoxSize:qf(),borderBoxSize:qf(),contentBoxSize:qf(),contentRect:new kf(0,0,0,0)}),Hf=function(e,t){if(void 0===t&&(t=!1),Bf.has(e)&&!t)return Bf.get(e);if(Df(e))return Bf.set(e,Vf),Vf;var n=getComputedStyle(e),r=zf(e)&&e.ownerSVGElement&&e.getBBox(),i=!jf&&"border-box"===n.boxSizing,s=Ff.test(n.writingMode||""),a=!r&&Pf.test(n.overflowY||""),o=!r&&Pf.test(n.overflowX||""),u=r?0:Uf(n.paddingTop),c=r?0:Uf(n.paddingRight),l=r?0:Uf(n.paddingBottom),h=r?0:Uf(n.paddingLeft),p=r?0:Uf(n.borderTopWidth),f=r?0:Uf(n.borderRightWidth),d=r?0:Uf(n.borderBottomWidth),m=h+c,g=u+l,v=(r?0:Uf(n.borderLeftWidth))+f,y=p+d,w=o?e.offsetHeight-y-e.clientHeight:0,b=a?e.offsetWidth-v-e.clientWidth:0,x=i?m+v:0,_=i?g+y:0,M=r?r.width:Uf(n.width)-x-b,E=r?r.height:Uf(n.height)-_-w,N=M+m+b+v,S=E+g+w+y,T=Af({devicePixelContentBoxSize:qf(Math.round(M*devicePixelRatio),Math.round(E*devicePixelRatio),s),borderBoxSize:qf(N,S,s),contentBoxSize:qf(M,E,s),contentRect:new kf(h,u,M,E)});return Bf.set(e,T),T},$f=function(e,t,n){var r=Hf(e,n),i=r.borderBoxSize,s=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case Nf.DEVICE_PIXEL_CONTENT_BOX:return a;case Nf.BORDER_BOX:return i;default:return s}},Wf=function(e){var t=Hf(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=Af([t.borderBoxSize]),this.contentBoxSize=Af([t.contentBoxSize]),this.devicePixelContentBoxSize=Af([t.devicePixelContentBoxSize])},Gf=function(e){if(Df(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Yf=function(){var e=1/0,t=[];Tf.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new Wf(t.target),i=Gf(t.target);r.push(n),t.lastReportedSize=$f(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++)(0,r[n])();return e},Zf=function(e){Tf.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(Gf(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},Xf=[],Jf=0,Qf={attributes:!0,characterData:!0,childList:!0,subtree:!0},Kf=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ed=function(e){return void 0===e&&(e=0),Date.now()+e},td=!1,nd=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!td){td=!0;var n,r=ed(e);n=function(){var n=!1;try{n=function(){var e,t=0;for(Zf(t);Tf.some((function(e){return e.activeTargets.length>0}));)t=Yf(),Zf(t);return Tf.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:Of}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=Of),window.dispatchEvent(e)),t>0}()}finally{if(td=!1,e=r-ed(),!Jf)return;n?t.run(1e3):e>0?t.run(e):t.start()}},function(e){if(!Cf){var t=0,n=document.createTextNode("");new MutationObserver((function(){return Xf.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),Cf=function(){n.textContent=""+(t?t--:t++)}}Xf.push(e),Cf()}((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Qf)};document.body?t():Lf.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Kf.forEach((function(t){return Lf.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Kf.forEach((function(t){return Lf.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),rd=function(e){!Jf&&e>0&&nd.start(),!(Jf+=e)&&nd.stop()},id=function(){function e(e,t){this.target=e,this.observedBox=t||Nf.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=$f(this.target,this.observedBox,!0);return e=this.target,zf(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),sd=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},ad=new WeakMap,od=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},ud=function(){function e(){}return e.connect=function(e,t){var n=new sd(e,t);ad.set(e,n)},e.observe=function(e,t,n){var r=ad.get(e),i=0===r.observationTargets.length;od(r.observationTargets,t)<0&&(i&&Tf.push(r),r.observationTargets.push(new id(t,n&&n.box)),rd(1),nd.schedule())},e.unobserve=function(e,t){var n=ad.get(e),r=od(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&Tf.splice(Tf.indexOf(n),1),n.observationTargets.splice(r,1),rd(-1))},e.disconnect=function(e){var t=this,n=ad.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),cd=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ud.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!If(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ud.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!If(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ud.unobserve(this,e)},e.prototype.disconnect=function(){ud.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const ld=self.ResizeObserver||cd,hd=new Ii,pd=new Ii;new TextDecoder,Promise.resolve();const fd=class{static get ELEMENT_UID_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-uid"}static get HOVER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-hover"}static get ACTIVE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-active"}static get FOCUS_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-focus"}static get TARGET_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-target"}static get LAYER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-layer"}static get PIXEL_RATIO_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-pixel-ratio"}static get RENDERING_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering"}static get RENDERING_PARENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-parent"}static get RENDERING_CONTAINER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-container"}static get RENDERING_INLINE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-inline"}static get RENDERING_DOCUMENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-document"}static generateElementUID(){return""+this._nextUID++}static getPsuedoAttributes(e){return`${e.hover?`${this.HOVER_ATTRIBUTE}="" `:" "}${e.focus?`${this.FOCUS_ATTRIBUTE}="" `:" "}${e.active?`${this.ACTIVE_ATTRIBUTE}="" `:" "}${e.target?`${this.TARGET_ATTRIBUTE}="" `:" "}`}static initRootNodeObservation(e){const t=e.ownerDocument,n=e.getRootNode(),r="head"in n?n.head:n;if(this.rootNodeObservers.get(n))return;const i=this.containerStyleElement=t.createElement("style");t.head.appendChild(i),i.innerHTML=`\n      [${fd.RENDERING_CONTAINER_ATTRIBUTE}] {\n        all: initial;\n        position: fixed;\n        width: 100%;\n        height: 100%;\n        top: 0px;\n      }\n    `;const s=`\n    [${fd.RENDERING_DOCUMENT_ATTRIBUTE}] * {\n      transform: none !important;\n    }\n\n    [${fd.RENDERING_ATTRIBUTE}], [${fd.RENDERING_ATTRIBUTE}] * {\n      visibility: visible !important;\n      /* the following is a hack for Safari; \n      without some kind of css filter active, \n      any box-shadow effect will fail to rasterize properly */\n      filter: opacity(1);\n    }\n    \n    [${fd.RENDERING_ATTRIBUTE}] [${fd.LAYER_ATTRIBUTE}], [${fd.RENDERING_ATTRIBUTE}] [${fd.LAYER_ATTRIBUTE}] * {\n      visibility: hidden !important;\n    }\n\n    [${fd.RENDERING_ATTRIBUTE}] {\n      position: relative !important;\n      top: 0 !important;\n      left: 0 !important;\n      float: left !important; /* prevent margin-collapse in SVG foreign-element for Webkit */\n      box-sizing:border-box;\n      min-width:var(--x-width);\n      min-height:var(--x-height);\n    }\n    \n    [${fd.RENDERING_INLINE_ATTRIBUTE}] {\n      top: var(--x-inline-top) !important;\n      width:auto !important;\n    }\n\n    [${fd.RENDERING_PARENT_ATTRIBUTE}] {\n      transform: none !important;\n      left: 0 !important;\n      top: 0 !important;\n      margin: 0 !important;\n      border:0 !important;\n      border-radius:0 !important;\n      width: 100% !important;\n      height:100% !important;\n      padding:0 !important;\n      visibility:hidden !important;\n      filter:none !important;\n    }\n    \n    [${fd.RENDERING_PARENT_ATTRIBUTE}]::before, [${fd.RENDERING_PARENT_ATTRIBUTE}]::after {\n      content:none !important;\n      box-shadow:none !important;\n    }\n    `,a=t.createElement("style");if(a.textContent=s,r.append(a),n===t){let e="";const t=()=>{if(e!=window.location.hash&&window.location.hash)try{this.targetElement=n.querySelector(window.location.hash)}catch{}e=window.location.hash};window.addEventListener("hashchange",t,!1),t(),window.addEventListener("focusin",(e=>{this.focusElement=e.target}),!1),window.addEventListener("focusout",(e=>{this.focusElement=null}),!1),window.addEventListener("load",(e=>{o()}))}const o=()=>{for(const[e,t]of this.layers)t.needsRefresh=!0},u=e=>{var t=e.nodeName.toUpperCase();-1!==c.indexOf(t)&&e.addEventListener("load",o)},c=["STYLE","LINK"],l=new MutationObserver((e=>{for(const t of e){-1!==c.indexOf(t.target.nodeName.toUpperCase())&&o();for(const e of t.addedNodes)u(e)}}));l.observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.rootNodeObservers.set(n,l)}static addToSerializeQueue(e){-1===this.serializeQueue.indexOf(e)&&this.serializeQueue.push(e)}static addToRasterizeQueue(e){-1===this.rasterizeQueue.indexOf(e)&&this.rasterizeQueue.push(e)}static addToRenderQueue(e){-1===this.renderQueue.indexOf(e)&&this.renderQueue.push(e)}static _runTasks(){fd.tasksPending=!1;const e=fd.serializeQueue,t=fd.rasterizeQueue,n=fd.renderQueue,r=fd.TASK_SYNC_MAX_TIME/2;let i=performance.now();for(;n.length&&performance.now()-i<r;)n.shift().render();for(i=performance.now();e.length&&performance.now()-i<r;)e.shift().serialize();t.length&&fd.rasterizeTaskCount<fd.TASK_ASYNC_MAX_COUNT&&(fd.rasterizeTaskCount++,t.shift().rasterize().finally((()=>{fd.rasterizeTaskCount--})))}static scheduleTasksIfNeeded(){this.tasksPending||0===fd.serializeQueue.length&&0===fd.renderQueue.length&&(0===fd.rasterizeQueue.length||fd.rasterizeTaskCount===fd.TASK_ASYNC_MAX_COUNT)||(this.tasksPending=!0,fd.scheduleIdle(fd._runTasks))}static scheduleIdle(e){setTimeout(e,1)}static setLayerNeedsRefresh(e){e.needsRefresh=!0}static createLayerTree(e,t,n){if(fd.getClosestLayer(e))throw new Error("A root WebLayer for the given element already exists");!function(e,t){if(document.contains(e))return e;const n=document.createElement("div");n.setAttribute(dd.RENDERING_CONTAINER_ATTRIBUTE,""),n.style.visibility="hidden",n.style.pointerEvents="none",n.style.touchAction="none",n.attachShadow({mode:"open"}).appendChild(e),document.documentElement.appendChild(n)}(e),fd.initRootNodeObservation(e);const r=new MutationObserver(fd._handleMutations);this.mutationObservers.set(e,r),this.startMutationObserver(e);const i=new ld((e=>{for(const t of e){const e=this.getClosestLayer(t.target);e.traverseLayers(fd.setLayerNeedsRefresh),e.traverseParentLayers(fd.setLayerNeedsRefresh)}}));i.observe(e),this.resizeObservers.set(e,i),e.addEventListener("input",this._triggerRefresh,{capture:!0}),e.addEventListener("keydown",this._triggerRefresh,{capture:!0}),e.addEventListener("submit",this._triggerRefresh,{capture:!0}),e.addEventListener("change",this._triggerRefresh,{capture:!0}),e.addEventListener("focus",this._triggerRefresh,{capture:!0}),e.addEventListener("blur",this._triggerRefresh,{capture:!0}),e.addEventListener("transitionend",this._triggerRefresh,{capture:!0});const s=new Ef(e,n);return this.rootLayers.set(e,s),s}static disposeLayer(e){this.rootLayers.has(e.element)&&(this.rootLayers.delete(e.element),this.mutationObservers.get(e.element).disconnect(),this.mutationObservers.delete(e.element),this.resizeObservers.get(e.element).disconnect(),this.resizeObservers.delete(e.element),e.element.removeEventListener("input",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("keydown",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("submit",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("change",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("focus",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("blur",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("transitionend",this._triggerRefresh,{capture:!0}))}static getClosestLayer(e,t=!0){let n=t?e:e.parentElement;const r=null==n?void 0:n.closest(`[${fd.LAYER_ATTRIBUTE}]`);if(!r){const n=(null==e?void 0:e.getRootNode()).host;if(n)return this.getClosestLayer(n,t)}return this.layers.get(r)}static parseCSSTransform(e,t,n,r,i=new Ii){const s=e.transform,a=e.transformOrigin;if(0==s.indexOf("matrix(")){i.identity();var o=s.substring(7,s.length-1).split(", ").map(parseFloat);i.elements[0]=o[0],i.elements[1]=o[1],i.elements[4]=o[2],i.elements[5]=o[3],i.elements[12]=o[4],i.elements[13]=o[5]}else{if(0!=s.indexOf("matrix3d("))return null;o=s.substring(9,s.length-1).split(", ").map(parseFloat),i.fromArray(o)}0===i.elements[0]&&(i.elements[0]=1e-15),0===i.elements[5]&&(i.elements[5]=1e-15),0===i.elements[10]&&(i.elements[10]=1e-15),i.elements[12]*=r,i.elements[13]*=-1*r;var u=a.split(" ").map(parseFloat),c=(u[0]-t/2)*r,l=(u[1]-n/2)*r*-1,h=u[2]||0,p=hd.identity().makeTranslation(-c,-l,-h),f=pd.identity().makeTranslation(c,l,h);for(const e of i.elements)if(isNaN(e))return null;return i.premultiply(f).multiply(p)}static pauseMutationObservers(){const e=fd.mutationObservers.values();for(const t of e)fd._handleMutations(t.takeRecords()),t.disconnect()}static resumeMutationObservers(){for(const[e]of fd.mutationObservers)this.startMutationObserver(e)}static startMutationObserver(e){fd.mutationObservers.get(e).observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0})}static _addDynamicPseudoClassRules(e){const t=e.styleSheets;for(let e=0;e<t.length;e++)try{const i=t[e],s=i.cssRules;if(!s)continue;const a=[];for(var n=0;n<s.length;n++){s[n].cssText.indexOf(":hover")>-1&&a.push(s[n].cssText.replace(new RegExp(":hover","g"),`[${fd.HOVER_ATTRIBUTE}]`)),s[n].cssText.indexOf(":active")>-1&&a.push(s[n].cssText.replace(new RegExp(":active","g"),`[${fd.ACTIVE_ATTRIBUTE}]`)),s[n].cssText.indexOf(":focus")>-1&&a.push(s[n].cssText.replace(new RegExp(":focus","g"),`[${fd.FOCUS_ATTRIBUTE}]`)),s[n].cssText.indexOf(":target")>-1&&a.push(s[n].cssText.replace(new RegExp(":target","g"),`[${fd.TARGET_ATTRIBUTE}]`));var r=a.indexOf(s[n].cssText);r>-1&&a.splice(r,1)}for(n=0;n<a.length;n++)i.insertRule(a[n])}catch(e){}}static arrayBufferToBase64(e){for(var t="",n=e.byteLength,r=0;r<n;r++)t+=String.fromCharCode(e[r]);return window.btoa(t)}static attributeCSS(e,t){return t?`[${e}]=${t}`:`[${e}]`}static attributeHTML(e,t){return t?`${e}="${t}"`:`${e}=""`}static async generateEmbeddedCSS(e,t){let n;const r=[];t=(t=(t=(t=t.replace(new RegExp(":hover","g"),this.attributeCSS(this.HOVER_ATTRIBUTE))).replace(new RegExp(":active","g"),this.attributeCSS(this.ACTIVE_ATTRIBUTE))).replace(new RegExp(":focus","g"),this.attributeCSS(this.FOCUS_ATTRIBUTE))).replace(new RegExp(":target","g"),this.attributeCSS(this.TARGET_ATTRIBUTE));const i=RegExp(/(@import.*?["']([^"']+)["'].*?|url\((?!['"]?(?:data):)['"]?([^'"\)]*)['"]?\))/gi);for(;n=i.exec(t);){const i=n[2]?"type/css":void 0,s=n[2]||n[3];r.push(this.getDataURL(new URL(s,e).href,i).then((e=>{t=t.replace(s,e)})))}return await Promise.all(r),t}static async getAllEmbeddedStyles(e){const t=e.getRootNode(),n=this.embeddedStyles.get(t)||new Map;this.embeddedStyles.set(t,n);const r=Array.from(t.querySelectorAll("style, link[type='text/css'], link[rel='stylesheet']")),i=e.getRootNode()instanceof ShadowRoot;for(const e of r)n.has(e)||n.set(e,new Promise((t=>{if("style"===e.tagName.toLowerCase())t(e.textContent||"");else{const n=e;t(this.getEmbeddedCSS(n.href))}})).then((e=>{const t=RegExp(/@font-face[^{]*{([^{}]|{[^{}]*})*}/gi),r=e.match(t);if(i&&r){const e=document.createElement("style");e.innerHTML=r.reduce(((e,t)=>t+"\n\n"+e),""),document.head.appendChild(e),n.set(e,Promise.resolve(""))}return this.generateEmbeddedCSS(window.location.href,e)})));return Promise.all(n.values())}static async getDataURL(e,t){if(e.startsWith("data"))return e;if(this.dataURLMap.has(e))return this.dataURLMap.get(e);const n=new Promise((async n=>{const r=await fetch(e,t?{headers:{accept:t}}:void 0),i=r.headers.get("content-type");if("text/css"==i){const t=await this.generateEmbeddedCSS(e,await r.text());this.embeddedCSSMap.set(e,t),n("data:"+i+";base64,"+window.btoa(t))}else{const e=new Uint8Array(await r.arrayBuffer());n("data:"+i+";base64,"+this.arrayBufferToBase64(e))}}));return this.dataURLMap.set(e,n),n}static async getEmbeddedCSS(e){if(this.embeddedCSSMap.has(e))return this.embeddedCSSMap.get(e);const t=await fetch(e,{headers:{accept:"text/css"}}),n=await this.generateEmbeddedCSS(e,await t.text());return this.embeddedCSSMap.set(e,n),this.embeddedCSSMap.get(e)}static updateInputAttributes(e){e.matches("input")&&this._updateInputAttribute(e);for(const t of e.getElementsByTagName("input"))this._updateInputAttribute(t)}static _updateInputAttribute(e){e.hasAttribute("checked")?e.checked||e.removeAttribute("checked"):e.checked&&e.setAttribute("checked",""),e.getAttribute("value")!==e.value&&e.setAttribute("value",e.value)}static isBlankImage(e){return!new Uint32Array(e.buffer).some((e=>0!==e))}};let dd=fd;if(dd.ATTRIBUTE_PREFIX="xr",dd._nextUID=0,dd.serializer=new XMLSerializer,dd.rootLayers=new Map,dd.layers=new Map,dd.mutationObservers=new Map,dd.resizeObservers=new Map,dd.serializeQueue=[],dd.rasterizeQueue=[],dd.renderQueue=[],dd.focusElement=null,dd.activeElement=null,dd.targetElement=null,dd.rootNodeObservers=new Map,dd.TASK_ASYNC_MAX_COUNT=2,dd.TASK_SYNC_MAX_TIME=200,dd.rasterizeTaskCount=0,dd.tasksPending=!1,dd._handleMutations=e=>{for(const t of e){if("attributes"===t.type&&t.target.getAttribute(t.attributeName)===t.oldValue)continue;if("characterData"===t.type&&t.target.data===t.oldValue)continue;const e=t.target.nodeType===Node.ELEMENT_NODE?t.target:t.target.parentElement;if(!e)continue;const n=fd.getClosestLayer(e);if(n){if("attributes"===t.type&&"class"===t.attributeName&&(t.oldValue?t.oldValue:"")===t.target.className)continue;n.parentLayer?n.parentLayer.traverseChildLayers(fd.setLayerNeedsRefresh):n.traverseLayers(fd.setLayerNeedsRefresh)}}},dd._triggerRefresh=async e=>{const t=fd.getClosestLayer(e.target);t&&(t.parentLayer?t.parentLayer.traverseChildLayers(fd.setLayerNeedsRefresh):t.traverseLayers(fd.setLayerNeedsRefresh))},dd.embeddedStyles=new Map,dd.dataURLMap=new Map,dd.embeddedCSSMap=new Map,self.THREE)var md=self.THREE;else md=_i;const gd=new md.Matrix4,vd=new md.Vector3,yd=new md.Vector3,wd=new hf,bd=new hf,xd=Symbol("ON_BEFORE_UPDATE");class _d extends md.Object3D{constructor(e,t={}){super(),this.element=e,this.options=t,this.isRoot=!1,this._localZ=0,this._viewZ=0,this._renderZ=0,this.textures=new Map,this.textureNeedsUpdate=!1,this.contentMesh=new md.Mesh(Ed.GEOMETRY,new md.MeshBasicMaterial({side:md.DoubleSide,depthWrite:!1,transparent:!0,alphaTest:.001,opacity:1})),this._boundsMesh=new md.Mesh(Ed.GEOMETRY,new md.MeshBasicMaterial({visible:!1})),this.cursor=new md.Object3D,this.depthMaterial=new md.MeshDepthMaterial({depthPacking:md.RGBADepthPacking,alphaTest:.001}),this.domLayout=new md.Object3D,this.domSize=new md.Vector3(1,1,1),this.bounds=new hf,this.margin=new pf,this.childWebLayers=[],this.shouldApplyDOMLayout="auto",this.name=e.id,this._webLayer=dd.getClosestLayer(e),e.layer=this,this.add(this.contentMesh),this.add(this._boundsMesh),this.cursor.visible=!1,this.matrixAutoUpdate=!0,this.contentMesh.matrixAutoUpdate=!0,this.contentMesh.visible=!1,this.contentMesh.customDepthMaterial=this.depthMaterial,this.contentMesh.onBeforeRender=(e,t,n)=>{this._camera=n},this._boundsMesh.matrixAutoUpdate=!0,Ed.layersByElement.set(this.element,this),Ed.layersByMesh.set(this.contentMesh,this)}get currentTexture(){if("VIDEO"===this._webLayer.element.tagName){const e=this._webLayer.element;let t=this.textures.get(e);return t||(t=new md.VideoTexture(e),t.wrapS=md.ClampToEdgeWrapping,t.wrapT=md.ClampToEdgeWrapping,t.minFilter=md.LinearFilter,this.options.textureEncoding&&(t.encoding=this.options.textureEncoding),this.textures.set(e,t)),t}const e=this._webLayer.currentCanvas;let t=this.textures.get(e);return e&&!t&&(t=new md.Texture(e),t.needsUpdate=!0,t.wrapS=md.ClampToEdgeWrapping,t.wrapT=md.ClampToEdgeWrapping,t.minFilter=md.LinearFilter,this.options.textureEncoding&&(t.encoding=this.options.textureEncoding),this.textures.set(e,t)),t}get pseudoStates(){return this._webLayer.pseudoStates}get depth(){return this._webLayer.depth}get index(){return this.parentWebLayer?this.parentWebLayer.childWebLayers.indexOf(this):0}get needsRefresh(){return this._webLayer.needsRefresh}setNeedsRefresh(){this._webLayer.traverseLayers(dd.setLayerNeedsRefresh)}get needsRemoval(){return this._webLayer.needsRemoval}get parentWebLayer(){return this._webLayer.parentLayer&&Ed.layersByElement.get(this._webLayer.parentLayer.element)}refresh(e=!1){var t;this._webLayer.refresh(),this.childWebLayers.length=0;for(const n of this._webLayer.childLayers){const r=Ed.layersByElement.get(null==(t=dd.getClosestLayer(n.element))?void 0:t.element);r&&(this.childWebLayers.push(r),e&&r.refresh(e))}this._refreshVideoBounds()}updateLayout(){if(this._updateDOMLayout(),this._camera){this._localZ=Math.abs(vd.setFromMatrixPosition(this.matrix).z+vd.setFromMatrixPosition(this.contentMesh.matrix).z),this._viewZ=Math.abs(this.contentMesh.getWorldPosition(vd).applyMatrix4(this._camera.matrixWorldInverse).z);let e=this.parentWebLayer?this.parentWebLayer._renderZ:this._viewZ;this._localZ<.001?this._renderZ=e:this._renderZ=this._viewZ,this.contentMesh.renderOrder=(this.options.renderOrderOffset||0)+(1-Math.log(this._renderZ+1)/Math.log(this._camera.far+1))+1e-7*(this.depth+.001*this.index)}}updateContent(){const e=this.contentMesh,t=this.currentTexture,n=e.material;if(t&&(t.image&&n.map!==t||this.textureNeedsUpdate)){const e=this.contentMesh.scale,r=Math.abs(e.x*this.scale.x/e.y*this.scale.y),i=this.domSize.x/this.domSize.y;Math.abs(i-r)<1e3&&(n.map=t,this.depthMaterial.map=t,this.textureNeedsUpdate=!1,n.needsUpdate=!0,t.needsUpdate=!0,this.depthMaterial.needsUpdate=!0)}n.transparent=!0;const r=e.material.opacity<.005;r?e.visible=!1:e.material.map&&(e.visible=!0),this.needsRemoval&&r&&(this.parent&&this.parent.remove(this),this.dispose())}get rootWebLayer(){return Ed.layersByElement.get(this._webLayer.rootLayer.element)}[xd](){}_doUpdate(){this[xd](),this.updateContent(),this.updateLayout(),this.position.copy(this.domLayout.position),this.quaternion.copy(this.domLayout.quaternion),this.scale.copy(this.domLayout.scale),this.contentMesh.position.set(0,0,0),this.contentMesh.scale.copy(this.domSize),this.contentMesh.quaternion.set(0,0,0,1),this._boundsMesh.position.set(0,0,0),this._boundsMesh.scale.copy(this.domSize),this._boundsMesh.quaternion.set(0,0,0,1),this.needsRefresh&&!1!==this.options.autoRefresh&&this.refresh(),dd.scheduleTasksIfNeeded()}update(e=!1){e?this.traverseLayersPreOrder(this._doUpdate):this._doUpdate()}querySelector(e){var t;const n=this.element.querySelector(e)||(null==(t=this.element.shadowRoot)?void 0:t.querySelector(e));if(n)return Ed.layersByElement.get(n)}traverseLayerAncestors(e){const t=this.parentWebLayer;t&&(t.traverseLayerAncestors(e),e.call(this,t))}traverseLayersPreOrder(e){if(!1===e.call(this,this))return!1;for(const t of this.childWebLayers)if(!1===t.traverseLayersPreOrder(e))return!1;return!0}traverseLayersPostOrder(e){for(const t of this.childWebLayers)if(!1===t.traverseLayersPostOrder(e))return!1;return e.call(this,this)||!0}dispose(){for(const e of this.textures.values())e.dispose();this.contentMesh.geometry.dispose(),this._boundsMesh.geometry.dispose(),dd.disposeLayer(this._webLayer);for(const e of this.childWebLayers)e.dispose()}_refreshVideoBounds(){if("VIDEO"===this.element.nodeName){const e=this.element,t=this.currentTexture,n=getComputedStyle(this.element),{objectFit:r}=n,{width:i,height:s}=this.bounds.copy(this._webLayer.currentBounds),{videoWidth:a,videoHeight:o}=e,u=a/o,c=i/s;switch(t.center.set(.5,.5),r){case"none":t.repeat.set(i/a,s/o).clampScalar(0,1);break;case"contain":case"scale-down":if(t.repeat.set(1,1),c>u){const e=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-e)/2,this.bounds.width=e}else{const e=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-e)/2,this.bounds.height=e}break;case"cover":if(t.repeat.set(i/a,s/o),c<u){const e=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-e)/2,this.bounds.width=e}else{const e=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-e)/2,this.bounds.height=e}break;default:case"fill":t.repeat.set(1,1)}}}_updateDOMLayout(){if(this.needsRemoval)return;const{currentBounds:e,currentMargin:t}=this._webLayer;this.domLayout.position.set(0,0,0),this.domLayout.scale.set(1,1,1),this.domLayout.quaternion.set(0,0,0,1);const n="VIDEO"===this.element.nodeName,r=n?this.bounds:this.bounds.copy(e),i=n?this.margin:this.margin.copy(t),s=r.width+i.left+i.right,a=r.height+i.top+i.bottom,o=r.width,u=r.height,c=1/Ed.DEFAULT_PIXELS_PER_UNIT;if(this.domSize.set(Math.max(c*(o+i.left+i.right),1e-5),Math.max(c*(u+i.top+i.bottom),1e-5),1),!Ed.shouldApplyDOMLayout(this))return;const l=this.parentWebLayer;if(!l)return;const h=l.bounds,p=l.margin,f=h.width+p.left+p.right,d=h.height+p.bottom+p.top,m=-f/2+p.left,g=d/2-p.top;this.domLayout.position.set(c*(m+s/2+r.left-i.left),c*(g-a/2-r.top+i.top),0);const v=getComputedStyle(this.element),y=v.transform;if(y&&"none"!==y){const e=dd.parseCSSTransform(v,r.width,r.height,c,gd);e&&(this.domLayout.updateMatrix(),this.domLayout.matrix.multiply(e),this.domLayout.matrix.decompose(this.domLayout.position,this.domLayout.quaternion,this.domLayout.scale))}}}const Md=class extends md.Object3D{constructor(e,t={}){super(),this.options=t,this._interactionRays=[],this._raycaster=new md.Raycaster,this._hitIntersections=[],this._previousHoverLayers=new Set,this._contentMeshes=[],this._prepareHitTest=e=>{e.pseudoStates.hover&&this._previousHoverLayers.add(e),e.cursor.visible=!1,e.pseudoStates.hover=!1,this._contentMeshes.push(e.contentMesh)};const n="string"==typeof e?function(e){const t=document.createElement("div");t.innerHTML=e;const n=t.firstElementChild;return t.removeChild(n),n}(e):e;dd.createLayerTree(n,t,((e,{target:t})=>{var r,i,s,a,o,u;if("layercreated"===e){const e=new _d(t,this.options);t===n?(e[xd]=()=>this._updateInteractions(),e.isRoot=!0,this.rootLayer=e,this.add(e)):null==(r=e.parentWebLayer)||r.add(e),null==(s=(i=this.options).onLayerCreate)||s.call(i,e)}else if("layerpainted"===e){const e=dd.layers.get(t),n=Md.layersByElement.get(e.element);n.textureNeedsUpdate=!0,null==(o=(a=this.options).onLayerPaint)||o.call(a,n)}else if("layermoved"===e){const e=Md.layersByElement.get(t);null==(u=e.parentWebLayer)||u.add(e)}})),this.refresh(),this.update()}static shouldApplyDOMLayout(e){const t=e.shouldApplyDOMLayout;return"always"===t||!0===t||"never"!==t&&!1!==t&&!("auto"!==t||!e.parentWebLayer||e.parent!==e.parentWebLayer)}get interactionRays(){return this._interactionRays}set interactionRays(e){this._interactionRays=e}querySelector(e){return this.rootLayer.querySelector(e)}refresh(){this.rootLayer.refresh(!0)}update(){this.rootLayer.update(!0)}get contentMesh(){return this.rootLayer.contentMesh}_intersectionSort(e,t){const n=e.object.parent,r=t.object.parent;return n.depth!==r.depth?r.depth-n.depth:r.index-n.index}_updateInteractions(){const e=this._previousHoverLayers;e.clear(),this._contentMeshes.length=0,this.rootLayer.traverseLayersPreOrder(this._prepareHitTest);for(const t of this._interactionRays){t instanceof md.Ray?this._raycaster.ray.copy(t):this._raycaster.ray.set(t.getWorldPosition(vd),t.getWorldDirection(yd).negate()),this._hitIntersections.length=0;const n=this._raycaster.intersectObjects(this._contentMeshes,!1,this._hitIntersections);n.sort(this._intersectionSort);const r=n[0];if(r){const t=r.object.parent;t.cursor.position.copy(r.point),t.cursor.visible=!0,t.pseudoStates.hover=!0,e.has(t)||t.setNeedsRefresh()}}for(const t of e)t.pseudoStates.hover||t.setNeedsRefresh()}hitTest(e){const t=this._raycaster,n=this._hitIntersections,r=Md.layersByMesh;e instanceof md.Ray?this._raycaster.ray.copy(e):this._raycaster.ray.set(e.getWorldPosition(vd),e.getWorldDirection(yd).negate()),n.length=0,t.intersectObject(this,!0,n),n.sort(this._intersectionSort);for(const e of n){const t=r.get(e.object);if(!t)continue;const n=ff(t.element,wd);if(!n.width||!n.height)continue;let i=t.element;const s=e.uv.x*n.width,a=(1-e.uv.y)*n.height;return lf(t.element,(e=>{if(!i.contains(e))return!1;const t=ff(e,bd),r=t.left-n.left,o=t.top-n.top,{width:u,height:c}=t;return s>r&&s<r+u&&a>o&&a<o+c&&(i=e,!0)})),{layer:t,intersection:e,target:i}}}};let Ed=Md;Ed.layersByElement=new WeakMap,Ed.layersByMesh=new WeakMap,Ed.DEFAULT_LAYER_SEPARATION=.001,Ed.DEFAULT_PIXELS_PER_UNIT=1e3,Ed.GEOMETRY=new md.PlaneGeometry(1,1,2,2);const Nd=new Ii,Sd=new Ii,Td={getChildren(e,t){const n=e.node;if(n.isObject3D){t.length=0;for(let e=0;e<n.children.length;e++)t[e]=n.children[e]}},getState(e){var t;if(e.system.viewNode===e.node){const t=e.node;t.updateMatrixWorld(),e.system.viewFrustum.setFromPerspectiveProjectionMatrix(t.projectionMatrix)}const n=e.node;if(!n.isObject3D)return;let r,i;if(e.isAdaptive){const s=null==(t=e.referenceMetrics)?void 0:t.target.worldMatrix;i=Nd.compose(n.position,n.quaternion,n.scale),r=s?Sd.multiplyMatrices(s,i):i}else r=n.matrixWorld,i=n.matrix;e.raw.parent=n.parent,e.raw.worldMatrix.copy(r),e.raw.relativeMatrix.copy(i),e.raw.opacity=Od(e)||1},getIntrinsicBounds(e,t){const n=e.node;if(n.isObject3D)return n.geometry?(n.geometry.boundingBox||n.geometry.computeBoundingBox(),t.copy(n.geometry.boundingBox)):t},apply(e,t){const n=e.node;if(!n.isObject3D)return;if(t.parent!==n.parent){const e=t.parent;e&&e.add(n)}let r=t.localMatrix;if(isNaN(r.elements[0])||isNaN(r.elements[13])||isNaN(r.elements[14])||isNaN(r.elements[15])||0===r.elements[0])throw new Error;if(r=t.worldMatrix,isNaN(r.elements[0])||isNaN(r.elements[13])||isNaN(r.elements[14])||isNaN(r.elements[15])||0===r.elements[0])throw new Error;n.matrixAutoUpdate=!1,n.matrix.copy(t.localMatrix),n.matrixWorld.copy(t.worldMatrix),Cd(e,t.opacity)}};function Od(e){const t=e.node;if(t.material){const e=t.material;if(e.length){for(const t of e)if(void 0!==t.opacity)return t.opacity}else if("opacity"in t.material)return t.material.opacity}for(const t of e.boundingChildMetrics){const e=Od(t);if(void 0!==e)return e}}function Cd(e,t){const n=e.node;if(n.material){const e=n.material;if(e.length)for(const n of e)"opacity"in n&&(n.opacity=t);else n.material.opacity=t}for(const n of e.boundingChildMetrics)Cd(n,t)}const Ad={getChildren(e,t){e.node.isObject3D&&Td.getChildren(e,t)},getState(e){e.node.isObject3D&&Td.getState(e)},getIntrinsicBounds:(e,t)=>(e.node.isObject3D&&Td.getIntrinsicBounds(e,t),t),apply(e,t){e.node.isObject3D&&Td.apply(e,t)}};function Rd(){zd.initializeEthereal()}function kd(e,t){zd.systemTick(e,t)}class zd extends class{takeOwnership;setSharedData;width;height;vueApp;vueRoot;constructor(e,t,n,r={}){this.takeOwnership=this.takeOwnershipProto.bind(this),this.setSharedData=this.setSharedDataProto.bind(this),this.width=t,this.height=n,this.vueApp=fi(e,r)}mount(){}takeOwnershipProto(){return!0}setSharedDataProto(e){return!0}}{static system;static etherealCamera=new THREE.PerspectiveCamera;static playerCamera;isEthereal;isInteractive;isNetworked;isStatic;updateTime;raycaster;size;webLayer3D;needsUpdate=!1;headDiv;static initializeEthereal(){let e=window.APP.scene;this.etherealCamera.matrixAutoUpdate=!0,this.playerCamera=document.getElementById("viewing-camera").getObject3D("camera"),this.system=function(e,t=Ad){return new cf(e,t)}(this.playerCamera?this.playerCamera:e.camera),window.ethSystem=this.system}static systemTick(e,t){let n=window.APP.scene;var r,i;(this.playerCamera||(this.playerCamera=document.getElementById("viewing-camera").getObject3D("camera")),this.playerCamera)&&(r=this.playerCamera,i=this.etherealCamera,r.updateMatrixWorld(),i.fov=r.fov,i.zoom=r.zoom,i.near=r.near,i.far=r.far,i.aspect=r.aspect,r.matrixWorld.decompose(i.position,i.quaternion,i.scale),i.rotation.setFromQuaternion(i.quaternion,void 0,!1),i.updateMatrix(),i.updateMatrixWorld(!0),this.etherealCamera!=this.system.viewNode&&(this.system.viewNode=this.etherealCamera),n.renderer.getSize(zd.system.viewResolution),this.system.viewFrustum.setFromPerspectiveProjectionMatrix(this.etherealCamera.projectionMatrix),this.system.update(t,e))}constructor(e,t,n,r={},i={}){r.width&&r.height&&r.width>0&&r.height>0?(t=r.width,n=r.height):(r.width&&r.width>0||r.height&&r.height>0)&&(r.width&&r.width>0&&(n=r.width/t*n,t=r.width),r.height&&r.height>0&&(t=r.height/n*n,n=r.height)),super(e,t,n,i),this.isEthereal=!1,this.vueApp.provide("params",r),this.isInteractive=!1,this.isNetworked=!1,this.isStatic=!0,this.updateTime=100,this.raycaster=new THREE.Raycaster,this.size={width:t/1e3,height:n/1e3},this.headDiv=document.createElement("div")}mount(e){this.isEthereal=!0===e,this.vueRoot=this.vueApp.mount(this.headDiv),this.vueRoot.$el.setAttribute("style","width: "+this.width+"px; height: "+this.height+"px;");let t=document.createElement("link");t.setAttribute("href","https://www.natekoe.com//vue-apps/dist/hubs.css"),t.setAttribute("rel","stylesheet"),t.setAttribute("crossorigin","anonymous"),this.vueRoot.$el.insertBefore(t,this.vueRoot.$el.firstChild),this.webLayer3D=new Ed(this.vueRoot.$el,{autoRefresh:!0,onLayerCreate:e?e=>{const t=zd.system.getAdapter(e);t.opacity.enabled=!0,t.onUpdate=()=>e.update()}:e=>{},onLayerPaint:e=>{this.isStatic&&(this.needsUpdate=!0)},textureEncoding:THREE.sRGBEncoding,renderOrderOffset:0})}setNetworkMethods(e,t){this.takeOwnership=e,this.setSharedData=t}updateSharedData(e){this.needsUpdate=!0}getSize(){return console.log("div size: {"+this.size.width+", "+this.size.height+"}"),this.size}getSharedData(e){throw new Error("getSharedData should be overridden by subclasses")}clicked(e){if(!this.isInteractive)return;const t=e.object3D;this.raycaster.ray.set(t.position,this.webLayer3D.getWorldDirection(new THREE.Vector3).negate());const n=this.webLayer3D.hitTest(this.raycaster.ray);n&&(n.target.click(),n.target.focus(),console.log("hit",n.target,n.layer))}dragStart(e){}dragEnd(e){}play(){}pause(){}destroy(){}tick(e){if(this.isEthereal);else{var t=this.needsUpdate;this.needsUpdate=!1,this.isStatic&&this.updateTime<e&&(t=!0,this.updateTime=2e3*Math.random()+1e3),this.isStatic||(this.updateTime=e,t=!0),t&&this.webLayer3D.update()}}}class Dd{_state;state;app;constructor(e){this._state=rt({count:0}),this.app=e,this.state=it(this._state)}increment(){this.app.takeOwnership()&&(this._state.count++,this.app.setSharedData(this.state))}updateSharedData(e){this._state.count=e.count}}class Id extends zd{shared;constructor(e={}){super(bi,400,475,e),this.shared=new Dd(this),this.vueApp.provide("shared",this.shared),this.isInteractive=!0,this.isNetworked=!0,this.isStatic=!1}updateSharedData(e){super.updateSharedData(e),this.shared.updateSharedData(e)}getSharedData(){return this.shared.state}}var Ld=function(e={}){let t=new Id(e);return t.mount(),t};Ot("data-v-b474cdac");const Bd={"xr-layer":"",class:"fade"},Pd=Xn("p",null,[Xn("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank"}," Vite Documentation and Then Some! "),Kn(" | "),Xn("a",{href:"https://v3.vuejs.org/",target:"_blank"},"Vue 3 Documentation")],-1);Ct();var Fd={props:{msg:String},setup(e){const t=rt({count:0});return(n,r)=>(jn(),Hn(Dn,null,[Xn("h1",Bd,u(e.msg),1),Pd,Xn("button",{"xr-layer":"",onClick:r[0]||(r[0]=e=>pt(t).count++)},"count is: "+u(pt(t).count),1)],64))},__scopeId:"data-v-b474cdac"};Ot("data-v-91ee6202");const jd={id:"room",class:"darkwall"},Ud=Xn("img",{alt:"Vue logo",src:di},null,-1),qd=[Kn(" Edit code in "),Xn("code",null,"src/apps",-1),Kn(' to test hot module replacement while running project as "npm run dev". ')];Ct();var Vd={setup(e){const t=Dt("shared");return(e,n)=>(jn(),Hn("div",null,[Xn("div",jd,[Ud,Jn(Fd,{msg:"Vue Component with Local Button Count"}),Xn("p",{id:"edit",class:o({upclose:pt(t).state.close}),"xr-layer":""},qd,2)])]))},__scopeId:"data-v-91ee6202"};class Hd{_state;state;app;constructor(e){this._state=rt({close:!1}),this.app=e,this.state=it(this._state)}setClose(e){this._state.close!=e&&(this._state.close=e)}}class $d extends zd{shared;constructor(e={}){super(Vd,500,500,e),this.isInteractive=!0,this.shared=new Hd(this),this.vueApp.provide("shared",this.shared)}docs;boundsSize=new THREE.Vector3;bounds=new THREE.Box3;mount(){if(super.mount(!0),this.docs=this.webLayer3D.querySelector("#edit"),!this.docs)return void console.warn("Vue app needs #edit div");let e=$d.system.getAdapter(this.docs);e.onUpdate=()=>{this.bounds=e.metrics.target.visualBounds,this.bounds.getSize(this.boundsSize);var t=Math.sqrt(this.boundsSize.x*this.boundsSize.x+this.boundsSize.y*this.boundsSize.y);this.shared.state.close?this.shared.setClose(t<210):this.shared.setClose(t<190),this.docs.update()}}}var Wd=function(e={}){let t=new $d(e);return t.mount(),t};Ot("data-v-1221d33f");const Gd={id:"room"},Yd={class:"titleStyle"},Zd=Xn("div",null,null,-1),Xd=Kn("Click to swap objects: "),Jd=Xn("div",null,null,-1),Qd={"xr-layer":""},Kd=Kn("Click to make larger: "),em={"xr-layer":""},tm=Kn("Click to make smaller: ");Ct();var nm={setup(e){let t=Dt("params");var n=t&&t.parameter1?t.parameter1:"Example Control Panel",r=t&&t.parameter2?t.parameter2:"Click the buttons to switch objects or change the color of an object";const i=Dt("shared");return(e,t)=>(jn(),Hn("div",null,[Xn("div",Gd,[Xn("div",Yd,u(pt(n)),1),Xn("div",null,u(pt(r)),1),Zd,Xn("div",null,[Xd,Xn("button",{"xr-layer":"",onClick:t[0]||(t[0]=(...e)=>pt(i).nextObject&&pt(i).nextObject(...e))},"Swap Objects")]),Xn("div",null,"Current object is: "+u(pt(i).getName()),1),Jd,Xn("div",Qd,[Kd,Xn("span",{class:"fakeButton",onClick:t[1]||(t[1]=(...e)=>pt(i).larger&&pt(i).larger(...e))},"Larger")]),Xn("div",em,[tm,Xn("span",{class:"fakeButton",onClick:t[2]||(t[2]=(...e)=>pt(i).smaller&&pt(i).smaller(...e))},"Smaller")])])]))},__scopeId:"data-v-1221d33f"};class rm{_state;state;app;objects;constructor(e){if(this._state=rt({object:-1,size:{x:1,y:1,z:1}}),this.app=e,this.state=it(this._state),this.objects=[],window.AFRAME){let e=window.AFRAME.scenes[0].object3D;for(let t=1;t<11;t++){let n=e.getObjectByName("TestObject"+t);n&&(n.visible=!1,this.objects.push(n))}}this.objects.length>0?(this._state.object=0,this._copyVec3(this.objects[0].scale,this._state.size),this.objects[0].visible=!0):this._state.object=-1}_copyVec3(e,t){t.x=e.x,t.y=e.y,t.z=e.z}_nextObject(){if(-1==this._state.object)return-1;this.objects[this._state.object].visible=!1,this._state.object++,this._state.object>=this.objects.length&&(this._state.object=0),this.objects[this._state.object].visible=!0,this._copyVec3(this.objects[this._state.object].scale,this._state.size)}_updateSize(e){this._state.object>=0&&(this._copyVec3(e,this._state.size),this.objects[this._state.object].scale.copy(this._state.size),this.objects[this._state.object].updateMatrix())}_larger(){this._state.object>=0&&(this.objects[this._state.object].scale.multiplyScalar(1.1),this.objects[this._state.object].updateMatrix(),this._copyVec3(this.objects[this._state.object].scale,this._state.size))}_smaller(){this._state.object>=0&&(this.objects[this._state.object].scale.multiplyScalar(1/1.1),this.objects[this._state.object].updateMatrix(),this._copyVec3(this.objects[this._state.object].scale,this._state.size))}nextObject(){this.app.takeOwnership()&&(this._nextObject(),this.app.setSharedData(this.state))}larger(){this.app.takeOwnership()&&(this._larger(),this.app.setSharedData(this.state))}smaller(){this.app.takeOwnership()&&(this._smaller(),this.app.setSharedData(this.state))}getName(){return this._state.object>=0?this.objects[this._state.object].name:"NO OBJECTS"}updateSharedData(e){this._state.object!=e.object&&(this.objects[this._state.object].visible=!1,this.objects[e.object].visible=!0,this._state.object=e.object),this._updateSize(e.size)}}class im extends zd{shared;constructor(e={}){super(nm,400,225,e),this.shared=new rm(this),this.vueApp.provide("shared",this.shared),this.isInteractive=!0,this.isNetworked=!0,this.isStatic=!1}updateSharedData(e){super.updateSharedData(e),this.shared.updateSharedData(e)}getSharedData(){return this.shared.state}}var sm=function(e={}){let t=new im(e);return t.mount(),t},am={props:{msg:String},setup:e=>(rt({count:0}),(t,n)=>(jn(),Hn("h2",null,u(e.msg),1)))};const om={id:"room",class:"darkwall"};var um={setup(e){let t=Dt("params");var n=t&&t.message?t.message:"PORTAL TITLE";return(e,t)=>(jn(),Hn("div",om,[Jn(am,{msg:pt(n)},null,8,["msg"])]))}};class cm extends zd{constructor(e,t,n={}){super(um,e,t,n)}}var lm=function(e={}){let t=new cm(300,100,e);return t.mount(),t},hm={props:{msg:String},setup:e=>(rt({count:0}),(t,n)=>(jn(),Hn("h4",null,u(e.msg),1)))};const pm={id:"room",class:"darkwall"};var fm={setup(e){let t=Dt("params");var n=t&&t.message?t.message:"PORTAL SUBTITLE";return(e,t)=>(jn(),Hn("div",pm,[Jn(hm,{msg:pt(n)},null,8,["msg"])]))}};class dm extends zd{constructor(e,t,n={}){super(fm,e,t,n)}}var mm=function(e={}){let t=new dm(300,100,e);return t.mount(),t};const gm={id:"room",class:"darkwall"},vm=Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/38d6d7a1e02fc2f9.png",width:"250"},null,-1),ym=Xn("div",{class:"displaytext"},"AR allows us to extend our physical reality; VR creates for us a different reality.",-1);var wm={setup:e=>(e,t)=>(jn(),Hn("div",gm,[Jn(am,{msg:"Reality Media"}),vm,ym]))};class bm extends zd{constructor(e,t,n={}){super(wm,e,t,n)}}var xm=function(e={}){let t=new bm(300,475,e);return t.mount(),t};const _m={id:"room",class:"darkwall"},Mm={class:"spacer"},Em=Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/7af7b95b35fd7616.jpg",width:"250"},null,-1),Nm=Xn("div",{class:"squareoff"}," Each reality medium mediates and remediates. It offers a new representation of the world that we implicitly compare to our experience of the world in itself, but also through other media.",-1),Sm=Xn("p",null,[Xn("a",{href:"https://realitymedia.digital",target:"_blank"}," Start at the reality media site. "),Kn(" | ")],-1);var Tm={setup:e=>(e,t)=>(jn(),Hn("div",_m,[Xn("div",Mm,[Jn(am,{msg:"AR & VR as reality media"}),Em,Nm]),Sm]))};class Om extends zd{constructor(e,t,n={}){super(Tm,e,t,n),this.isInteractive=!0}}var Cm=function(e={}){let t=new Om(300,475,e);return t.mount(),t};const Am={id:"room",class:"darkwall"},Rm=Xn("div",{class:"spacer"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/7ab3d86afd48dbfb.jpg",width:"250"}),Xn("div",{class:"squareoff"},"Film became one of the most important reality media of the twentieth century, and in some ways, it is a forerunner of virtual reality.")],-1);var km={setup:e=>(e,t)=>(jn(),Hn("div",Am,[Jn(am,{msg:"The LaCiotat Effect"}),Rm]))};class zm extends zd{constructor(e,t,n={}){super(km,e,t,n)}}var Dm=function(e={}){let t=new zm(300,475,e);return t.mount(),t};const Im={id:"room",class:"darkwall"},Lm={class:"spacer"},Bm=Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/91fdfa811e752dc8.jpg",width:"200"},null,-1),Pm=Xn("div",{class:"squareoff"},"3-D computer graphics help to construct the visual realities of AR and VR, that is photorealism. The uncanny valley.",-1);var Fm={setup:e=>(e,t)=>(jn(),Hn("div",Im,[Xn("div",Lm,[Jn(am,{msg:"3-D Graphics & Tracking"}),Bm,Pm])]))};class jm extends zd{constructor(e,t,n={}){super(Fm,e,t,n)}}var Um=function(e={}){let t=new jm(300,475,e);return t.mount(),t};const qm={id:"room",class:"darkwall"},Vm=Xn("div",{class:"spacer"},[tr('<img src="../../assets/images/parthenon.png" width="250">'),Xn("div",{class:"squareoff"},"Presence in VR is usually conceived of as forgetting that the medium is there. The idea is that if the user can be enticed into behaving as if she were not aware of all the complex technology, then she feels presence.")],-1);var Hm={setup:e=>(e,t)=>(jn(),Hn("div",qm,[Jn(am,{msg:"Presence"}),Vm]))};class $m extends zd{constructor(e,t,n={}){super(Hm,e,t,n)}}var Wm=function(e={}){let t=new $m(300,475,e);return t.mount(),t},Gm="https://www.natekoe.com//vue-apps/dist/dc05c04546a69e64.png";const Ym={id:"room",class:"darkwall"},Zm=Xn("div",{class:"spacer"},[Xn("img",{src:Gm,width:"250"}),Xn("div",{class:"squareoff"},"Reality media applications often function as additions to established genres. Most current AR and VR applications behave like applications or artifacts that we know from earlier media.")],-1);var Xm={setup:e=>(e,t)=>(jn(),Hn("div",Ym,[Jn(am,{msg:"Genres"}),Zm]))};class Jm extends zd{constructor(e,t,n={}){super(Xm,e,t,n)}}var Qm=function(e={}){let t=new Jm(300,475,e);return t.mount(),t};const Km={id:"room",class:"darkwall"},eg=Xn("div",{class:"spacer"},[Xn("img",{src:Gm,width:"250"}),Xn("div",{class:"squareoff"},"VR will continue to construct special realities, apart from the everyday. VR worlds will continue to be metaphoric worlds.")],-1);var tg={setup:e=>(e,t)=>(jn(),Hn("div",Km,[Jn(am,{msg:"The Future of AR & VR"}),eg]))};class ng extends zd{constructor(e,t,n={}){super(tg,e,t,n)}}var rg=function(e={}){let t=new ng(300,475,e);return t.mount(),t};const ig={id:"room",class:"darkwall"},sg=Xn("div",{class:"spacer"},[Xn("div",{class:"squareoff"},"Pervasive, always-on AR applications have the potential to provide companies or government authorities even more information and with more precision than our current mobile applications do, both by aggregating our habits as consumers and by identifying us as individuals.")],-1);var ag={setup:e=>(e,t)=>(jn(),Hn("div",ig,[Jn(am,{msg:"Privacy and Public Space"}),sg]))};class og extends zd{constructor(e,t,n={}){super(ag,e,t,n)}}var ug=function(e={}){let t=new og(300,475,e);return t.mount(),t};const cg={id:"room",class:"darkwall"},lg=[Xn("div",{class:"postertitle"},"AR & VR as reality media",-1),Xn("div",{class:"spacer"},[Xn("div",{class:"flushleft"},[Xn("br"),Xn("h3",null," Some of the key differences between “classic” VR and AR"),Xn("br"),Xn("h3",null," Extended reality (XR) and the immersive web "),Xn("br"),Xn("h3",null," Where AR and VR fit on Milgram and Kishino’s virtuality continuum")])],-1)];var hg={setup:e=>(e,t)=>(jn(),Hn("div",cg,lg))};class pg extends zd{constructor(e,t,n={}){super(hg,e,t,n)}}var fg=function(e={}){let t=new pg(300,475,e);return t.mount(),t};const dg={id:"room",class:"darkwall"},mg=Xn("div",{class:"spacer"},[Xn("div",{class:"flushleft"},[Xn("br"),Xn("h3",null," Some of the key differences between “classic” VR and AR"),Xn("br"),Xn("h3",null," Extended reality (XR) and the immersive web "),Xn("br"),Xn("h3",null," Where AR and VR fit on Milgram and Kishino’s virtuality continuum")])],-1);var gg={setup:e=>(e,t)=>(jn(),Hn("div",dg,[Jn(am,{msg:"The History of Reality Media"}),mg]))};class vg extends zd{constructor(e,t,n={}){super(gg,e,t,n)}}var yg=function(e={}){let t=new vg(300,475,e);return t.mount(),t};const wg={id:"room",class:"darkwall"},bg=Xn("div",{class:"spacer"},[Xn("div",{class:"flushleft"},[Xn("br"),Xn("h3",null," Some of the key differences between “classic” VR and AR"),Xn("br"),Xn("h3",null," Extended reality (XR) and the immersive web "),Xn("br"),Xn("h3",null," Where AR and VR fit on Milgram and Kishino’s virtuality continuum")])],-1);var xg={setup:e=>(e,t)=>(jn(),Hn("div",wg,[Jn(am,{msg:"3-D & Tracking"}),bg]))};class _g extends zd{constructor(e,t,n={}){super(xg,e,t,n)}}var Mg=function(e={}){let t=new _g(300,475,e);return t.mount(),t};const Eg={id:"room",class:"darkwall"},Ng=Xn("div",{class:"spacer"},[Xn("div",{class:"flushleft"},[Xn("br"),Xn("h3",null," Some of the key differences between “classic” VR and AR"),Xn("br"),Xn("h3",null," Extended reality (XR) and the immersive web "),Xn("br"),Xn("h3",null," Where AR and VR fit on Milgram and Kishino’s virtuality continuum")])],-1);var Sg={setup:e=>(e,t)=>(jn(),Hn("div",Eg,[Jn(am,{msg:"Presence"}),Ng]))};class Tg extends zd{constructor(e,t,n={}){super(Sg,e,t,n)}}var Og=function(e={}){let t=new Tg(300,475,e);return t.mount(),t};const Cg={id:"room",class:"darkwall"},Ag=Xn("div",{class:"spacer"},[Xn("div",{class:"flushleft"},[Xn("br"),Xn("h3",null," Some of the key differences between “classic” VR and AR"),Xn("br"),Xn("h3",null," Extended reality (XR) and the immersive web "),Xn("br"),Xn("h3",null," Where AR and VR fit on Milgram and Kishino’s virtuality continuum")])],-1);var Rg={setup:e=>(e,t)=>(jn(),Hn("div",Cg,[Jn(am,{msg:"Genres"}),Ag]))};class kg extends zd{constructor(e,t,n={}){super(Rg,e,t,n)}}var zg=function(e={}){let t=new kg(300,475,e);return t.mount(),t};const Dg={id:"room",class:"darkwall"},Ig=Xn("div",{class:"spacer"},[Xn("div",{class:"flushleft"},[Xn("br"),Xn("h3",null," Some of the key differences between “classic” VR and AR"),Xn("br"),Xn("h3",null," Extended reality (XR) and the immersive web "),Xn("br"),Xn("h3",null," Where AR and VR fit on Milgram and Kishino’s virtuality continuum")])],-1);var Lg={setup:e=>(e,t)=>(jn(),Hn("div",Dg,[Jn(am,{msg:"Future"}),Ig]))};class Bg extends zd{constructor(e,t,n={}){super(Lg,e,t,n)}}var Pg=function(e={}){let t=new Bg(300,475,e);return t.mount(),t};const Fg={id:"room",class:"darkwall"},jg=Xn("div",{class:"spacer"},[Xn("div",{class:"flushleft"},[Xn("br"),Xn("h3",null," Some of the key differences between “classic” VR and AR"),Xn("br"),Xn("h3",null," Extended reality (XR) and the immersive web "),Xn("br"),Xn("h3",null," Where AR and VR fit on Milgram and Kishino’s virtuality continuum")])],-1);var Ug={setup:e=>(e,t)=>(jn(),Hn("div",Fg,[Jn(am,{msg:"Privacy"}),jg]))};class qg extends zd{constructor(e,t,n={}){super(Ug,e,t,n)}}var Vg=function(e={}){let t=new qg(300,475,e);return t.mount(),t};const Hg={id:"room",class:"darkwall"},$g={class:"spacer"},Wg=Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/190994370aebe395.png",width:"400"},null,-1),Gg=Xn("br",null,null,-1),Yg=Xn("br",null,null,-1),Zg=Xn("div",{class:"squareoff"},[Kn(" First person shooter games such as "),Xn("a",{href:"https://www.half-life.com/en/alyx/",target:"_blank"},"HalfLife: Alyx "),Kn(" have long used 3-D graphics to create an immersive experience for millions of players. And for decades, players on computers and game consoles have yearned for true VR so that they could fall through the screen into the worlds on the other side.")],-1);var Xg={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",Hg,[Xn("div",$g,[Wg,Gg,Yg,Jn(am,{msg:"HalfLife: Alyx"}),Zg])])]))};class Jg extends zd{constructor(e,t,n={}){super(Xg,e,t,n),this.isInteractive=!0}}var Qg=function(e={}){let t=new Jg(600,475,e);return t.mount(),t};const Kg={id:"room",class:"darkwall center-mount"},ev={class:"topdown"},tv=Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/66e7fcd5500406d8.png",width:"500"},null,-1),nv=Xn("br",null,null,-1),rv=Xn("br",null,null,-1),iv=Xn("div",{class:"squareoff"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Risus pretium quam vulputate dignissim. Sed enim ut sem viverra aliquet. Lobortis feugiat vivamus at augue eget. Metus vulputate eu scelerisque felis imperdiet. In fermentum et sollicitudin ac orci phasellus.",-1);var sv={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",Kg,[Xn("div",ev,[tv,nv,rv,Jn(am,{msg:"History of AR/VR"}),iv])])]))};class av extends zd{constructor(e,t,n={}){super(sv,e,t,n),this.isInteractive=!0}}var ov=function(e={}){let t=new av(600,475,e);return t.mount(),t};const uv={id:"room",class:"darkwall center-mount"},cv={class:"topdown"},lv=Xn("br",null,null,-1),hv=Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/412a0ddfb6b2fd58.png",width:"600"},null,-1);var pv={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",uv,[Xn("div",cv,[Jn(am,{msg:"Milgram Spectrum"}),lv,hv])])]))};class fv extends zd{constructor(e,t,n={}){super(pv,e,t,n),this.isInteractive=!0}}var dv=function(e={}){let t=new fv(600,475,e);return t.mount(),t};const mv={id:"room",class:"darkwall center-mount"},gv={class:"sidebyside"},vv=Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/bf1223159ba156fb.png",width:"400"},null,-1),yv={style:{"margin-left":"40px"}},wv=Xn("br",null,null,-1),bv=Xn("br",null,null,-1),xv=Xn("div",{class:"squareoff"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Risus pretium quam vulputate dignissim. Sed enim ut sem viverra aliquet. Lobortis feugiat vivamus at augue eget. Metus vulputate eu scelerisque felis imperdiet. In fermentum et sollicitudin ac orci phasellus.",-1);var _v={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",mv,[Xn("div",gv,[vv,Xn("div",yv,[Jn(am,{msg:"Augmented to Reality"}),wv,bv,xv])])])]))};class Mv extends zd{constructor(e,t,n={}){super(_v,e,t,n),this.isInteractive=!0}}var Ev=function(e={}){let t=new Mv(600,475,e);return t.mount(),t};const Nv={id:"room",class:"darkwall center-mount"},Sv={class:"sidebyside"},Tv=Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/653454035878a983.png",width:"500"},null,-1),Ov={style:{"margin-left":"30px"}},Cv=Xn("br",null,null,-1),Av=Xn("br",null,null,-1),Rv=Xn("div",{class:"squareoff"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Risus pretium quam vulputate dignissim. Sed enim ut sem viverra aliquet. Lobortis feugiat vivamus at augue eget. Metus vulputate eu scelerisque felis imperdiet. In fermentum et sollicitudin ac orci phasellus.",-1);var kv={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",Nv,[Xn("div",Sv,[Tv,Xn("div",Ov,[Jn(am,{msg:"Mediums and Portals"}),Cv,Av,Rv])])])]))};class zv extends zd{constructor(e,t,n={}){super(kv,e,t,n),this.isInteractive=!0}}var Dv=function(e={}){let t=new zv(600,475,e);return t.mount(),t};const Iv={id:"room",class:"darkwall"},Lv={class:"spacer"},Bv=Xn("div",{class:"squareoff"},"Pokemon Go (2016) is perhaps still the best-known AR game. The Pokemon franchise was already decades old, and this was certainly part of the answer for the AR game’s surprising impact. It was the first Pokemon game on a mobile phone and the first free Pokemon game on any platform. ",-1);var Pv={setup:e=>(e,t)=>(jn(),Hn("div",Iv,[Xn("div",Lv,[Jn(am,{msg:"Pokemon Go"}),Bv])]))};class Fv extends zd{constructor(e,t,n={}){super(Pv,e,t,n)}}var jv=function(e={}){let t=new Fv(600,475,e);return t.mount(),t};const Uv={id:"room",class:"darkwall"},qv={class:"spacer"},Vv=Xn("div",{class:"squareoff"},"Beat Saber is a VR rhythm game with a little Star Wars thrown in. The player uses lightsabers to keep the beat. ",-1);var Hv={setup:e=>(e,t)=>(jn(),Hn("div",Uv,[Xn("div",qv,[Jn(am,{msg:"Beat Saber"}),Vv])]))};class $v extends zd{constructor(e,t,n={}){super(Hv,e,t,n)}}var Wv=function(e={}){let t=new $v(600,475,e);return t.mount(),t};const Gv={id:"room",class:"darkwall"},Yv={class:"spacer"},Zv=Xn("div",{class:"squareoff"},"In this AR version of the transmedia franchise GPS is used to determine your location in the world. Your location and the zombies appear in an enhanced Google Maps map on the phone screen. ",-1);var Xv={setup:e=>(e,t)=>(jn(),Hn("div",Gv,[Xn("div",Yv,[Jn(am,{msg:"Walking Dead: Our World"}),Zv])]))};class Jv extends zd{constructor(e,t,n={}){super(Xv,e,t,n)}}var Qv=function(e={}){let t=new Jv(600,475,e);return t.mount(),t};const Kv={id:"room",class:"darkwall"},ey={class:"spacer"},ty=Xn("div",{class:"squareoff"},"Like video games and 360-degree video, VR art emphasizes immersion as the feature that makes the experience unique, as in a VR work by Christian Lemmerz entitled La Apparizione (2017). ",-1);var ny={setup:e=>(e,t)=>(jn(),Hn("div",Kv,[Xn("div",ey,[Jn(am,{msg:"La Apparizione"}),ty])]))};class ry extends zd{constructor(e,t,n={}){super(ny,e,t,n)}}var iy=function(e={}){let t=new ry(600,475,e);return t.mount(),t};const sy={id:"room",class:"darkwall"},ay={class:"spacer"},oy=Xn("div",{class:"squareoff"},'Minecraft VR is a fully immersive, headset version of the sandbox game that already runs on computers, game consoles, and mobile devices. It is called a "sandbox game" because it provides an independent environment in which players can make their own structures and objects out of virtual, LEGO-like blocks. ',-1);var uy={setup:e=>(e,t)=>(jn(),Hn("div",sy,[Xn("div",ay,[Jn(am,{msg:"Minecraft VR"}),oy])]))};class cy extends zd{constructor(e,t,n={}){super(uy,e,t,n)}}var ly=function(e={}){let t=new cy(600,475,e);return t.mount(),t};const hy={id:"room",class:"darkwall"},py={class:"spacer headline"};var fy={setup:e=>(e,t)=>(jn(),Hn("div",hy,[Xn("div",py,[Jn(am,{msg:"AR & VR GAMES"})])]))};class dy extends zd{constructor(e,t,n={}){super(fy,e,t,n)}}var my=function(e={}){let t=new dy(600,475,e);return t.mount(),t};const gy={id:"room",class:"darkwall"},vy={class:"spacer headline"};var yy={setup:e=>(e,t)=>(jn(),Hn("div",gy,[Xn("div",vy,[Jn(am,{msg:"AR & VR ART"})])]))};class wy extends zd{constructor(e,t,n={}){super(yy,e,t,n)}}var by=function(e={}){let t=new wy(600,475,e);return t.mount(),t};const xy=[er('<div id="room" class="darkwall"><div class="spacer-side"><br><br>\x3c!-- &lt;Title msg=&quot;Aura&quot; /&gt; --\x3e<div class="headline">Aura</div><br><br><div class="squareoff"><p>In 1930s, Walter Benjamin introduced the concept of <em>aura</em> in The Work of Art in the Age of Mechanical Reproduction. Aura is the <em>here and now</em> that work possesses because of its unique history of production and transmissinowon. </p><br><p>AR applications are not perfect reproductive technologies, as some draw on the physical and cultural uniquesness, <em>the here and now</em> of particular places </p></div></div></div>',1)];var _y={setup:e=>(e,t)=>(jn(),Hn("div",null,xy))};class My extends zd{constructor(e,t,n={}){super(_y,e,t,n)}}var Ey=function(e={}){let t=new My(600,475,e);return t.mount(),t};const Ny=[Xn("div",{id:"room",class:"darkwall"},[Xn("div",{class:"spacer-side"},[Xn("div",{class:"squareoff"},[Kn(' "These definitions circle around one core idea: that presence is a kind of absence, '),Xn("span",{class:"keyPoint"},"the absence of mediation."),Kn(" Presence as transportation, immersion, or realism all come down to the user's forgetting that the medium is there.\" ")])])],-1)];var Sy={setup:e=>(e,t)=>(jn(),Hn("div",null,Ny))};class Ty extends zd{constructor(e,t,n={}){super(Sy,e,t,n)}}var Oy=function(e={}){let t=new Ty(600,475,e);return t.mount(),t};const Cy={id:"room",class:"darkwall"},Ay={class:"spacer-side"},Ry=Xn("br",null,null,-1),ky=Xn("br",null,null,-1),zy=Xn("div",{class:"squareoff"},'"Casa Batlló, one of the masterpieces of Antoni Gaudí, can be experienced with the mobile AR, which visualizes the reconstructed interior and the design inspirations through 3D animations."',-1);var Dy={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",Cy,[Xn("div",Ay,[Jn(am,{msg:"Gaudí's Casa Batlló with AR"}),Ry,ky,zy])])]))};class Iy extends zd{constructor(e,t,n={}){super(Dy,e,t,n)}}var Ly=function(e={}){let t=new Iy(600,475,e);return t.mount(),t};const By=[Xn("div",{id:"room",class:"darkwall"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/b9a307db3b6157e0.jpg",class:"full"})],-1)];var Py={setup:e=>(e,t)=>(jn(),Hn("div",null,By))};class Fy extends zd{constructor(e,t,n={}){super(Py,e,t,n)}}var jy=function(e={}){let t=new Fy(600,475,e);return t.mount(),t};const Uy={id:"room",class:"darkwall"},qy={class:"spacer-side"},Vy=Xn("div",{class:"squareoff"},[Xn("br"),Xn("br"),Kn(" The term cybersickness, or visually induced motion sickness, has been coined to describe symptoms including headache, nausea, eye strain, dizziness, fatigue, or even vomiting that may occur during or after exposure to a virtual environment. Cybersickness is visceral evidence that VR is not the medium to end all media. Cybersickness reminds the susceptible user of the medium in a powerful way. Nausea replaces astonishment. ")],-1);var Hy={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",Uy,[Xn("div",qy,[Jn(am,{msg:"Cybersickness and the negation of presence"}),Vy])])]))};class $y extends zd{constructor(e,t,n={}){super(Hy,e,t,n)}}var Wy=function(e={}){let t=new $y(600,475,e);return t.mount(),t};const Gy=[Xn("div",{id:"room",class:"darkwall"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/b92c5f5aa0792665.jpg",class:"full"})],-1)];var Yy={setup:e=>(e,t)=>(jn(),Hn("div",null,Gy))};class Zy extends zd{constructor(e,t,n={}){super(Yy,e,t,n)}}var Xy=function(e={}){let t=new Zy(600,475,e);return t.mount(),t};const Jy={id:"room",class:"darkwall"},Qy={class:"spacer-side"},Ky=Xn("br",null,null,-1),ew=Xn("br",null,null,-1),tw=Xn("br",null,null,-1),nw=Xn("div",{class:"squareoff"},"Researchers have long pursued the idea of emotional reactions such as empathy as a test of presence. VR is understood as getting us closer to the authentic or the real. But forgetting the medium is not necessary for a sense of presence. Presence can be understood in a more nuanced way as a liminal zone between forgetting and acknowledging VR as a medium. ",-1);var rw={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",Jy,[Xn("div",Qy,[Ky,ew,Jn(am,{msg:"Presence and Empathy"}),tw,nw])])]))};class iw extends zd{constructor(e,t,n={}){super(rw,e,t,n)}}var sw=function(e={}){let t=new iw(600,475,e);return t.mount(),t};const aw=[Xn("div",{id:"room",class:"darkwall"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/25ecf05f66df0777.jpg",class:"full"})],-1)];var ow={setup:e=>(e,t)=>(jn(),Hn("div",null,aw))};class uw extends zd{constructor(e,t,n={}){super(ow,e,t,n)}}var cw=function(e={}){let t=new uw(600,475,e);return t.mount(),t},lw="https://www.natekoe.com//vue-apps/dist/beb618ffe3769bb6.png";const hw=[Xn("div",{id:"room",class:"darkwall"},[Xn("div",{class:"spacer"},[Xn("div",{class:"largerText",style:{"font-weight":"bold","text-align":"left"}},"1. What is Presence?"),Xn("br"),Xn("br"),Xn("img",{src:lw,width:"50",style:{float:"right"}}),Xn("div",{class:"postertitle",style:{"text-align":"left"}},"2. Manifestations of Presence"),Xn("br"),Xn("br"),Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/bf21f3442d3fa84d.png",width:"50",style:{float:"right"}}),Xn("div",{class:"postertitle",style:{"text-align":"left"}},"3. Aura, Place and Space ")])],-1)];var pw={setup:e=>(e,t)=>(jn(),Hn("div",null,hw))};class fw extends zd{constructor(e,t,n={}){super(pw,e,t,n)}}var dw=function(e={}){let t=new fw(600,475,e);return t.mount(),t};const mw=[Xn("div",{id:"room",class:"darkwall"},[Xn("div",{class:"spacer"},[Xn("div",{style:{"font-size":"2.4rem","font-weight":"bold","text-align":"left"}},"2. Manifestations of Presence"),Xn("br"),Xn("br"),Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/46d7793fa7ab24ad.png",width:"50",style:{float:"right"}}),Xn("div",{class:"postertitle",style:{"text-align":"left"}},"1. What is Presence?"),Xn("br"),Xn("br"),Xn("img",{src:lw,width:"50",style:{float:"right"}}),Xn("div",{class:"postertitle",style:{"text-align":"left"}},"3. Aura, Place and Space ")])],-1)];var gw={setup:e=>(e,t)=>(jn(),Hn("div",null,mw))};class vw extends zd{constructor(e,t,n={}){super(gw,e,t,n)}}var yw=function(e={}){let t=new vw(600,475,e);return t.mount(),t};const ww=[Xn("div",{id:"room",class:"darkwall"},[Xn("div",{class:"spacer"},[Xn("div",{class:"largerText",style:{"font-size":"2.8rem","font-weight":"bold","text-align":"left"}},"3. Aura, Place and Space "),Xn("br"),Xn("br"),Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/f89cb4e350469b14.png",width:"50",style:{float:"right"}}),Xn("div",{class:"postertitle",style:{"text-align":"left"}},"1. What is Presence?"),Xn("br"),Xn("br"),Xn("img",{src:lw,width:"50",style:{float:"right"}}),Xn("div",{class:"postertitle",style:{"text-align":"left"}},"2. Manifestations of Presence")])],-1)];var bw={setup:e=>(e,t)=>(jn(),Hn("div",null,ww))};class xw extends zd{constructor(e,t,n={}){super(bw,e,t,n)}}var _w=function(e={}){let t=new xw(600,475,e);return t.mount(),t};const Mw={id:"room",class:"darkwall"},Ew={class:"spacer-side"},Nw=Xn("br",null,null,-1),Sw=Xn("br",null,null,-1),Tw=Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/4905757374923259.png",width:"20",style:{float:"left",margin:"10px"}},null,-1),Ow=Xn("br",null,null,-1),Cw=Xn("br",null,null,-1),Aw=Xn("div",{class:"squareoff"},[Kn("360"),Xn("span",null,"°"),Kn(" film Clouds Over Sidra created by Chris Milk and Gabo Arora shows the life of Syrian refugees in Za'atari camp in Jordan. The camera follows 12-year old Sidra in her everyday life, allowing the users to be present with Sidra. ")],-1),Rw=Xn("br",null,null,-1),kw=Xn("blockquote",{class:"squareoff"},"\"When you’re inside of the headset . . . you see full 360 degrees, in all directions. And when you’re sitting there in her room, watching her, you're not watching it through a television screen, you’re not watching it through a window, you’re sitting there with her. When you look down, you're sitting on the same ground that she’s sitting on. And because of that, you feel her humanity in a deeper way. You empathize with her in a deeper way. (Milk 2015)\"",-1);var zw={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",Mw,[Xn("div",Ew,[Nw,Sw,Tw,Jn(am,{msg:"Ultimate Empathy Machine"}),Ow,Cw,Aw,Rw,kw])])]))};class Dw extends zd{constructor(e,t,n={}){super(zw,e,t,n)}}var Iw=function(e={}){let t=new Dw(600,475,e);return t.mount(),t};const Lw=[Xn("div",{id:"room",class:"darkwall"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/b464dbe90d6133ab.jpg",class:"full"})],-1)];var Bw={setup:e=>(e,t)=>(jn(),Hn("div",null,Lw))};class Pw extends zd{constructor(e,t,n={}){super(Bw,e,t,n)}}var Fw=function(e={}){let t=new Pw(600,475,e);return t.mount(),t};const jw={id:"room",class:"darkwall"},Uw={class:"spacer-side"},qw=Xn("br",null,null,-1),Vw=Xn("br",null,null,-1),Hw=Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/d0da198fc94f906c.png",width:"20",style:{float:"right",margin:"10px"}},null,-1),$w=Xn("br",null,null,-1),Ww=Xn("br",null,null,-1),Gw=Xn("div",{class:"squareoff"},[Kn("Nonnie de la Peña's "),Xn("a",{href:"https://embed.ted.com/talks/nonny_de_la_pena_the_future_of_news_virtual_reality",target:"_blank"},"Ted Talk"),Kn(" called 'The future of news?'' introduces a new form of journalism where Virtual Reality technology is used to put audience inside the stories. In her work, she created VR stories about imprisonment in Guantanamo and hunger in Los Angeles to induce empathy in the audience.")],-1);var Yw={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",jw,[Xn("div",Uw,[qw,Vw,Hw,Jn(am,{msg:"The future of news?"}),$w,Ww,Gw])])]))};class Zw extends zd{constructor(e,t,n={}){super(Yw,e,t,n),this.isInteractive=!0}}var Xw=function(e={}){let t=new Zw(600,475,e);return t.mount(),t};const Jw=[Xn("div",{id:"room",class:"darkwall"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/7b682f773776cc4e.jpg",style:{width:"100%"}})],-1)];var Qw={setup:e=>(e,t)=>(jn(),Hn("div",null,Jw))};class Kw extends zd{constructor(e,t,n={}){super(Qw,e,t,n)}}var eb=function(e={}){let t=new Kw(600,475,e);return t.mount(),t};const tb=[Xn("div",{id:"room",class:"darkwall"},[Xn("div",{class:"spacer-side"},[Xn("div",{class:"postertitle"},"Pit Experiment"),Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/2176dc66f5a02546.png",style:{width:"60%",float:"right",margin:"0 0 0 15px"}}),Xn("div",{class:"squareoff"},"The pit experiment is a virtual experiment often used to evaluate the sence of presence. The user is given a task to grab an object on plank and take it to the other side, crossing the pit. ")])],-1)];var nb={setup:e=>(e,t)=>(jn(),Hn("div",null,tb))};class rb extends zd{constructor(e,t,n={}){super(nb,e,t,n)}}var ib=function(e={}){let t=new rb(600,475,e);return t.mount(),t};const sb={id:"room",class:"darkwall"},ab={class:"spacer-side"},ob=Xn("br",null,null,-1),ub=Xn("br",null,null,-1),cb=Xn("div",{class:"squareoff"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/dedcb7f162af5eae.jpg",style:{width:"60%",float:"right",margin:"0 0 0 15px"}}),Kn(' This experiment was inspired by the VR "pit" experiment described on the wall to your left. The subjects wore AR headsets instead of VR ones. They could see the room around them, but the pit itself was still virtual. Would the subjects would feel the same measurable anxiety in AR as in VR? The subjects filled out a questionnaire after the experience and indicated that they did have a feeling of presence, but in this case, unlike in the VR experiment, the physiological data (heart rate etc.) did not indicate a response. '),Xn("br"),Xn("br"),Kn(" Gandy, Maribeth, et al. 2010. “Experiences with an AR Evaluation Test Bed: Presence, Performance, and Physiological Measurement.” In 2010 IEEE International Symposium on Mixed and Augmented Reality, 127–36. Seoul, Korea (South): IEEE. https://doi.org/10.1109/ISMAR.2010.5643560. ")],-1);var lb={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",sb,[Xn("div",ab,[Jn(am,{msg:"Presence in AR"}),ob,ub,cb])])]))};class hb extends zd{constructor(e,t,n={}){super(lb,e,t,n)}}var pb=function(e={}){let t=new hb(600,475,e);return t.mount(),t};const fb=[er('<div id="room" class="darkwall"><div class="spacer-side"><div class="postertitle">Presence</div><div class="squareoff">Presence is a kind of absence, the absence of mediation. If the users can forget that the medium is there, then they feel presence. <br><br> To look further, Lombard and Ditton&#39;s classification of presence is useful. They grouped definitions of presence into two categories, which are <br><br><div class="keyPoint"> (1) individual perception of the world <br> (2) social interaction and engagement with others</div><br><br> The first category includes presence as transportation, as immersion and as realism. </div><br><br><div class="squareoff" style="font-style:italic;">&quot;VR and AR cannot deceive their users into believing that they are having a non-mediated experience. But that is not necessary for a sense of presence.&quot;</div></div></div>',1)];var db={setup:e=>(e,t)=>(jn(),Hn("div",null,fb))};class mb extends zd{constructor(e,t,n={}){super(db,e,t,n)}}var gb=function(e={}){let t=new mb(600,475,e);return t.mount(),t};const vb={id:"room",class:"darkwall"},yb={class:"spacer-side"},wb=Xn("br",null,null,-1),bb=Xn("br",null,null,-1),xb=Xn("br",null,null,-1),_b=Xn("br",null,null,-1),Mb=Xn("div",{class:"squareoff"},[Kn("Treehugger: Wawona VR experience transports the users to the red giant Sequoia trees from the Sequoia National Park. It provides a sense of intimacy with the tree - with its bark, with the cells that make up its being. The vividness of the work illustrates "),Xn("em",null,"presence"),Kn(". ")],-1);var Eb={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",vb,[Xn("div",yb,[wb,bb,Jn(am,{msg:"Treehugger: Wawona"}),xb,_b,Mb,tr(" In this experience, users find themselves on the threshold of forgetting that we are having a VR experience. Being on that threshold is a sence of presence in a reality medium. ")])])]))};class Nb extends zd{constructor(e,t,n={}){super(Eb,e,t,n)}}var Sb=function(e={}){let t=new Nb(600,475,e);return t.mount(),t};const Tb=[Xn("div",{id:"room",class:"darkwall"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/900c5c33cb50b0df.png",class:"full"}),Xn("br"),Xn("br"),Xn("div",null,'Reality media have always been about presence. The legend of La Ciotat is a myth of presence, which you can explore in the gallery entitled "What are Reality Media?"')],-1)];var Ob={setup:e=>(e,t)=>(jn(),Hn("div",null,Tb))};class Cb extends zd{constructor(e,t,n={}){super(Ob,e,t,n)}}var Ab=function(e={}){let t=new Cb(600,475,e);return t.mount(),t};const Rb=[Xn("div",{id:"room",class:"darkwall"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/4f63695c469772e2.png",class:"full"})],-1)];var kb={setup:e=>(e,t)=>(jn(),Hn("div",null,Rb))};class zb extends zd{constructor(e,t,n={}){super(kb,e,t,n)}}var Db=function(e={}){let t=new zb(600,475,e);return t.mount(),t};const Ib=[Xn("div",{id:"room",class:"darkwall"},[Xn("div",{class:"spacer"},[Xn("br"),Xn("br"),tr(' <Title msg="The future of news?" /> '),Xn("div",{class:"squareoff"},"Parthenon model explanation")])],-1)];var Lb={setup:e=>(e,t)=>(jn(),Hn("div",null,Ib))};class Bb extends zd{constructor(e,t,n={}){super(Lb,e,t,n)}}var Pb=function(e={}){let t=new Bb(600,475,e);return t.mount(),t};const Fb=[Xn("div",{id:"room",class:"darkwall"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/b5309e2b45d5330c.jpg",class:"full"})],-1)];var jb={setup:e=>(e,t)=>(jn(),Hn("div",null,Fb))};class Ub extends zd{constructor(e,t,n={}){super(jb,e,t,n)}}var qb=function(e={}){let t=new Ub(600,475,e);return t.mount(),t};const Vb={id:"room",class:"darkwall"},Hb={class:"spacer-side"},$b=Xn("br",null,null,-1),Wb=Xn("br",null,null,-1),Gb=Xn("div",{class:"squareoff"},"The Franklin Institute in Philadelphia offered a mobile AR experience for their Terracotta Warrior exhibition. The app allowed visitors to use their smartphones to scan items and view various AR content to learn more about the history behind the clay soldiers.",-1);var Yb={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",Vb,[Xn("div",Hb,[Jn(am,{msg:"Terracotta Warriors AR"}),$b,Wb,Gb])])]))};class Zb extends zd{constructor(e,t,n={}){super(Yb,e,t,n)}}var Xb=function(e={}){let t=new Zb(600,475,e);return t.mount(),t};const Jb={id:"room"},Qb={class:"spacer"},Kb=Xn("br",null,null,-1),ex=Xn("br",null,null,-1),tx=Xn("br",null,null,-1),nx=Xn("br",null,null,-1),rx=Xn("div",{class:"squareoff"},[Kn("Measuring the amount of presence or the sense of being there, is one of the few ways to assess the quality of a virtual space. This virtual pit experiment is a space that measures the presence by measuring changes in physiological reactions in users such as changes in heart rate. In this virtual room, feel whether your heart is beating faster or your hands get sweaty as if you are in a real space. "),Xn("br"),Xn("br"),Xn("br"),Kn(" Meehan, M., Insko, B., Whitton, M., & Brooks Jr, F. P. (2002). Physiological measures of presence in stressful virtual environments. Acm transactions on graphics (tog), 21(3), 645-652. "),Xn("br"),Xn("br")],-1);var ix={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",Jb,[Xn("div",Qb,[Kb,ex,Jn(am,{msg:"Pit Experiment"}),tx,nx,rx])])]))};class sx extends zd{constructor(e,t,n={}){super(ix,e,t,n)}}var ax=function(e={}){let t=new sx(600,475,e);return t.mount(),t};const ox={id:"room"},ux={class:"spacer"},cx=Xn("br",null,null,-1),lx=Xn("br",null,null,-1),hx=Xn("br",null,null,-1),px=Xn("br",null,null,-1),fx=Xn("div",{class:"squareoff"},[Kn("1. Pick up the rubber duck in this room and try to place it in the designated area on the far side of the room. "),Xn("br"),Xn("br"),Kn(" 2. Pick up another rubber duck and drop it on the red and blue target on the floor. "),Xn("br"),Xn("br"),Xn("br"),Xn("br"),Kn(" Head-Mounted Display devices such as Oculus Quests are recommended for this experiment. ")],-1),dx=Xn("br",null,null,-1),mx=Xn("br",null,null,-1);var gx={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",ox,[Xn("div",ux,[cx,lx,Jn(am,{msg:"Instructions"}),hx,px,fx,dx,mx])])]))};class vx extends zd{constructor(e,t,n={}){super(gx,e,t,n)}}var yx=function(e={}){let t=new vx(600,475,e);return t.mount(),t};const wx={id:"room",class:"darkwall"},bx={class:"spacer"},xx=Xn("br",null,null,-1),_x=Xn("br",null,null,-1);var Mx={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",wx,[Xn("div",bx,[xx,_x,Jn(am,{msg:"Very carefully stretch your arms out for balance."})])])]))};class Ex extends zd{constructor(e,t,n={}){super(Mx,e,t,n)}}var Nx=function(e={}){let t=new Ex(600,475,e);return t.mount(),t};const Sx={id:"room",class:"darkwall"},Tx={class:"spacer"},Ox=Xn("br",null,null,-1),Cx=Xn("br",null,null,-1);var Ax={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",Sx,[Xn("div",Tx,[Ox,Cx,Jn(am,{msg:"Does this experiment make you sweat or your heart beat faster?"})])])]))};class Rx extends zd{constructor(e,t,n={}){super(Ax,e,t,n)}}var kx=function(e={}){let t=new Rx(600,475,e);return t.mount(),t};const zx={id:"room",class:"darkwall"},Dx={class:"spacer"},Ix=Xn("br",null,null,-1),Lx=Xn("br",null,null,-1),Bx=Xn("div",{class:"squareoff"},[Xn("i",null,"Reality Media"),Kn(" is a project encompassing three writing spaces, three technologies for representing ideas: print, the web, and immersive VR. The printed page is a writing space with a tradition dating back to the fifteenth century (in Europe, much earlier in China). Obviously the web has a far shorter tradition, beginning around 1990. But in the thirty year since Tim Berners-Lee launched the first web server, the web has grown to rival print for many kinds of communication. The technologies for creating 3D graphic spaces in VR (and AR) actually predate the web. But only in the past 10 years have AR and VR become widely available media. The goal of RealityMedia is to demonstrate the potential range of AR and VR as communicative forms. ")],-1);var Px={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",zx,[Xn("div",Dx,[Jn(am,{msg:"Welcome to Reality Media!"}),Ix,Lx,Bx])])]))};class Fx extends zd{constructor(e,t,n={}){super(Px,e,t,n)}}var jx=function(e={}){let t=new Fx(600,475,e);return t.mount(),t};const Ux={id:"room",class:"darkwall"},qx={class:"spacer"},Vx=Xn("br",null,null,-1),Hx=Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/7a24a6d309d453f2.jpg",width:"280",style:{float:"left","margin-right":"20px"}},null,-1),$x=Xn("div",{class:"squareoff"},[Xn("div",{style:{"margin-left":"30px"}},[Kn("Published by "),Xn("a",{href:"https://mitpress.mit.edu/books/reality-media"},"MIT Press")]),Xn("div",{class:"oblique"},"By Jay David Bolter, Maria Engberg and Blair MacIntyre"),Xn("br"),Xn("div",{class:"quote"},"How augmented reality and virtual reality are taking their places in contemporary media culture alongside film and television.")],-1);var Wx={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",Ux,[Xn("div",qx,[Jn(am,{msg:"Reality Media"}),Vx,Hx,$x])])]))};class Gx extends zd{constructor(e,t,n={}){super(Wx,e,t,n),this.isInteractive=!0}}var Yx=function(e={}){let t=new Gx(600,475,e);return t.mount(),t};const Zx={id:"room",class:"darkwall"},Xx={class:"spacer"},Jx=Xn("div",{class:"squareoff",style:{width:"380px"}},[Kn("Published by "),Xn("a",{href:"https://mitpress.mit.edu/books/reality-media"},"MIT Press")],-1),Qx=Xn("br",null,null,-1),Kx=Xn("div",{class:"oblique squareoff"},"By Jay David Bolter, Maria Engberg and Blair MacIntyre",-1),e_=Xn("br",null,null,-1),t_=Xn("div",{class:"squareoff quote"},'"How augmented reality and virtual reality are taking their places in contemporary media culture alongside film and television." ',-1);var n_={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",Zx,[Xn("div",Xx,[Jn(am,{msg:"Book: Reality Media"}),Jx,Qx,Kx,e_,t_])])]))};class r_ extends zd{constructor(e,t,n={}){super(n_,e,t,n),this.isInteractive=!0}}var i_=function(e={}){let t=new r_(600,475,e);return t.mount(),t};const s_={id:"room",class:"darkwall"},a_={class:"spacer"},o_=Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/5b14da96e2889ff2.jpg",width:"400"},null,-1),u_=Xn("br",null,null,-1),c_=Xn("br",null,null,-1),l_=Xn("div",{class:"squareoff"},[Kn("*Realitymedia* is built on top of Mozilla's open-source platform. An extensive guide to using Mozilla Hubs is available at "),Xn("a",{href:"https://hubs.mozilla.com/docs/intro-hubs.html",target:"blank"},"in the Hubs user documentation"),Kn(". Here are the highlights: "),Xn("br"),Xn("br"),Kn(" Before entering, you are in the room's lobby. From here, you can see and hear what's going on inside the room, but you can only interact with others using text chat. "),Xn("br"),Xn("br")],-1);var h_={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",s_,[Xn("div",a_,[o_,u_,c_,Jn(am,{msg:"The Hubs Platform"}),l_])])]))};class p_ extends zd{constructor(e,t,n={}){super(h_,e,t,n),this.isInteractive=!0}}var f_=function(e={}){let t=new p_(600,475,e);return t.mount(),t};const d_=[er('<div id="room" class="darkwall"><div class="spacer"><div class="squareoff"><br><br><br><div class="keyPoint">To enter the room:</div><br> - On a desktop or mobile device, follow the prompts to select a name/avatar and enable the mic. <br> - On a VR headset, if you opened the URL on your desktop or smartphone, choose &quot;Enter on Standalone VR&quot; to create a code that makes it easy to open on your standalone headset. Open the browser in your VR headset, navigate to hubs.link and enter the code. <br><br><div class="keyPoint">To navigate in Hubs:</div><br> - On desktop use your WASD or arrow keys to move around. You can also press your right mouse button to teleport to a different location. Rotate your view using the Q and E keys, or hold down your left mouse button and drag. <br> - For VR and mobile controls, see the list of <a href="https://hubs.mozilla.com/docs/hubs-controls.html" target="blank">Hubs controls.</a></div></div></div>',1)];var m_={setup:e=>(e,t)=>(jn(),Hn("div",null,d_))};class g_ extends zd{constructor(e,t,n={}){super(m_,e,t,n),this.isInteractive=!0}}var v_=function(e={}){let t=new g_(600,475,e);return t.mount(),t};const y_={id:"room",class:"darkwall"},w_={class:"spacer"},b_=Xn("br",null,null,-1),x_=Xn("div",{class:"squareoff"}," The figure below indicates how to mute your microphone, take photos, share your screen, create media objects, and so on: ",-1),__=Xn("br",null,null,-1),M_=Xn("br",null,null,-1),E_=Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/5d42bc6b2a074ccd.png",width:"400"},null,-1);var N_={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",y_,[Xn("div",w_,[Jn(am,{msg:"Features in Hubs"}),b_,x_,__,M_,E_])])]))};class S_ extends zd{constructor(e,t,n={}){super(N_,e,t,n)}}var T_=function(e={}){let t=new S_(600,475,e);return t.mount(),t};const O_={id:"room",class:"darkwall"},C_={class:"spacer"},A_=Xn("br",null,null,-1),R_=Xn("br",null,null,-1);var k_={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",O_,[Xn("div",C_,[Jn(am,{msg:"Standing on the Audio Pads will start the narration about the room or the sound of the video clip."}),A_,R_])])]))};class z_ extends zd{constructor(e,t,n={}){super(k_,e,t,n)}}var D_=function(e={}){let t=new z_(600,475,e);return t.mount(),t};const I_={id:"room",class:"darkwall"},L_={class:"spacer"},B_=Xn("br",null,null,-1),P_=Xn("div",{class:"squareoff"},[Xn("div",{class:"keyPoint"},"Visit the exhibit with friends"),Kn(" Sharing the URL of the room you are currently in will allow others to join your experience. "),Xn("br"),Xn("br"),Xn("div",{class:"keyPoint"},"Favorite your room"),Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/82a911d289cd2836.png",width:"400"}),Xn("br"),Kn(" Set your room as a favorite under the 'more' menu. Then, you can easily revisit the room from the list in the 'favorite rooms'. ")],-1);var F_={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",I_,[Xn("div",L_,[Jn(am,{msg:"Other ways to use the room"}),B_,P_])])]))};class j_ extends zd{constructor(e,t,n={}){super(F_,e,t,n)}}var U_=function(e={}){let t=new j_(600,475,e);return t.mount(),t};const q_=[Xn("div",{id:"room",class:"darkwall"},[Xn("div",{class:"spacer"},[Xn("br"),Xn("div",{class:"keyPoint"},"Here is a map, which you will also find posted through the galleries"),Xn("br"),Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/013b754af9ebcd32.png",width:"400"})])],-1)];var V_={setup:e=>(e,t)=>(jn(),Hn("div",null,q_))};class H_ extends zd{constructor(e,t,n={}){super(V_,e,t,n)}}var $_=function(e={}){let t=new H_(600,475,e);return t.mount(),t};const W_=[Xn("div",{id:"room",class:"darkwall"},[Xn("div",{class:"spacer"},[Xn("div",{class:"squareoff"},[Xn("br"),Xn("br"),Xn("br"),Xn("br"),Xn("br"),Kn(" Each gallery in this “immersive book” corresponds to one or more chapters in the printed book and illustrates the themes of the printed chapter(s). (See the map on the far wall for the names/themes of the galleries.) For example, the gallery entitled “Presence” illustrates both presence and the related concept of aura and how computer scientists as well as filmmakers and designers have tried to evoke these reactions in visitors to their immersive applications. ")])])],-1)];var G_={setup:e=>(e,t)=>(jn(),Hn("div",null,W_))};class Y_ extends zd{constructor(e,t,n={}){super(G_,e,t,n)}}var Z_=function(e={}){let t=new Y_(600,475,e);return t.mount(),t};const X_={id:"room",class:"darkwall"},J_={class:"spacer"},Q_={href:"https://realitymedia.digital/"},K_=Xn("iframe",{class:"webIframe",src:"https://realitymedia.digital/",title:"realitymedia website",width:"1024",height:"768",style:{"-webkit-transform":"scale(0.5)"}},null,-1);var eM={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",X_,[Xn("div",J_,[Xn("a",Q_,[Jn(am,{msg:"Click here to return back to the website"})]),K_])])]))};class tM extends zd{constructor(e,t,n={}){super(eM,e,t,n)}}var nM=function(){let e=new tM(600,475);return e.mount(),e};const rM={id:"room",class:"darkwall"},iM={class:"spacer"},sM=Xn("br",null,null,-1),aM=Xn("br",null,null,-1);var oM={setup:e=>(e,t)=>(jn(),Hn("div",null,[Xn("div",rM,[Xn("div",iM,[sM,aM,Jn(am,{msg:"Back to the main exhibition"})])])]))};class uM extends zd{constructor(e,t,n={}){super(oM,e,t,n)}}var cM=function(e={}){let t=new uM(600,475,e);return t.mount(),t};const lM=[Xn("div",{id:"room",class:"darkwall"},[Xn("div",{class:"spacer"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/56a868a533e19312.jpg",width:"400"})])],-1)];var hM={setup:e=>(e,t)=>(jn(),Hn("div",null,lM))};class pM extends zd{constructor(e,t,n={}){super(hM,e,t,n)}}var fM=function(e={}){let t=new pM(600,475,e);return t.mount(),t};const dM=[Xn("div",{id:"room",class:"darkwall"},[Xn("div",{class:"spacer"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/af587fad0d60df12.jpg",width:"400"})])],-1)];var mM={setup:e=>(e,t)=>(jn(),Hn("div",null,dM))};class gM extends zd{constructor(e,t,n={}){super(mM,e,t,n)}}var vM=function(e={}){let t=new gM(600,475,e);return t.mount(),t};const yM=[Xn("div",{id:"room",class:"darkwall"},[Xn("div",{class:"spacer"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/478bac09ec86f1f0.jpg",width:"400"})])],-1)];var wM={setup:e=>(e,t)=>(jn(),Hn("div",null,yM))};class bM extends zd{constructor(e,t,n={}){super(wM,e,t,n)}}var xM=function(e={}){let t=new bM(600,475,e);return t.mount(),t};const _M=[Xn("div",{id:"room",class:"darkwall"},[Xn("div",{class:"spacer"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/59bf2c99f5a219c7.png",width:"400"})])],-1)];var MM={setup:e=>(e,t)=>(jn(),Hn("div",null,_M))};class EM extends zd{constructor(e,t,n={}){super(MM,e,t,n)}}var NM=function(e={}){let t=new EM(600,475,e);return t.mount(),t};const SM=[Xn("div",{id:"room",class:"darkwall"},[Xn("div",{class:"spacer"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/02780848b584f501.jpg",width:"400"})])],-1)];var TM={setup:e=>(e,t)=>(jn(),Hn("div",null,SM))};class OM extends zd{constructor(e,t,n={}){super(TM,e,t,n)}}var CM=function(e={}){let t=new OM(600,475,e);return t.mount(),t};const AM=[Xn("div",{id:"room",class:"darkwall"},[Xn("div",{class:"spacer"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/4d13871f7b21598b.jpg",width:"400"})])],-1)];var RM={setup:e=>(e,t)=>(jn(),Hn("div",null,AM))};class kM extends zd{constructor(e,t,n={}){super(RM,e,t,n)}}var zM=function(e={}){let t=new kM(600,475,e);return t.mount(),t};const DM=[Xn("div",{id:"room",class:"darkwall"},[Xn("div",{class:"spacer"},[Xn("img",{src:"https://www.natekoe.com//vue-apps/dist/c7eaf0a5d9ea316f.jpg",width:"400"})])],-1)];var IM={setup:e=>(e,t)=>(jn(),Hn("div",null,DM))};class LM extends zd{constructor(e,t,n={}){super(IM,e,t,n)}}var BM=function(e={}){let t=new LM(600,475,e);return t.mount(),t};const PM={id:"room"},FM={class:"spacer"},jM=Xn("br",null,null,-1),UM=Xn("br",null,null,-1),qM={class:"squareoff"};var VM={setup(e){let t=Dt("params");var n=t&&t.parameter1?t.parameter1:"How to Use the Audio Pads",r=t&&t.parameter2?t.parameter2:"start the narrations about the room you are currently in";return(e,t)=>(jn(),Hn("div",null,[Xn("div",PM,[Xn("div",FM,[Jn(am,{msg:pt(n)},null,8,["msg"]),jM,UM,Xn("div",qM,"Standing on the Audio Pads will "+u(pt(r)),1)])])]))}};class HM extends zd{constructor(e,t,n={}){super(VM,e,t,n)}}var $M=function(e={}){let t=new HM(600,475,e);return t.mount(),t};const WM={id:"room",class:"darkwall"},GM={class:"spacer-side"},YM=Xn("br",null,null,-1),ZM={class:"squareoff labelTitle"},XM={class:"squareoff"},JM=Xn("br",null,null,-1);var QM={setup(e){let t=Dt("params");var n=t&&t.parameter1?t.parameter1:" ",r=t&&t.parameter2?t.parameter2:" ";return(e,t)=>(jn(),Hn("div",null,[Xn("div",WM,[Xn("div",GM,[YM,tr('<Title v-bind:msg="title" />'),Xn("div",ZM,u(pt(n)),1),Xn("div",XM,u(pt(r)),1),JM])])]))}};class KM extends zd{constructor(e,t,n={}){super(QM,e,t,n)}}var eE=function(e={}){let t=new KM(600,475,e);return t.mount(),t};const tE={id:"room",class:"darkwall"},nE={class:"spacer-side"},rE=Xn("br",null,null,-1),iE={class:"squareoff labelLgTitle"},sE={class:"squareoff labelLgBody"},aE=Xn("br",null,null,-1);var oE={setup(e){let t=Dt("params");var n=t&&t.parameter1?t.parameter1:" ",r=t&&t.parameter2?t.parameter2:" ";return(e,t)=>(jn(),Hn("div",null,[Xn("div",tE,[Xn("div",nE,[rE,tr('<Title v-bind:msg="title" />'),Xn("div",iE,u(pt(n)),1),Xn("div",sE,u(pt(r)),1),aE])])]))}};class uE extends zd{constructor(e,t,n={}){super(oE,e,t,n)}}var cE=function(e={}){let t=new uE(600,475,e);return t.mount(),t};const lE={id:"room",class:"darkwall"},hE={class:"spacer-side"},pE=Xn("br",null,null,-1),fE={class:"squareoff titleStyle"},dE=Xn("br",null,null,-1);var mE={setup(e){let t=Dt("params");var n=t&&t.parameter1?t.parameter1:" ";return(e,t)=>(jn(),Hn("div",null,[Xn("div",lE,[Xn("div",hE,[pE,tr('<Title v-bind:msg="title" />'),Xn("div",fE,u(pt(n)),1),dE])])]))}};class gE extends zd{constructor(e,t,n={}){super(mE,e,t,n)}}var vE=function(e={}){let t=new gE(600,475,e);return t.mount(),t};export{ov as ARVRHistory,fM as ARVR_monolith,Oy as Absence_Mediation,Qg as Alyx,iy as Apparizione,by as ArtBanner,$M as AudioPad,D_ as AudioText,Ey as Aura,nM as Back,Wv as BeatSaber,Cm as Center1,Dm as Center2,Um as Center3,Wm as Center4,Qm as Center5,rg as Center6,ug as Center7,Ev as ChainDiagram,sw as Empathy,cM as Exit,BM as Future_monolith,my as GamesBanner,Ly as Gaudi,jy as Gaudi_pic,CM as Genres_monolith,xM as Graphics_monolith,vM as History_monolith,T_ as HubsFeatures,f_ as HubsPlatform,v_ as HubsPlatform2,eE as Label,cE as Label_lg,Ab as Laciotat,cw as Mainmap_black,xm as Map,dv as MilgramSpectrum,Iw as Milk,Fw as Milk_pic,ly as Minecraft,Yx as MitPress,i_ as MitText,fg as Monolith1,yg as Monolith2,Mg as Monolith3,Og as Monolith4,zg as Monolith5,Pg as Monolith6,Vg as Monolith7,Xw as Nonnie,eb as Nonnie_pic,Z_ as Overview,Pb as Parthenon,ax as Pit,yx as PitInstruction,pb as Pit_AR,ib as Pit_Experiment,Db as PlaceandSpace,jv as Pokemon,mm as PortalSubtitle,Dv as PortalTable,lm as PortalTitle,gb as Presence,dw as Presence_map,yw as Presence_map2,_w as Presence_map3,NM as Presence_monolith,zM as Privacy_monolith,U_ as Sharing,Xb as Terracotta,qb as TerracottaPic,vE as Title,Sb as Treehugger,Qv as WalkingDead,jx as Welcome,Wy as cybersickness,Xy as cybersickness_pic,Ld as hubsTest1,Wd as hubsTest2,sm as hubsTest3,Rd as initializeEthereal,Nx as pitSign1,kx as pitSign2,$_ as rotundaMap,kd as systemTick};
